"use strict";(self.webpackChunkstemhub_app=self.webpackChunkstemhub_app||[]).push([[179],{938:(Sr,Oe,on)=>{on.r(Oe),on.d(Oe,{AudioSourceState:()=>ae,BrowserClient:()=>Gs,BrowserMicrophone:()=>st,CloudDecoder:()=>Ql,ControllerSignal:()=>Pe,DecoderDefaultOptions:()=>_n,DecoderState:()=>ce,DefaultSampleRate:()=>We,ErrAlreadyInitialized:()=>sn,ErrAlreadyStarted:()=>Vs,ErrAlreadyStopped:()=>ur,ErrAppIdChangeWithoutProjectLogin:()=>Mt,ErrDeviceNotSupported:()=>J,ErrKeyNotFound:()=>Hn,ErrNoAudioConsent:()=>Pt,ErrNoStorageSupport:()=>an,ErrNotInitialized:()=>Ot,EventCallbacks:()=>Kr,ListenerArray:()=>Rt,SegmentState:()=>ge,StreamDefaultOptions:()=>eo,VadDefaultOptions:()=>Er,WebsocketError:()=>it,WebsocketResponseType:()=>Ne,WorkerSignal:()=>ot,stateToString:()=>ln});const J=new Error("Current device does not support microphone API"),Mt=new Error("AppId changed without project login");class it extends Error{constructor(h,p,v,...S){super(...S),this.name=`WebsocketError code ${p}`,this.message=h,this.code=p,this.wasClean=v}}const We=16e3;class ge{constructor(h,p){this.isFinalized=!1,this.words=[],this.entities=new Map,this.intent={intent:"",isFinal:!1},this.contextId=h,this.id=p}toSegment(){let h=0;const p=new Array(this.entities.size);return this.entities.forEach(v=>{p[h]=v,h++}),{id:this.id,contextId:this.contextId,isFinal:this.isFinalized,words:this.words,entities:p,intent:this.intent}}toString(){const h=this.toSegment(),p=h.words.filter(S=>S.value),v=Object.assign(Object.assign({},h),{words:p});return JSON.stringify(v,null,2)}updateTranscript(h){return h.forEach(p=>{(!this.isFinalized||p.isFinal)&&(this.words[p.index]=p)}),this}updateEntities(h){return h.forEach(p=>{(!this.isFinalized||p.isFinal)&&this.entities.set(this.entityMapKey(p),p)}),this}updateIntent(h){return(!this.isFinalized||h.isFinal)&&(this.intent=h),this}finalize(){return this.entities.forEach((h,p)=>{h.isFinal||this.entities.delete(p)}),this.words=this.words.filter(h=>h.isFinal),this.intent.isFinal||(this.intent.intent="",this.intent.isFinal=!0),this.isFinalized=!0,this}entityMapKey(h){return`${h.startPosition.toString()}:${h.endPosition.toString()}`}}function N(I,h,p,v){return new(p||(p=Promise))(function(E,z){function Z(se){try{ze(v.next(se))}catch(at){z(at)}}function Q(se){try{ze(v.throw(se))}catch(at){z(at)}}function ze(se){se.done?E(se.value):function S(E){return E instanceof p?E:new p(function(z){z(E)})}(se.value).then(Z,Q)}ze((v=v.apply(I,h||[])).next())})}const Ot=new Error("Microphone is not initialized"),sn=new Error("Microphone is already initialized"),Pt=new Error("Microphone consent is not given");var ae=(()=>{return(I=ae||(ae={})).NoAudioConsent="NoAudioConsent",I.NoBrowserSupport="NoBrowserSupport",I.Stopped="Stopped",I.Starting="Starting",I.Started="Started",ae;var I})();class st{constructor(){this.muted=!1,this.initialized=!1,this.state=ae.Stopped,this.debug=!1,this.stateChangeCbs=[];try{const h=window.navigator.mediaDevices.getSupportedConstraints();this.nativeResamplingSupported=!0===h.sampleRate,this.autoGainControlSupported=!0===h.autoGainControl}catch{this.nativeResamplingSupported=!1,this.autoGainControlSupported=!1}}onStateChange(h){this.stateChangeCbs.push(h)}initialize(){var h;return N(this,void 0,void 0,function*(){if(this.initialized)return;if(void 0===(null===(h=window.navigator)||void 0===h?void 0:h.mediaDevices))throw this.setState(ae.NoBrowserSupport),J;const p={video:!1};p.audio=!this.nativeResamplingSupported&&!this.autoGainControlSupported||{sampleRate:We,autoGainControl:this.autoGainControlSupported};try{this.setState(ae.Starting),this.mediaStream=yield window.navigator.mediaDevices.getUserMedia(p)}catch(v){throw this.setState(ae.NoAudioConsent),console.error(v),Pt}this.initialized=!0,this.muted=!0,this.setState(ae.Started)})}setState(h){this.state!==h&&(this.debug&&console.log("[BrowserMicrophone]",this.state,"->",h),this.state=h,this.stateChangeCbs.forEach(p=>p(h)))}close(){return N(this,void 0,void 0,function*(){this.initialized&&(this.muted=!0,this.mediaStream.getTracks().forEach(p=>p.stop()),this.mediaStream=void 0,this.initialized=!1,this.setState(ae.Stopped))})}isRecording(){return!this.muted}}var Ne=(()=>{return(I=Ne||(Ne={})).Started="started",I.Stopped="stopped",I.SegmentEnd="segment_end",I.Transcript="transcript",I.Entity="entity",I.Intent="intent",I.TentativeTranscript="tentative_transcript",I.TentativeEntities="tentative_entities",I.TentativeIntent="tentative_intent",Ne;var I})(),ot=(()=>{return(I=ot||(ot={})).Opened="WEBSOCKET_OPEN",I.Closed="WEBSOCKET_CLOSED",I.AudioProcessorReady="SOURCE_SAMPLE_RATE_SET_SUCCESS",I.VadSignalHigh="VadSignalHigh",I.VadSignalLow="VadSignalLow",I.RequestContextStart="RequestContextStart",ot;var I})(),Pe=(()=>{return(I=Pe||(Pe={})).connect="connect",I.initAudioProcessor="initAudioProcessor",I.adjustAudioProcessor="adjustAudioProcessor",I.SET_SHARED_ARRAY_BUFFERS="SET_SHARED_ARRAY_BUFFERS",I.CLOSE="CLOSE",I.START_CONTEXT="START_CONTEXT",I.SWITCH_CONTEXT="SWITCH_CONTEXT",I.STOP_CONTEXT="STOP_CONTEXT",I.AUDIO="AUDIO",I.startStream="startStream",I.stopStream="stopStream",I.setContextOptions="setContextOptions",Pe;var I})();const an=new Error("Current device does not support storage API"),Hn=new Error("Requested key was not present in storage"),_n={connect:!0,apiUrl:"https://api.speechly.com",sampleRate:We,debug:!1,logSegments:!1,frameMillis:30,historyFrames:5},Er={enabled:!1,controlListening:!0,signalToNoiseDb:3,noiseGateDb:-24,noiseLearnHalftimeMillis:400,signalSearchFrames:5,signalActivation:.7,signalRelease:.2,signalSustainMillis:3e3},eo={preserveSegments:!1,sampleRate:We,immediate:!1,autoStarted:!1};var ce=(()=>{return(I=ce||(ce={}))[I.Failed=0]="Failed",I[I.Disconnected=1]="Disconnected",I[I.Connected=2]="Connected",I[I.Active=3]="Active",ce;var I})();class Rt extends Array{addEventListener(h){this.push(h)}removeEventListener(h){const p=this.findIndex(v=>v===h);p>=0&&this.splice(p,1)}}class Kr{constructor(){this.stateChangeCbs=new Rt,this.transcriptCbs=new Rt,this.entityCbs=new Rt,this.intentCbs=new Rt,this.segmentChangeCbs=new Rt,this.tentativeTranscriptCbs=new Rt,this.tentativeEntityCbs=new Rt,this.tentativeIntentCbs=new Rt,this.contextStartedCbs=new Rt,this.contextStoppedCbs=new Rt,this.onVadStateChange=new Rt}}const Vs=new Error("BrowserClient already started"),ur=new Error("BrowserClient already stopped");function ln(I){var h;return null!==(h=jl.get(I))&&void 0!==h?h:"unknown"}const jl=new Map([[ce.Failed,"Failed"],[ce.Disconnected,"Disconnected"],[ce.Connected,"Connected"],[ce.Active,"Active"]]);var cr,Xl=new Uint8Array(16);function to(){if(!cr&&!(cr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cr(Xl)}var Un=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Yl(I){return"string"==typeof I&&Un.test(I)}for(var He=[],Se=0;Se<256;++Se)He.push((Se+256).toString(16).substr(1));function Os(I,h,p){var v=(I=I||{}).random||(I.rng||to)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,h){p=p||0;for(var S=0;S<16;++S)h[p+S]=v[S];return h}return function ks(I){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=(He[I[h+0]]+He[I[h+1]]+He[I[h+2]]+He[I[h+3]]+"-"+He[I[h+4]]+He[I[h+5]]+"-"+He[I[h+6]]+He[I[h+7]]+"-"+He[I[h+8]]+He[I[h+9]]+"-"+He[I[h+10]]+He[I[h+11]]+He[I[h+12]]+He[I[h+13]]+He[I[h+14]]+He[I[h+15]]).toLowerCase();if(!Yl(p))throw TypeError("Stringified UUID is invalid");return p}(v)}var I,h,no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ro={exports:{}};function io(I,h,p,v,S=Date.now){const E=function Ue(I){const h=I.split(".")[1];let p;try{p=JSON.parse(ro.exports.decode(h))}catch{throw new Error("Error decoding Speechly token!")}return{appId:p.appId,projectId:p.projectId,deviceId:p.deviceId,configId:p.configId,scopes:p.scope.split(" "),issuer:p.iss,audience:p.aud,expiresAtMs:1e3*p.exp}}(I);return!(E.expiresAtMs-S()<36e5||E.appId!==p||E.projectId!==h||E.deviceId!==v)}I=ro,h=ro.exports,function(p){var v=h,S=I&&I.exports==v&&I,E="object"==typeof no&&no;(E.global===E||E.window===E)&&(p=E);var z=function(re){this.message=re};(z.prototype=new Error).name="InvalidCharacterError";var Z=function(re){throw new z(re)},Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ze=/[\t\n\f\r ]/g,Ie={encode:function(re){re=String(re),/[^\0-\xFF]/.test(re)&&Z("The string to be encoded contains characters outside of the Latin1 range.");for(var Tt,Bt,je,ve,xe=re.length%3,yt="",et=-1,Ls=re.length-xe;++et<Ls;)Tt=re.charCodeAt(et)<<16,Bt=re.charCodeAt(++et)<<8,je=re.charCodeAt(++et),yt+=Q.charAt((ve=Tt+Bt+je)>>18&63)+Q.charAt(ve>>12&63)+Q.charAt(ve>>6&63)+Q.charAt(63&ve);return 2==xe?(Tt=re.charCodeAt(et)<<8,Bt=re.charCodeAt(++et),yt+=Q.charAt((ve=Tt+Bt)>>10)+Q.charAt(ve>>4&63)+Q.charAt(ve<<2&63)+"="):1==xe&&(ve=re.charCodeAt(et),yt+=Q.charAt(ve>>2)+Q.charAt(ve<<4&63)+"=="),yt},decode:function(re){var xe=(re=String(re).replace(ze,"")).length;xe%4==0&&(xe=(re=re.replace(/==?$/,"")).length),(xe%4==1||/[^+a-zA-Z0-9/]/.test(re))&&Z("Invalid character: the string to be decoded is not correctly encoded.");for(var et,Tt,yt=0,Bt="",je=-1;++je<xe;)Tt=Q.indexOf(re.charAt(je)),et=yt%4?64*et+Tt:Tt,yt++%4&&(Bt+=String.fromCharCode(255&et>>(-2*yt&6)));return Bt},version:"0.1.0"};if(v&&!v.nodeType)if(S)S.exports=Ie;else for(var Sn in Ie)Ie.hasOwnProperty(Sn)&&(v[Sn]=Ie[Sn]);else p.base64=Ie}(no);var oo=function ne(I,h,p){var v;return function(E){return v=v||function $l(I,h,p){var v=void 0===h?null:h,E=function Be(I,h){var p=atob(I);if(h){for(var v=new Uint8Array(p.length),S=0,E=p.length;S<E;++S)v[S]=p.charCodeAt(S);return String.fromCharCode.apply(null,new Uint16Array(v.buffer))}return p}(I,void 0!==p&&p),z=E.indexOf("\n",10)+1,Z=E.substring(z)+(v?"//# sourceMappingURL="+v:""),Q=new Blob([Z],{type:"application/javascript"});return URL.createObjectURL(Q)}(I,h,p),new Worker(v,E)}}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvKioKICAgICAqIEBpbnRlcm5hbAogICAgICovCiAgICBjbGFzcyBBdWRpb1Rvb2xzIHsKICAgICAgICBzdGF0aWMgZG93bnNhbXBsZShzcmMsIGRlc3QsIHNvdXJjZUluZGV4ID0gMCwgc291cmNlTGVuZ3RoID0gLTEsIGRlc3RJbmRleCA9IDAsIGRlc3RMZW5ndGggPSAtMSkgewogICAgICAgICAgICBpZiAoc291cmNlTGVuZ3RoIDwgMCkKICAgICAgICAgICAgICAgIHNvdXJjZUxlbmd0aCA9IHNyYy5sZW5ndGggLSBzb3VyY2VJbmRleDsKICAgICAgICAgICAgaWYgKGRlc3RMZW5ndGggPCAwKQogICAgICAgICAgICAgICAgZGVzdExlbmd0aCA9IGRlc3QubGVuZ3RoIC0gZGVzdEluZGV4OwogICAgICAgICAgICBpZiAoZGVzdExlbmd0aCA+IHNvdXJjZUxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBkb3duc2FtcGxlOiBzb3VyY2UgYXJyYXkgbGVuZ3RoICgke3NvdXJjZUxlbmd0aH0pIGlzIHNob3J0ZXIgdGhhbiBkZXN0aW5hdGlvbiAoJHtkZXN0TGVuZ3RofSlgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZGVzdExlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBkb3duc2FtcGxlOiBzb3VyY2UgYXJyYXkgbGVuZ3RoICgke3NvdXJjZUxlbmd0aH0pIGNhbid0IGJlIGRvd25zYW1wbGVkIHRvIHplcm8tbGVuZ3RoIGRlc3RpbmF0aW9uLmApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzb3VyY2VMZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQ2FuJ3QgZG93bnNhbXBsZTogc291cmNlIHJhbmdlIGNhbid0IGJlIHplcm8gbGVuZ3RoLiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzb3VyY2VMZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgIGRlc3RbMF0gPSBzcmNbMF07CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGRlc3RJbmRleEZyYWN0aW9uID0gMC4wOwogICAgICAgICAgICBjb25zdCBkZXN0U3RlcCA9IChkZXN0TGVuZ3RoIC0gMSkgLyAoc291cmNlTGVuZ3RoIC0gMSk7CiAgICAgICAgICAgIGxldCBzdW0gPSAwOwogICAgICAgICAgICBsZXQgdG90YWxXZWlnaHQgPSAwOwogICAgICAgICAgICBjb25zdCBzb3VyY2VFbmRJbmRleCA9IHNvdXJjZUluZGV4ICsgc291cmNlTGVuZ3RoOwogICAgICAgICAgICBmb3IgKDsgc291cmNlSW5kZXggPCBzb3VyY2VFbmRJbmRleDsgc291cmNlSW5kZXgrKykgewogICAgICAgICAgICAgICAgY29uc3Qgd2VpZ2h0ID0gMC41IC0gTWF0aC5hYnMoZGVzdEluZGV4RnJhY3Rpb24pOwogICAgICAgICAgICAgICAgc3VtICs9IHNyY1tzb3VyY2VJbmRleF0gKiB3ZWlnaHQ7CiAgICAgICAgICAgICAgICB0b3RhbFdlaWdodCArPSB3ZWlnaHQ7CiAgICAgICAgICAgICAgICBkZXN0SW5kZXhGcmFjdGlvbiArPSBkZXN0U3RlcDsKICAgICAgICAgICAgICAgIGlmIChkZXN0SW5kZXhGcmFjdGlvbiA+PSAwLjUpIHsKICAgICAgICAgICAgICAgICAgICBkZXN0SW5kZXhGcmFjdGlvbiAtPSAxOwogICAgICAgICAgICAgICAgICAgIGRlc3RbZGVzdEluZGV4KytdID0gc3VtIC8gdG90YWxXZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgc3VtID0gMDsKICAgICAgICAgICAgICAgICAgICB0b3RhbFdlaWdodCA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gUHV0IGxhc3QgdmFsdWUgaW4gcGxhY2UKICAgICAgICAgICAgaWYgKHRvdGFsV2VpZ2h0ID4gMCkgewogICAgICAgICAgICAgICAgZGVzdFtkZXN0SW5kZXgrK10gPSBzdW0gLyB0b3RhbFdlaWdodDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGF0aWMgZ2V0RW5lcmd5KHNhbXBsZXMsIHN0YXJ0ID0gMCwgbGVuZ3RoID0gLTEpIHsKICAgICAgICAgICAgaWYgKGxlbmd0aCA8IDApCiAgICAgICAgICAgICAgICBsZW5ndGggPSBzYW1wbGVzLmxlbmd0aCAtIHN0YXJ0OwogICAgICAgICAgICBpZiAobGVuZ3RoIDw9IDApCiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSBzdGFydCArIGxlbmd0aDsKICAgICAgICAgICAgbGV0IHN1bUVuZXJneVNxdWFyZWQgPSAwLjA7CiAgICAgICAgICAgIGZvciAoOyBzdGFydCA8IGVuZEluZGV4OyBzdGFydCsrKSB7CiAgICAgICAgICAgICAgICBzdW1FbmVyZ3lTcXVhcmVkICs9IHNhbXBsZXNbc3RhcnRdICogc2FtcGxlc1tzdGFydF07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydChzdW1FbmVyZ3lTcXVhcmVkIC8gbGVuZ3RoKTsKICAgICAgICB9CiAgICAgICAgc3RhdGljIGdldEF1ZGlvUGVhayhzYW1wbGVzLCBzdGFydCA9IDAsIGxlbmd0aCA9IC0xKSB7CiAgICAgICAgICAgIGlmIChsZW5ndGggPCAwKQogICAgICAgICAgICAgICAgbGVuZ3RoID0gc2FtcGxlcy5sZW5ndGggLSBzdGFydDsKICAgICAgICAgICAgaWYgKGxlbmd0aCA8PSAwKQogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnQgKyBsZW5ndGg7CiAgICAgICAgICAgIGxldCBwZWFrID0gMDsKICAgICAgICAgICAgZm9yICg7IHN0YXJ0IDwgZW5kSW5kZXg7IHN0YXJ0KyspIHsKICAgICAgICAgICAgICAgIGlmIChzYW1wbGVzW3N0YXJ0XSA+IHBlYWspIHsKICAgICAgICAgICAgICAgICAgICBwZWFrID0gc2FtcGxlc1tzdGFydF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHBlYWs7CiAgICAgICAgfQogICAgICAgIHN0YXRpYyBjb252ZXJ0SW50MTZUb0Zsb2F0KHNyYywgZGVzdCwgc3JjU3RhcnRTYW1wbGUgPSAwLCBsZW5ndGhTYW1wbGVzID0gLTEsIGRzdEluZGV4ID0gMCkgewogICAgICAgICAgICBpZiAobGVuZ3RoU2FtcGxlcyA8IDApCiAgICAgICAgICAgICAgICBsZW5ndGhTYW1wbGVzID0gc3JjLmxlbmd0aCAvIDIgLSBzcmNTdGFydFNhbXBsZTsKICAgICAgICAgICAgY29uc3QgbWF4TGVuID0gTWF0aC5taW4oKHNyYy5sZW5ndGggLyAyKSAtIHNyY1N0YXJ0U2FtcGxlLCBkZXN0Lmxlbmd0aCAtIGRzdEluZGV4KTsKICAgICAgICAgICAgbGVuZ3RoU2FtcGxlcyA9IE1hdGgubWluKGxlbmd0aFNhbXBsZXMsIG1heExlbik7CiAgICAgICAgICAgIGlmIChsZW5ndGhTYW1wbGVzIDw9IDApCiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgbGV0IGJ5dGVJbmRleCA9IHNyY1N0YXJ0U2FtcGxlICogMjsKICAgICAgICAgICAgY29uc3QgZW5kQnl0ZSA9IGJ5dGVJbmRleCArIGxlbmd0aFNhbXBsZXMgKiAyOwogICAgICAgICAgICB3aGlsZSAoYnl0ZUluZGV4IDwgZW5kQnl0ZSkgewogICAgICAgICAgICAgICAgZGVzdFtkc3RJbmRleCsrXSA9ICgoc3JjW2J5dGVJbmRleCsrXSArIChzcmNbYnl0ZUluZGV4KytdIDw8IDgpKSkgLyAweDdmZmY7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGxlbmd0aFNhbXBsZXM7CiAgICAgICAgfQogICAgICAgIHN0YXRpYyBjb252ZXJ0RmxvYXRUb0ludDE2KHNyYywgZGVzdCwgc291cmNlSW5kZXggPSAwLCBzb3VyY2VMZW5ndGggPSAtMSwgZHN0SW5kZXggPSAwKSB7CiAgICAgICAgICAgIGlmIChzb3VyY2VMZW5ndGggPCAwKQogICAgICAgICAgICAgICAgc291cmNlTGVuZ3RoID0gc3JjLmxlbmd0aCAtIHNvdXJjZUluZGV4OwogICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHNvdXJjZUluZGV4ICsgc291cmNlTGVuZ3RoOwogICAgICAgICAgICB3aGlsZSAoc291cmNlSW5kZXggPCBlbmRJbmRleCkgewogICAgICAgICAgICAgICAgZGVzdFtkc3RJbmRleCsrXSA9IH5+KHNyY1tzb3VyY2VJbmRleCsrXSAqIDB4N2ZmZik7IC8vIFF1aWNrIHRydW5jYXRlLCBubyByb3VuZGluZwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0YXRpYyBlbmVyZ3lUb0RiKGVuZXJneSkgewogICAgICAgICAgICByZXR1cm4gKDEwLjAgKiBNYXRoLmxvZyhlbmVyZ3kpIC8gQXVkaW9Ub29scy5MT0dfMl9QTFVTX0xPR181KTsKICAgICAgICB9CiAgICAgICAgc3RhdGljIGRiVG9FbmVyZ3koZGIpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgucG93KDEwLjAsIGRiIC8gMTAuMCk7CiAgICAgICAgfQogICAgfQogICAgQXVkaW9Ub29scy5MT0dfMl9QTFVTX0xPR181ID0gTWF0aC5sb2coMikgKyBNYXRoLmxvZyg1KTsKCiAgICAvKioKICAgICAqIEBpbnRlcm5hbAogICAgICovCiAgICBjbGFzcyBBdWRpb1Byb2Nlc3NvciB7CiAgICAgICAgY29uc3RydWN0b3IoaW5wdXRTYW1wbGVSYXRlLCBvdXRwdXRTYW1wbGVSYXRlLCBmcmFtZU1pbGxpcywgaGlzdG9yeUZyYW1lcykgewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogU2VuZGluZyBzdGF0ZS4gSWYgdHJ1ZSwgQXVkaW9Qcm9jZXNzb3IgaXMgY3VycmVudGx5IHNlbmRpbmcgYXVkaW8gdmlhIG9uU2VuZEF1ZGlvIGNhbGxiYWNrCiAgICAgICAgICAgICAqLwogICAgICAgICAgICB0aGlzLmlzU2VuZGluZyA9IGZhbHNlOwogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQ3VycmVudCBjb3VudCBvZiBkb3duc2FtcGxlZCBhbmQgY29udGludW91c2x5IHByb2Nlc3NlZCBzYW1wbGVzICh0aHJ1IFByb2Nlc3NBdWRpbykgZnJvbSBzdGFydCBvZiBzdHJlYW0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHRoaXMuc3RyZWFtU2FtcGxlUG9zID0gMDsKICAgICAgICAgICAgdGhpcy5zYW1wbGVzU2VudCA9IDA7CiAgICAgICAgICAgIHRoaXMudXR0ZXJhbmNlU2VyaWFsID0gLTE7CiAgICAgICAgICAgIHRoaXMub25TZW5kQXVkaW8gPSAoc2FtcGxlcywgc3RhcnRJbmRleCwgbGVuZ3RoKSA9PiB7IH07CiAgICAgICAgICAgIHRoaXMub25WYWRTdGF0ZUNoYW5nZSA9IChpc1NpZ25hbERldGVjdGVkKSA9PiB7IH07CiAgICAgICAgICAgIHRoaXMuaW5wdXRTYW1wbGVSYXRlID0gMTYwMDA7CiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTYW1wbGVSYXRlID0gMTYwMDA7CiAgICAgICAgICAgIHRoaXMuaGlzdG9yeUZyYW1lcyA9IDU7CiAgICAgICAgICAgIHRoaXMuZnJhbWVNaWxsaXMgPSAzMDsKICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWVOdW1iZXIgPSAwOwogICAgICAgICAgICB0aGlzLmZyYW1lU2FtcGxlUG9zID0gMDsKICAgICAgICAgICAgdGhpcy5zdHJlYW1GcmFtZVBvcyA9IDA7CiAgICAgICAgICAgIHRoaXMud2FzU2lnbmFsRGV0ZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5pbnB1dFNhbXBsZVJhdGUgPSBpbnB1dFNhbXBsZVJhdGU7CiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTYW1wbGVSYXRlID0gb3V0cHV0U2FtcGxlUmF0ZTsKICAgICAgICAgICAgdGhpcy5mcmFtZU1pbGxpcyA9IGZyYW1lTWlsbGlzOwogICAgICAgICAgICB0aGlzLmhpc3RvcnlGcmFtZXMgPSBoaXN0b3J5RnJhbWVzOwogICAgICAgICAgICB0aGlzLmZyYW1lU2FtcGxlcyA9IH5+KHRoaXMuaW50ZXJuYWxTYW1wbGVSYXRlICogdGhpcy5mcmFtZU1pbGxpcyAvIDEwMDApOwogICAgICAgICAgICB0aGlzLnNhbXBsZVJpbmdCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuZnJhbWVTYW1wbGVzICogdGhpcy5oaXN0b3J5RnJhbWVzKTsKICAgICAgICB9CiAgICAgICAgLyoqCiAgICAgICAgICogUHJvY2VzcyBzcGVlY2ggYXVkaW8gc2FtcGxlcyBmcm9tIGEgbWljcm9waG9uZSBvciBvdGhlciBhdWRpbyBzb3VyY2UuCiAgICAgICAgICoKICAgICAgICAgKiBZb3UgY2FuIGNvbnRyb2wgd2hlbiB0byBzdGFydCBhbmQgc3RvcCBwcm9jZXNzIHNwZWVjaCBlaXRoZXIgbWFudWFsbHkgd2l0aCA8c2VlIGNyZWY9IlN0YXJ0Q29udGV4dCIvPiBhbmQgPHNlZSBjcmVmPSJTdG9wQ29udGV4dCIvPiBvcgogICAgICAgICAqIGF1dG9tYXRpY2FsbHkgYnkgcHJvdmlkaW5nIGEgdm9pY2UgYWN0aXZpdHkgZGV0ZWN0aW9uIChWQUQpIGZpZWxkIHRvIDxzZWUgY3JlZj0iU3BlZWNobHlDbGllbnQiLz4uCiAgICAgICAgICoKICAgICAgICAgKiBUaGUgYXVkaW8gaXMgaGFuZGxlZCBhcyBmb2xsb3dzOgogICAgICAgICAqIC0gRG93bnNhbXBsZSB0byAxNmtIeiBpZiBuZWVkZWQKICAgICAgICAgKiAtIEFkZCB0byBoaXN0b3J5IHJpbmdidWZmZXIKICAgICAgICAgKiAtIENhbGN1bGF0ZSBlbmVyZ3kgKFZBRCkKICAgICAgICAgKiAtIEF1dG9tYXRpYyBTdGFydC9TdG9wQ29udGV4dCAoVkFEKQogICAgICAgICAqIC0gU2VuZCB1dHRlcmFuY2UgYXVkaW8gdG8gU3BlZWNobHkgU0xVIGRlY29kZXIKICAgICAgICAgKgogICAgICAgICAqIEBwYXJhbSBmbG9hdHMgLSBBcnJheSBvZiBmbG9hdCBjb250YWluaW5nIHNhbXBsZXMgdG8gZmVlZCB0byB0aGUgYXVkaW8gcGlwZWxpbmUuIEVhY2ggc2FtcGxlIG5lZWRzIHRvIGJlIGluIHJhbmdlIC0xZi4uMWYuCiAgICAgICAgICogQHBhcmFtIHN0YXJ0IC0gU3RhcnQgaW5kZXggb2YgYXVkaW8gdG8gcHJvY2VzcyBpbiBzYW1wbGVzIChkZWZhdWx0OiBgMGApLgogICAgICAgICAqIEBwYXJhbSBsZW5ndGggLSBMZW5ndGggb2YgYXVkaW8gdG8gcHJvY2VzcyBpbiBzYW1wbGVzIG9yIGAtMWAgdG8gcHJvY2VzcyB0aGUgd2hvbGUgYXJyYXkgKGRlZmF1bHQ6IGAtMWApLgogICAgICAgICAqIEBwYXJhbSBlb3NfYXRfZW5kIC0gU3RvcFN0cmVhbSBpbnRlcm5hbGx5IHVzZXMgdGhpcyB0byBmb3JjZSBwcm9jZXNzaW5nIG9mIGxhc3Qgc3ViZnJhbWUgYXQgZW5kIG9mIGF1ZGlvIHN0cmVhbSAoZGVmYXVsdDogYGZhbHNlYCkuCiAgICAgICAgICogQHJldHVybnMKICAgICAgICAgKi8KICAgICAgICBwcm9jZXNzQXVkaW8oZmxvYXRzLCBzdGFydCA9IDAsIGxlbmd0aCA9IC0xLCBlb3NfYXRfZW5kID0gZmFsc2UpIHsKICAgICAgICAgICAgaWYgKGxlbmd0aCA8IDApCiAgICAgICAgICAgICAgICBsZW5ndGggPSBmbG9hdHMubGVuZ3RoOwogICAgICAgICAgICBpZiAobGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoZW9zX2F0X2VuZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0VvcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBpID0gc3RhcnQ7CiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnQgKyBsZW5ndGg7CiAgICAgICAgICAgIHdoaWxlIChpIDwgZW5kSW5kZXgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lQmFzZSA9IHRoaXMuY3VycmVudEZyYW1lTnVtYmVyICogdGhpcy5mcmFtZVNhbXBsZXM7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dFNhbXBsZVJhdGUgPT09IHRoaXMuaW50ZXJuYWxTYW1wbGVSYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gQ29weSBpbnB1dCBzYW1wbGVzIHRvIGZpbGwgY3VycmVudCByaW5nYnVmZmVyIGZyYW1lCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FtcGxlc1RvRmlsbEZyYW1lID0gTWF0aC5taW4oZW5kSW5kZXggLSBpLCB0aGlzLmZyYW1lU2FtcGxlcyAtIHRoaXMuZnJhbWVTYW1wbGVQb3MpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lRW5kSW5kZXggPSB0aGlzLmZyYW1lU2FtcGxlUG9zICsgc2FtcGxlc1RvRmlsbEZyYW1lOwogICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmZyYW1lU2FtcGxlUG9zIDwgZnJhbWVFbmRJbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhbXBsZVJpbmdCdWZmZXJbZnJhbWVCYXNlICsgdGhpcy5mcmFtZVNhbXBsZVBvcysrXSA9IGZsb2F0c1tpKytdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIERvd25zYW1wbGUgaW5wdXQgc2FtcGxlcyB0byBmaWxsIGN1cnJlbnQgcmluZ2J1ZmZlciBmcmFtZQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGlvID0gMS4wICogdGhpcy5pbnB1dFNhbXBsZVJhdGUgLyB0aGlzLmludGVybmFsU2FtcGxlUmF0ZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFNhbXBsZXNUb0ZpbGxGcmFtZSA9IE1hdGgubWluKGVuZEluZGV4IC0gaSwgTWF0aC5yb3VuZChyYXRpbyAqICh0aGlzLmZyYW1lU2FtcGxlcyAtIHRoaXMuZnJhbWVTYW1wbGVQb3MpKSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FtcGxlc1RvRmlsbEZyYW1lID0gTWF0aC5taW4oTWF0aC5yb3VuZCgoZW5kSW5kZXggLSBpKSAvIHJhdGlvKSwgdGhpcy5mcmFtZVNhbXBsZXMgLSB0aGlzLmZyYW1lU2FtcGxlUG9zKTsKICAgICAgICAgICAgICAgICAgICBpZiAoc2FtcGxlc1RvRmlsbEZyYW1lID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBBdWRpb1Rvb2xzLmRvd25zYW1wbGUoZmxvYXRzLCB0aGlzLnNhbXBsZVJpbmdCdWZmZXIsIGksIGlucHV0U2FtcGxlc1RvRmlsbEZyYW1lLCBmcmFtZUJhc2UgKyB0aGlzLmZyYW1lU2FtcGxlUG9zLCBzYW1wbGVzVG9GaWxsRnJhbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpICs9IGlucHV0U2FtcGxlc1RvRmlsbEZyYW1lOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVTYW1wbGVQb3MgKz0gc2FtcGxlc1RvRmlsbEZyYW1lOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgZW9zID0gaSA9PT0gZW5kSW5kZXggJiYgZW9zX2F0X2VuZDsKICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgZnJhbWUKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lU2FtcGxlUG9zID09PSB0aGlzLmZyYW1lU2FtcGxlcyB8fCBlb3MpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJGcmFtZVNhbXBsZXMgPSBlb3MgPyB0aGlzLmZyYW1lU2FtcGxlUG9zIDogdGhpcy5mcmFtZVNhbXBsZXM7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRnJhbWUodGhpcy5zYW1wbGVSaW5nQnVmZmVyLCBmcmFtZUJhc2UsIHN1YkZyYW1lU2FtcGxlcywgZW9zKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1NlbmRpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2FtcGxlc1NlbnQgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IG9mIHRoZSB1dHRlcmFuY2UgLSBzZW5kIGhpc3RvcnkgZnJhbWVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZW5kSGlzdG9yeSA9IE1hdGgubWluKHRoaXMuc3RyZWFtRnJhbWVQb3MsIHRoaXMuaGlzdG9yeUZyYW1lcyAtIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpc3RvcnlGcmFtZUluZGV4ID0gKHRoaXMuY3VycmVudEZyYW1lTnVtYmVyICsgdGhpcy5oaXN0b3J5RnJhbWVzIC0gc2VuZEhpc3RvcnkpICUgdGhpcy5oaXN0b3J5RnJhbWVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGhpc3RvcnlGcmFtZUluZGV4ICE9PSB0aGlzLmN1cnJlbnRGcmFtZU51bWJlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TZW5kQXVkaW8odGhpcy5zYW1wbGVSaW5nQnVmZmVyLCBoaXN0b3J5RnJhbWVJbmRleCAqIHRoaXMuZnJhbWVTYW1wbGVzLCB0aGlzLmZyYW1lU2FtcGxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYW1wbGVzU2VudCArPSB0aGlzLmZyYW1lU2FtcGxlczsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5RnJhbWVJbmRleCA9IChoaXN0b3J5RnJhbWVJbmRleCArIDEpICUgdGhpcy5oaXN0b3J5RnJhbWVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TZW5kQXVkaW8odGhpcy5zYW1wbGVSaW5nQnVmZmVyLCBmcmFtZUJhc2UsIHN1YkZyYW1lU2FtcGxlcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FtcGxlc1NlbnQgKz0gc3ViRnJhbWVTYW1wbGVzOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZW9zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtU2FtcGxlUG9zICs9IHN1YkZyYW1lU2FtcGxlczsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRW9zKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZnJhbWVTYW1wbGVQb3MgPT09IHRoaXMuZnJhbWVTYW1wbGVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVTYW1wbGVQb3MgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbUZyYW1lUG9zICs9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtU2FtcGxlUG9zICs9IHN1YkZyYW1lU2FtcGxlczsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWVOdW1iZXIgPSAodGhpcy5jdXJyZW50RnJhbWVOdW1iZXIgKyAxKSAlIHRoaXMuaGlzdG9yeUZyYW1lczsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLndhc1NpZ25hbERldGVjdGVkID0gdGhpcy52YWQuaXNTaWduYWxEZXRlY3RlZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzZXRTZW5kQXVkaW8oYWN0aXZlKSB7CiAgICAgICAgICAgIHRoaXMuaXNTZW5kaW5nID0gYWN0aXZlOwogICAgICAgICAgICBpZiAoYWN0aXZlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNhbXBsZXNTZW50ID0gMDsKICAgICAgICAgICAgICAgIHRoaXMudXR0ZXJhbmNlU2VyaWFsKys7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmVzZXQoaW5wdXRTYW1wbGVSYXRlKSB7CiAgICAgICAgICAgIHZhciBfYTsKICAgICAgICAgICAgdGhpcy5pc1NlbmRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zdHJlYW1GcmFtZVBvcyA9IDA7CiAgICAgICAgICAgIHRoaXMuc3RyZWFtU2FtcGxlUG9zID0gMDsKICAgICAgICAgICAgdGhpcy5mcmFtZVNhbXBsZVBvcyA9IDA7CiAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lTnVtYmVyID0gMDsKICAgICAgICAgICAgdGhpcy51dHRlcmFuY2VTZXJpYWwgPSAtMTsKICAgICAgICAgICAgaWYgKGlucHV0U2FtcGxlUmF0ZSkKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTYW1wbGVSYXRlID0gaW5wdXRTYW1wbGVSYXRlOwogICAgICAgICAgICB0aGlzLndhc1NpZ25hbERldGVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIChfYSA9IHRoaXMudmFkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzZXRWQUQoKTsKICAgICAgICB9CiAgICAgICAgLyoqCiAgICAgICAgICogQHJldHVybnMgY3VycmVudCBwb3NpdGlvbiBpbiBzdHJlYW0gaW4gbWlsbGlzZWNvbmRzCiAgICAgICAgICovCiAgICAgICAgZ2V0U3RyZWFtUG9zaXRpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuc3RyZWFtU2FtcGxlUG9zIC8gdGhpcy5pbnRlcm5hbFNhbXBsZVJhdGUgKiAxMDAwKTsKICAgICAgICB9CiAgICAgICAgZW9zKCkgewogICAgICAgICAgICB0aGlzLnByb2Nlc3NBdWRpbyh0aGlzLnNhbXBsZVJpbmdCdWZmZXIsIDAsIHRoaXMuZnJhbWVTYW1wbGVQb3MsIHRydWUpOwogICAgICAgIH0KICAgICAgICBwcm9jZXNzRnJhbWUoZmxvYXRzLCBzdGFydCA9IDAsIGxlbmd0aCA9IC0xLCBlb3MgPSBmYWxzZSkgewogICAgICAgICAgICB2YXIgX2E7CiAgICAgICAgICAgIGlmICgoX2EgPSB0aGlzLnZhZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhZE9wdGlvbnMuZW5hYmxlZCkgewogICAgICAgICAgICAgICAgdGhpcy52YWQucHJvY2Vzc0ZyYW1lKGZsb2F0cywgc3RhcnQsIGxlbmd0aCwgZW9zKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhZC5pc1NpZ25hbERldGVjdGVkICE9PSB0aGlzLndhc1NpZ25hbERldGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblZhZFN0YXRlQ2hhbmdlKHRoaXMudmFkLmlzU2lnbmFsRGV0ZWN0ZWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHByb2Nlc3NFb3MoKSB7CiAgICAgICAgICAgIHZhciBfYTsKICAgICAgICAgICAgaWYgKHRoaXMuaXNTZW5kaW5nICYmICgoX2EgPSB0aGlzLnZhZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhZE9wdGlvbnMuZW5hYmxlZCkpIHsKICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBWQUQgc3RhdGUgY2hhbmdlIG9uIGVuZC1vZi1zdHJlYW0KICAgICAgICAgICAgICAgIHRoaXMudmFkLnJlc2V0VkFEKCk7CiAgICAgICAgICAgICAgICB0aGlzLm9uVmFkU3RhdGVDaGFuZ2UoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQWRhcHRpdmUgZW5lcmd5IHRocmVzaG9sZCB2b2ljZSBhY3Rpdml0eSBkZXRlY3Rpb24gKFZBRCkgaW1wbGVtZW50YXRpb24uCiAgICAgKiBJdCBjYW4gYmUgdXNlZCB0byBlbmFibGUgaGFuZHMtZnJlZSBvcGVyYXRpb24gb2YgdGhlIFNMVSBkZWNvZGVyLgogICAgICoKICAgICAqIFdoZW4gZW5vdWdoIGZyYW1lcyB3aXRoIGEgc2lnbmFsIHN0cm9uZ2VyIHRoYW4gU2lnbmFsVG9Ob2lzZURiIGhhdmUgYmVlbiBkZXRlY3RlZCwgSXNTaWduYWxEZXRlY3RlZCBnb2VzIHRydWUuIFdoZW4gZW5vdWdoIHNpbGVudCBmcmFtZXMgaGF2ZSBiZWVuIGRldGVjdGVkLCBJc1NpZ25hbERldGVjdGVkIGdvZXMgZmFsc2UgYWZ0ZXIgdGhlIHN1c3RhaW4gdGltZS4KICAgICAqIFVzZSBpdHMgcHVibGljIGZpZWxkcyB0byBjb25maWd1cmUgdGhlIHN0YXRpYyBub2lzZSBnYXRlIGxldmVsLCBzaWduYWwtdG8tbm9pc2UgbGV2ZWwsIGFjdGl2YXRpb24vZGVhY3RpdmF0aW9uIHRyZXNob2xkIChyYXRpbyBvZiBzaWduYWwgdG8gc2lsZW50IGZyYW1lcykgYW5kIHRoZSBzaWduYWwgc3VzdGFpbiB0aW1lLgogICAgICogVGhlIGJhY2tncm91bmQgbm9pc2UgbGV2ZWwgZ3JhZHVhbGx5IGFkYXB0cyB3aGVuIG5vIHNpZ25hbCBpcyBkZXRlY3RlZC4KICAgICAqCiAgICAgKiBJc1NpZ25hbERldGVjdGVkIGNhbiBiZSB1c2VkIHRvIGRyaXZlIFNwZWVjaGx5Q2xpZW50J3MgU3RhcnRDb250ZXh0IGFuZCBTdG9wQ29udGV4dCBhdXRvbWF0aWNhbGx5IGJ5IHNldHRpbmcgQ29udHJvbExpc3RlbmluZyB0cnVlLgogICAgICogQGludGVybmFsCiAgICAgKi8KICAgIGNsYXNzIEVuZXJneVRyZXNob2xkVkFEIHsKICAgICAgICBjb25zdHJ1Y3RvcihmcmFtZU1pbGxpcywgdmFkT3B0aW9ucykgewogICAgICAgICAgICB0aGlzLmlzU2lnbmFsRGV0ZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zaWduYWxEYiA9IC05MC4wOwogICAgICAgICAgICB0aGlzLm5vaXNlTGV2ZWxEYiA9IC05MC4wOwogICAgICAgICAgICB0aGlzLmZyYW1lTWlsbGlzID0gMzA7CiAgICAgICAgICAgIHRoaXMuZW5lcmd5ID0gMC4wOwogICAgICAgICAgICB0aGlzLmJhc2VsaW5lRW5lcmd5ID0gLTEuMDsKICAgICAgICAgICAgdGhpcy5sb3VkRnJhbWVCaXRzID0gMDsKICAgICAgICAgICAgdGhpcy52YWRTdXN0YWluTWlsbGlzTGVmdCA9IDA7CiAgICAgICAgICAgIHRoaXMuZnJhbWVNaWxsaXMgPSBmcmFtZU1pbGxpczsKICAgICAgICAgICAgdGhpcy52YWRPcHRpb25zID0gdmFkT3B0aW9uczsKICAgICAgICB9CiAgICAgICAgYWRqdXN0VmFkT3B0aW9ucyh2YWRPcHRpb25zKSB7CiAgICAgICAgICAgIHRoaXMudmFkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy52YWRPcHRpb25zKSwgdmFkT3B0aW9ucyk7CiAgICAgICAgfQogICAgICAgIHJlc2V0VkFEKCkgewogICAgICAgICAgICB0aGlzLmlzU2lnbmFsRGV0ZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5sb3VkRnJhbWVCaXRzID0gMDsKICAgICAgICAgICAgdGhpcy5lbmVyZ3kgPSAwOwogICAgICAgICAgICB0aGlzLmJhc2VsaW5lRW5lcmd5ID0gLTE7CiAgICAgICAgfQogICAgICAgIHByb2Nlc3NGcmFtZShmbG9hdHMsIHN0YXJ0ID0gMCwgbGVuZ3RoID0gLTEsIGVvcyA9IGZhbHNlKSB7CiAgICAgICAgICAgIGlmICghdGhpcy52YWRPcHRpb25zLmVuYWJsZWQpIHsKICAgICAgICAgICAgICAgIHRoaXMucmVzZXRWQUQoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZW9zKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB0aGlzLmVuZXJneSA9IEF1ZGlvVG9vbHMuZ2V0RW5lcmd5KGZsb2F0cywgc3RhcnQsIGxlbmd0aCk7CiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VsaW5lRW5lcmd5IDwgMCkgewogICAgICAgICAgICAgICAgdGhpcy5iYXNlbGluZUVuZXJneSA9IHRoaXMuZW5lcmd5OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGlzTG91ZEZyYW1lID0gdGhpcy5lbmVyZ3kgPiBNYXRoLm1heChBdWRpb1Rvb2xzLmRiVG9FbmVyZ3kodGhpcy52YWRPcHRpb25zLm5vaXNlR2F0ZURiKSwgdGhpcy5iYXNlbGluZUVuZXJneSAqIEF1ZGlvVG9vbHMuZGJUb0VuZXJneSh0aGlzLnZhZE9wdGlvbnMuc2lnbmFsVG9Ob2lzZURiKSk7CiAgICAgICAgICAgIHRoaXMucHVzaEZyYW1lSGlzdG9yeShpc0xvdWRGcmFtZSk7CiAgICAgICAgICAgIHRoaXMuaXNTaWduYWxEZXRlY3RlZCA9IHRoaXMuZGV0ZXJtaW5lTmV3U2lnbmFsU3RhdGUodGhpcy5pc1NpZ25hbERldGVjdGVkKTsKICAgICAgICAgICAgdGhpcy5hZGFwdEJhY2tncm91bmROb2lzZSgpOwogICAgICAgICAgICB0aGlzLnNpZ25hbERiID0gQXVkaW9Ub29scy5lbmVyZ3lUb0RiKHRoaXMuZW5lcmd5IC8gdGhpcy5iYXNlbGluZUVuZXJneSk7CiAgICAgICAgICAgIHRoaXMubm9pc2VMZXZlbERiID0gQXVkaW9Ub29scy5lbmVyZ3lUb0RiKHRoaXMuYmFzZWxpbmVFbmVyZ3kpOwogICAgICAgIH0KICAgICAgICBkZXRlcm1pbmVOZXdTaWduYWxTdGF0ZShjdXJyZW50U3RhdGUpIHsKICAgICAgICAgICAgdGhpcy52YWRTdXN0YWluTWlsbGlzTGVmdCA9IE1hdGgubWF4KHRoaXMudmFkU3VzdGFpbk1pbGxpc0xlZnQgLSB0aGlzLmZyYW1lTWlsbGlzLCAwKTsKICAgICAgICAgICAgY29uc3QgbG91ZEZyYW1lcyA9IHRoaXMuY291bnRMb3VkRnJhbWVzKHRoaXMudmFkT3B0aW9ucy5zaWduYWxTZWFyY2hGcmFtZXMpOwogICAgICAgICAgICBjb25zdCBhY3RpdmF0aW9uRnJhbWVzID0gTWF0aC5yb3VuZCh0aGlzLnZhZE9wdGlvbnMuc2lnbmFsQWN0aXZhdGlvbiAqIHRoaXMudmFkT3B0aW9ucy5zaWduYWxTZWFyY2hGcmFtZXMpOwogICAgICAgICAgICBjb25zdCByZWxlYXNlRnJhbWVzID0gTWF0aC5yb3VuZCh0aGlzLnZhZE9wdGlvbnMuc2lnbmFsUmVsZWFzZSAqIHRoaXMudmFkT3B0aW9ucy5zaWduYWxTZWFyY2hGcmFtZXMpOwogICAgICAgICAgICBpZiAobG91ZEZyYW1lcyA+PSBhY3RpdmF0aW9uRnJhbWVzKSB7CiAgICAgICAgICAgICAgICAvLyBSZW5ldyBzdXN0YWluIHRpbWUKICAgICAgICAgICAgICAgIHRoaXMudmFkU3VzdGFpbk1pbGxpc0xlZnQgPSB0aGlzLnZhZE9wdGlvbnMuc2lnbmFsU3VzdGFpbk1pbGxpczsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChsb3VkRnJhbWVzIDw9IHJlbGVhc2VGcmFtZXMgJiYgdGhpcy52YWRTdXN0YWluTWlsbGlzTGVmdCA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBjdXJyZW50U3RhdGU7CiAgICAgICAgfQogICAgICAgIGFkYXB0QmFja2dyb3VuZE5vaXNlKCkgewogICAgICAgICAgICAvLyBHcmFkdWFsbHkgbGVhcm4gYmFja2dyb3VuZCBub2lzZSBsZXZlbAogICAgICAgICAgICBpZiAoIXRoaXMuaXNTaWduYWxEZXRlY3RlZCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMudmFkT3B0aW9ucy5ub2lzZUxlYXJuSGFsZnRpbWVNaWxsaXMgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2F5ID0gTWF0aC5wb3coMi4wLCAtdGhpcy5mcmFtZU1pbGxpcyAvIHRoaXMudmFkT3B0aW9ucy5ub2lzZUxlYXJuSGFsZnRpbWVNaWxsaXMpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZWxpbmVFbmVyZ3kgPSAodGhpcy5iYXNlbGluZUVuZXJneSAqIGRlY2F5KSArICh0aGlzLmVuZXJneSAqICgxIC0gZGVjYXkpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBwdXNoRnJhbWVIaXN0b3J5KGlzTG91ZCkgewogICAgICAgICAgICB0aGlzLmxvdWRGcmFtZUJpdHMgPSAoaXNMb3VkID8gMSA6IDApIHwgKHRoaXMubG91ZEZyYW1lQml0cyA8PCAxKTsKICAgICAgICB9CiAgICAgICAgY291bnRMb3VkRnJhbWVzKG51bUhpc3RvcnlGcmFtZXMpIHsKICAgICAgICAgICAgbGV0IG51bUFjdGl2ZUZyYW1lcyA9IDA7CiAgICAgICAgICAgIGxldCB0ID0gdGhpcy5sb3VkRnJhbWVCaXRzOwogICAgICAgICAgICB3aGlsZSAobnVtSGlzdG9yeUZyYW1lcyA+IDApIHsKICAgICAgICAgICAgICAgIGlmICgodCAmIDEpID09PSAxKQogICAgICAgICAgICAgICAgICAgIG51bUFjdGl2ZUZyYW1lcysrOwogICAgICAgICAgICAgICAgdCA9IHQgPj4gMTsKICAgICAgICAgICAgICAgIG51bUhpc3RvcnlGcmFtZXMtLTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbnVtQWN0aXZlRnJhbWVzOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEtub3duIFdlYlNvY2tldCByZXNwb25zZSB0eXBlcy4KICAgICAqIEBpbnRlcm5hbAogICAgICovCiAgICB2YXIgV2Vic29ja2V0UmVzcG9uc2VUeXBlOwogICAgKGZ1bmN0aW9uIChXZWJzb2NrZXRSZXNwb25zZVR5cGUpIHsKICAgICAgICBXZWJzb2NrZXRSZXNwb25zZVR5cGVbIlN0YXJ0ZWQiXSA9ICJzdGFydGVkIjsKICAgICAgICBXZWJzb2NrZXRSZXNwb25zZVR5cGVbIlN0b3BwZWQiXSA9ICJzdG9wcGVkIjsKICAgICAgICBXZWJzb2NrZXRSZXNwb25zZVR5cGVbIlNlZ21lbnRFbmQiXSA9ICJzZWdtZW50X2VuZCI7CiAgICAgICAgV2Vic29ja2V0UmVzcG9uc2VUeXBlWyJUcmFuc2NyaXB0Il0gPSAidHJhbnNjcmlwdCI7CiAgICAgICAgV2Vic29ja2V0UmVzcG9uc2VUeXBlWyJFbnRpdHkiXSA9ICJlbnRpdHkiOwogICAgICAgIFdlYnNvY2tldFJlc3BvbnNlVHlwZVsiSW50ZW50Il0gPSAiaW50ZW50IjsKICAgICAgICBXZWJzb2NrZXRSZXNwb25zZVR5cGVbIlRlbnRhdGl2ZVRyYW5zY3JpcHQiXSA9ICJ0ZW50YXRpdmVfdHJhbnNjcmlwdCI7CiAgICAgICAgV2Vic29ja2V0UmVzcG9uc2VUeXBlWyJUZW50YXRpdmVFbnRpdGllcyJdID0gInRlbnRhdGl2ZV9lbnRpdGllcyI7CiAgICAgICAgV2Vic29ja2V0UmVzcG9uc2VUeXBlWyJUZW50YXRpdmVJbnRlbnQiXSA9ICJ0ZW50YXRpdmVfaW50ZW50IjsKICAgIH0pKFdlYnNvY2tldFJlc3BvbnNlVHlwZSB8fCAoV2Vic29ja2V0UmVzcG9uc2VUeXBlID0ge30pKTsKICAgIC8qKgogICAgICogTWVzc2FnZXMgZnJvbSB3b3JrZXIgdG8gY29udHJvbGxlcgogICAgICogQGludGVybmFsCiAgICAgKi8KICAgIHZhciBXb3JrZXJTaWduYWw7CiAgICAoZnVuY3Rpb24gKFdvcmtlclNpZ25hbCkgewogICAgICAgIFdvcmtlclNpZ25hbFsiT3BlbmVkIl0gPSAiV0VCU09DS0VUX09QRU4iOwogICAgICAgIFdvcmtlclNpZ25hbFsiQ2xvc2VkIl0gPSAiV0VCU09DS0VUX0NMT1NFRCI7CiAgICAgICAgV29ya2VyU2lnbmFsWyJBdWRpb1Byb2Nlc3NvclJlYWR5Il0gPSAiU09VUkNFX1NBTVBMRV9SQVRFX1NFVF9TVUNDRVNTIjsKICAgICAgICBXb3JrZXJTaWduYWxbIlZhZFNpZ25hbEhpZ2giXSA9ICJWYWRTaWduYWxIaWdoIjsKICAgICAgICBXb3JrZXJTaWduYWxbIlZhZFNpZ25hbExvdyJdID0gIlZhZFNpZ25hbExvdyI7CiAgICAgICAgV29ya2VyU2lnbmFsWyJSZXF1ZXN0Q29udGV4dFN0YXJ0Il0gPSAiUmVxdWVzdENvbnRleHRTdGFydCI7CiAgICB9KShXb3JrZXJTaWduYWwgfHwgKFdvcmtlclNpZ25hbCA9IHt9KSk7CiAgICAvKioKICAgICAqIE1lc3NhZ2VzIGZyb20gY29udHJvbGxlciB0byB3b3JrZXIKICAgICAqIEBpbnRlcm5hbAogICAgICovCiAgICB2YXIgQ29udHJvbGxlclNpZ25hbDsKICAgIChmdW5jdGlvbiAoQ29udHJvbGxlclNpZ25hbCkgewogICAgICAgIENvbnRyb2xsZXJTaWduYWxbImNvbm5lY3QiXSA9ICJjb25uZWN0IjsKICAgICAgICBDb250cm9sbGVyU2lnbmFsWyJpbml0QXVkaW9Qcm9jZXNzb3IiXSA9ICJpbml0QXVkaW9Qcm9jZXNzb3IiOwogICAgICAgIENvbnRyb2xsZXJTaWduYWxbImFkanVzdEF1ZGlvUHJvY2Vzc29yIl0gPSAiYWRqdXN0QXVkaW9Qcm9jZXNzb3IiOwogICAgICAgIENvbnRyb2xsZXJTaWduYWxbIlNFVF9TSEFSRURfQVJSQVlfQlVGRkVSUyJdID0gIlNFVF9TSEFSRURfQVJSQVlfQlVGRkVSUyI7CiAgICAgICAgQ29udHJvbGxlclNpZ25hbFsiQ0xPU0UiXSA9ICJDTE9TRSI7CiAgICAgICAgQ29udHJvbGxlclNpZ25hbFsiU1RBUlRfQ09OVEVYVCJdID0gIlNUQVJUX0NPTlRFWFQiOwogICAgICAgIENvbnRyb2xsZXJTaWduYWxbIlNXSVRDSF9DT05URVhUIl0gPSAiU1dJVENIX0NPTlRFWFQiOwogICAgICAgIENvbnRyb2xsZXJTaWduYWxbIlNUT1BfQ09OVEVYVCJdID0gIlNUT1BfQ09OVEVYVCI7CiAgICAgICAgQ29udHJvbGxlclNpZ25hbFsiQVVESU8iXSA9ICJBVURJTyI7CiAgICAgICAgQ29udHJvbGxlclNpZ25hbFsic3RhcnRTdHJlYW0iXSA9ICJzdGFydFN0cmVhbSI7CiAgICAgICAgQ29udHJvbGxlclNpZ25hbFsic3RvcFN0cmVhbSJdID0gInN0b3BTdHJlYW0iOwogICAgICAgIENvbnRyb2xsZXJTaWduYWxbInNldENvbnRleHRPcHRpb25zIl0gPSAic2V0Q29udGV4dE9wdGlvbnMiOwogICAgfSkoQ29udHJvbGxlclNpZ25hbCB8fCAoQ29udHJvbGxlclNpZ25hbCA9IHt9KSk7CgogICAgY29uc3QgQ09OVFJPTCA9IHsKICAgICAgICBXUklURV9JTkRFWDogMCwKICAgICAgICBGUkFNRVNfQVZBSUxBQkxFOiAxLAogICAgICAgIExPQ0s6IDIsCiAgICB9OwogICAgLyoqCiAgICAgKiBXZWIgd29ya2VyIHRvIGhhbmRsZSBzdHJlYW1pbmcgYXVkaW8gdG8gY2xvdWQgYW5kIHJlY2VpdmluZyBzcGVlY2ggcHJvY2Vzc2luZyByZXN1bHRzLgogICAgICogQWxzbyBoYW5kbGVzIGF1ZGlvIHByb2Nlc3NpbmcgbGlrZSBtYWludGFpbmluZyBoaXN0b3J5IHJpbmdidWZmZXIgYW5kIHJ1bm5pbmcgdGhlIFZBRAogICAgICogQGludGVybmFsCiAgICAgKi8KICAgIGNsYXNzIFdlYnNvY2tldENsaWVudCB7CiAgICAgICAgY29uc3RydWN0b3IoY3R4KSB7CiAgICAgICAgICAgIHRoaXMudGFyZ2V0U2FtcGxlUmF0ZSA9IDE2MDAwOwogICAgICAgICAgICB0aGlzLmlzQ29udGV4dFN0YXJ0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHRTdGFydFRpbWVzID0gW107CiAgICAgICAgICAgIHRoaXMuaW1tZWRpYXRlTW9kZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmZyYW1lTWlsbGlzID0gMzA7CiAgICAgICAgICAgIHRoaXMub3V0cHV0QXVkaW9GcmFtZSA9IG5ldyBJbnQxNkFycmF5KHRoaXMuZnJhbWVNaWxsaXMgKiB0aGlzLnRhcmdldFNhbXBsZVJhdGUgLyAxMDAwKTsKICAgICAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlOwogICAgICAgICAgICAvLyBXZWJTb2NrZXQncyBjbG9zZSBoYW5kbGVyLCBjYWxsZWQgd2hlbiBlbmNvdW50ZXJpbmcgYSBub24gdXNlci1pbml0aWF0ZWQgY2xvc2UsIGUuZy4KICAgICAgICAgICAgLy8gLSBuZXR3b3JrIHVucmVhY2hhYmxlIG9yIHVuYWJsZSB0byAocmUpY29ubmVjdCAoY29kZSAxMDA2KQogICAgICAgICAgICAvLyBMaXN0IG9mIENsb3NlRXZlbnQuY29kZSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50L2NvZGUKICAgICAgICAgICAgdGhpcy5vbldlYnNvY2tldENsb3NlID0gKGV2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbV2ViU29ja2V0Q2xpZW50XScsICdvbldlYnNvY2tldENsb3NlJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlV2Vic29ja2V0KGV2ZW50LmNvZGUsIGV2ZW50LnJlYXNvbiwgZXZlbnQud2FzQ2xlYW4sIGZhbHNlKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5vbldlYnNvY2tldE9wZW4gPSAoX2V2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbV2ViU29ja2V0Q2xpZW50XScsICd3ZWJzb2NrZXQgb3BlbmVkJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLndvcmtlckN0eC5wb3N0TWVzc2FnZSh7IHR5cGU6IFdvcmtlclNpZ25hbC5PcGVuZWQgfSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMub25XZWJzb2NrZXRFcnJvciA9IChfZXZlbnQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tXZWJTb2NrZXRDbGllbnRdJywgJ3dlYnNvY2tldCBlcnJvcicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLm9uV2Vic29ja2V0TWVzc2FnZSA9IChldmVudCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXZWJTb2NrZXRDbGllbnRdJywgJ2Vycm9yIHBhcnNpbmcgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyOicsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09PSBXZWJzb2NrZXRSZXNwb25zZVR5cGUuU3RhcnRlZCkgewogICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBjbGllbnQtc2lkZSBtZXRhZGF0YSB0byB0aGUgYmFja2VuZCBtZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgbGV0IGF1ZGlvQ29udGV4dFN0YXJ0VGltZSA9IHRoaXMuYXVkaW9Db250ZXh0U3RhcnRUaW1lcy5zaGlmdCgpOwogICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0NvbnRleHRTdGFydFRpbWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIHZhbGlkIHZhbHVlIGZvciBjb250ZXh0U3RhcnRNaWxsaXMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db250ZXh0U3RhcnRUaW1lID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRDb250ZXh0UGFyYW1zID0gewogICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1N0YXJ0VGltZU1pbGxpczogYXVkaW9Db250ZXh0U3RhcnRUaW1lLAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucGFyYW1zID0gc3RhcnRDb250ZXh0UGFyYW1zOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy53b3JrZXJDdHgucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLndvcmtlckN0eCA9IGN0eDsKICAgICAgICB9CiAgICAgICAgY29ubmVjdChhcGlVcmwsIGF1dGhUb2tlbiwgdGFyZ2V0U2FtcGxlUmF0ZSwgZGVidWcpIHsKICAgICAgICAgICAgdGhpcy5kZWJ1ZyA9IGRlYnVnOwogICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tXZWJTb2NrZXRDbGllbnRdJywgJ2Nvbm5lY3RpbmcgdG8gJywgYXBpVXJsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnRhcmdldFNhbXBsZVJhdGUgPSB0YXJnZXRTYW1wbGVSYXRlOwogICAgICAgICAgICB0aGlzLmlzQ29udGV4dFN0YXJ0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KGFwaVVybCwgYXV0aFRva2VuKTsKICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIHRoaXMub25XZWJzb2NrZXRPcGVuKTsKICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25XZWJzb2NrZXRNZXNzYWdlKTsKICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uV2Vic29ja2V0RXJyb3IpOwogICAgICAgICAgICB0aGlzLndlYnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMub25XZWJzb2NrZXRDbG9zZSk7CiAgICAgICAgfQogICAgICAgIGluaXRBdWRpb1Byb2Nlc3Nvcihzb3VyY2VTYW1wbGVSYXRlLCBmcmFtZU1pbGxpcywgaGlzdG9yeUZyYW1lcywgdmFkT3B0aW9ucykgewogICAgICAgICAgICB0aGlzLmF1ZGlvUHJvY2Vzc29yID0gbmV3IEF1ZGlvUHJvY2Vzc29yKHNvdXJjZVNhbXBsZVJhdGUsIHRoaXMudGFyZ2V0U2FtcGxlUmF0ZSwgZnJhbWVNaWxsaXMsIGhpc3RvcnlGcmFtZXMpOwogICAgICAgICAgICBpZiAodmFkT3B0aW9ucykgewogICAgICAgICAgICAgICAgdGhpcy5hdWRpb1Byb2Nlc3Nvci52YWQgPSBuZXcgRW5lcmd5VHJlc2hvbGRWQUQoZnJhbWVNaWxsaXMsIHZhZE9wdGlvbnMpOwogICAgICAgICAgICAgICAgdGhpcy5hdWRpb1Byb2Nlc3Nvci5vblZhZFN0YXRlQ2hhbmdlID0gKGlzU2lnbmFsRGV0ZWN0ZWQpID0+IHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWRPcHRpb25zID0gKF9iID0gKF9hID0gdGhpcy5hdWRpb1Byb2Nlc3NvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnZhZE9wdGlvbnM7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50VmFkT3B0aW9ucykKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIGlmIChpc1NpZ25hbERldGVjdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbW1lZGlhdGVNb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmtlckN0eC5wb3N0TWVzc2FnZSh7IHR5cGU6IFdvcmtlclNpZ25hbC5WYWRTaWduYWxIaWdoIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRWYWRPcHRpb25zLmNvbnRyb2xMaXN0ZW5pbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRDb250ZXh0KHRoaXMuZGVmYXVsdENvbnRleHRPcHRpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU2lnbmFsRGV0ZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmltbWVkaWF0ZU1vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29ya2VyQ3R4LnBvc3RNZXNzYWdlKHsgdHlwZTogV29ya2VyU2lnbmFsLlZhZFNpZ25hbExvdyB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VmFkT3B0aW9ucy5jb250cm9sTGlzdGVuaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BDb250ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYXVkaW9Qcm9jZXNzb3Iub25TZW5kQXVkaW8gPSAoZmxvYXRzLCBzdGFydEluZGV4LCBsZW5ndGgpID0+IHsKICAgICAgICAgICAgICAgIEF1ZGlvVG9vbHMuY29udmVydEZsb2F0VG9JbnQxNihmbG9hdHMsIHRoaXMub3V0cHV0QXVkaW9GcmFtZSwgc3RhcnRJbmRleCwgbGVuZ3RoKTsKICAgICAgICAgICAgICAgIHRoaXMuc2VuZCh0aGlzLm91dHB1dEF1ZGlvRnJhbWUpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAodGhpcy53b3JrZXJDdHggPT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdGhpcy53b3JrZXJDdHgucG9zdE1lc3NhZ2UoeyB0eXBlOiBXb3JrZXJTaWduYWwuQXVkaW9Qcm9jZXNzb3JSZWFkeSB9KTsKICAgICAgICB9CiAgICAgICAgLyoqCiAgICAgICAgICogQ29udHJvbCBhdWRpbyBwcm9jZXNzb3IgcGFyYW1ldGVycwogICAgICAgICAqIEBwYXJhbSBhcCAtIEF1ZGlvIHByb2Nlc3NvciBwYXJhbWV0ZXJzIHRvIGFkanVzdAogICAgICAgICAqLwogICAgICAgIGFkanVzdEF1ZGlvUHJvY2Vzc29yKGFwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmF1ZGlvUHJvY2Vzc29yICYmIGFwLnZhZCkgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmF1ZGlvUHJvY2Vzc29yLnZhZCkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gVkFEIGluIEF1ZGlvUHJvY2Vzc29yLiBEaWQgeW91IGRlZmluZSBgdmFkYCBpbiBCcm93c2VyQ2xpZW50IGNvbnN0cnVjdG9yIHBhcmFtZXRlcnM/Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUHJvY2Vzc29yLnZhZC5hZGp1c3RWYWRPcHRpb25zKGFwLnZhZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2V0U2hhcmVkQXJyYXlCdWZmZXJzKGNvbnRyb2xTQUIsIGRhdGFTQUIpIHsKICAgICAgICAgICAgdGhpcy5jb250cm9sU0FCID0gbmV3IEludDMyQXJyYXkoY29udHJvbFNBQik7CiAgICAgICAgICAgIHRoaXMuZGF0YVNBQiA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YVNBQik7CiAgICAgICAgICAgIGNvbnN0IGF1ZGlvSGFuZGxlSW50ZXJ2YWwgPSB0aGlzLmRhdGFTQUIubGVuZ3RoIC8gMzI7IC8vIG1zCiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1dlYlNvY2tldENsaWVudF0nLCAnQXVkaW8gaGFuZGxlIGludGVydmFsJywgYXVkaW9IYW5kbGVJbnRlcnZhbCwgJ21zJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2V0SW50ZXJ2YWwodGhpcy5wcm9jZXNzQXVkaW9TQUIuYmluZCh0aGlzKSwgYXVkaW9IYW5kbGVJbnRlcnZhbCk7CiAgICAgICAgfQogICAgICAgIHN0YXJ0U3RyZWFtKHN0cmVhbU9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmF1ZGlvUHJvY2Vzc29yKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEF1ZGlvUHJvY2Vzc29yJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVNb2RlID0gc3RyZWFtT3B0aW9ucy5pbW1lZGlhdGU7CiAgICAgICAgICAgIHRoaXMuYXVkaW9Qcm9jZXNzb3IucmVzZXQoc3RyZWFtT3B0aW9ucy5zYW1wbGVSYXRlKTsKICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHRTdGFydFRpbWVzID0gW107CiAgICAgICAgfQogICAgICAgIHN0b3BTdHJlYW0oKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5hdWRpb1Byb2Nlc3NvcikgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBBdWRpb1Byb2Nlc3NvcicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIFNlbmQgRU9TLiBFbnN1cmUgVkFEIHdpbGwgZ28gb2ZmIGF0IGVuZCBvZiBzdHJlYW0gYW5kIHN0b3BDb250ZXh0IGlzIGNhbGxlZCBpbiBpbW1lZGlhdGUgbW9kZQogICAgICAgICAgICB0aGlzLmF1ZGlvUHJvY2Vzc29yLmVvcygpOwogICAgICAgIH0KICAgICAgICAvKioKICAgICAgICAgKiBQcm9jZXNzZXMgYW5kIHNlbmRzIGF1ZGlvCiAgICAgICAgICogQHBhcmFtIGF1ZGlvQ2h1bmsgLSBhdWRpbyBkYXRhIHRvIHByb2Nlc3MKICAgICAgICAgKi8KICAgICAgICBwcm9jZXNzQXVkaW8oYXVkaW9DaHVuaykgewogICAgICAgICAgICBpZiAoIXRoaXMuYXVkaW9Qcm9jZXNzb3IpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gQXVkaW9Qcm9jZXNzb3InKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmF1ZGlvUHJvY2Vzc29yLnByb2Nlc3NBdWRpbyhhdWRpb0NodW5rKTsKICAgICAgICB9CiAgICAgICAgcHJvY2Vzc0F1ZGlvU0FCKCkgewogICAgICAgICAgICBpZiAoIXRoaXMuY29udHJvbFNBQiB8fCAhdGhpcy5kYXRhU0FCKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFNoYXJlZEFycmF5QnVmZmVycycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGZyYW1lc0F2YWlsYWJsZSA9IHRoaXMuY29udHJvbFNBQltDT05UUk9MLkZSQU1FU19BVkFJTEFCTEVdOwogICAgICAgICAgICBjb25zdCBsb2NrID0gdGhpcy5jb250cm9sU0FCW0NPTlRST0wuTE9DS107CiAgICAgICAgICAgIGlmIChsb2NrID09PSAwICYmIGZyYW1lc0F2YWlsYWJsZSA+IDApIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGFTQUIuc3ViYXJyYXkoMCwgZnJhbWVzQXZhaWxhYmxlKTsKICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbFNBQltDT05UUk9MLkZSQU1FU19BVkFJTEFCTEVdID0gMDsKICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbFNBQltDT05UUk9MLldSSVRFX0lOREVYXSA9IDA7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzQXVkaW8oZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RhcnRDb250ZXh0KGNvbnRleHRPcHRpb25zKSB7CiAgICAgICAgICAgIHZhciBfYTsKICAgICAgICAgICAgaWYgKCF0aGlzLmF1ZGlvUHJvY2Vzc29yKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignTm8gQXVkaW9Qcm9jZXNzb3InKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5pc0NvbnRleHRTdGFydGVkKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbV2ViU29ja2V0Q2xpZW50XScsICJjYW4ndCBzdGFydCBjb250ZXh0OiBhY3RpdmUgY29udGV4dCBleGlzdHMiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmF1ZGlvUHJvY2Vzc29yLnNldFNlbmRBdWRpbyh0cnVlKTsKICAgICAgICAgICAgdGhpcy5pc0NvbnRleHRTdGFydGVkID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHRTdGFydFRpbWVzLnB1c2godGhpcy5hdWRpb1Byb2Nlc3Nvci5nZXRTdHJlYW1Qb3NpdGlvbigpKTsKICAgICAgICAgICAgdGhpcy53b3JrZXJDdHgucG9zdE1lc3NhZ2UoeyB0eXBlOiBXb3JrZXJTaWduYWwuUmVxdWVzdENvbnRleHRTdGFydCB9KTsKICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSAoX2EgPSB0aGlzLmRlZmF1bHRDb250ZXh0T3B0aW9ucykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307CiAgICAgICAgICAgIGlmIChjb250ZXh0T3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgY29udGV4dE9wdGlvbnMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjb250ZXh0T3B0aW9uc1RvTXNnKG9wdGlvbnMpOwogICAgICAgICAgICBtZXNzYWdlLmV2ZW50ID0gJ3N0YXJ0JzsKICAgICAgICAgICAgdGhpcy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTsKICAgICAgICB9CiAgICAgICAgc3RvcENvbnRleHQoKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5hdWRpb1Byb2Nlc3NvcikgewogICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ05vIEF1ZGlvUHJvY2Vzc29yJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ29udGV4dFN0YXJ0ZWQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXZWJTb2NrZXRDbGllbnRdJywgImNhbid0IHN0b3AgY29udGV4dDogbm8gYWN0aXZlIGNvbnRleHQiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmF1ZGlvUHJvY2Vzc29yLnNldFNlbmRBdWRpbyhmYWxzZSk7CiAgICAgICAgICAgIHRoaXMuaXNDb250ZXh0U3RhcnRlZCA9IGZhbHNlOwogICAgICAgICAgICBjb25zdCBTdG9wRXZlbnRKU09OID0gSlNPTi5zdHJpbmdpZnkoeyBldmVudDogJ3N0b3AnIH0pOwogICAgICAgICAgICB0aGlzLnNlbmQoU3RvcEV2ZW50SlNPTik7CiAgICAgICAgfQogICAgICAgIHN3aXRjaENvbnRleHQoY29udGV4dE9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLndlYnNvY2tldCkgewogICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1dlYlNvY2tldCBpcyB1bmRlZmluZWQnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIXRoaXMuaXNDb250ZXh0U3RhcnRlZCkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1dlYlNvY2tldENsaWVudF0nLCAiY2FuJ3Qgc3dpdGNoIGNvbnRleHQ6IG5vIGFjdGl2ZSBjb250ZXh0Iik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKChjb250ZXh0T3B0aW9ucyA9PT0gbnVsbCB8fCBjb250ZXh0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGV4dE9wdGlvbnMuYXBwSWQpID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tXZWJTb2NrZXRDbGllbnRdJywgImNhbid0IHN3aXRjaCBjb250ZXh0OiBuZXcgYXBwIGlkIGlzIHVuZGVmaW5lZCIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IFN0b3BFdmVudEpTT04gPSBKU09OLnN0cmluZ2lmeSh7IGV2ZW50OiAnc3RvcCcgfSk7CiAgICAgICAgICAgIHRoaXMuc2VuZChTdG9wRXZlbnRKU09OKTsKICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNvbnRleHRPcHRpb25zVG9Nc2coY29udGV4dE9wdGlvbnMpOwogICAgICAgICAgICBtZXNzYWdlLmV2ZW50ID0gJ3N0YXJ0JzsKICAgICAgICAgICAgdGhpcy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTsKICAgICAgICB9CiAgICAgICAgY2xvc2VXZWJzb2NrZXQoY29kZSA9IDEwMDUsIHJlYXNvbiA9ICdObyBTdGF0dXMgUmVjZWl2ZWQnLCB3YXNDbGVhbiA9IHRydWUsIHVzZXJJbml0aWF0ZWQgPSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBfYTsKICAgICAgICAgICAgaWYgKCF0aGlzLndlYnNvY2tldCkgewogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJTb2NrZXQgYWxyZWFkeSBjbG9zZWQnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICh0aGlzLmRlYnVnKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1dlYlNvY2tldENsaWVudF0nLCB1c2VySW5pdGlhdGVkID8gJ1dlYnNvY2tldCBjbG9zZSByZXF1ZXN0ZWQnIDogJ1dlYnNvY2tldCBjbG9zZWQnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBSZXNldCBhdWRpb3Byb2Nlc3NvciBzbyBpdCB3b24ndCB0cnkgdG8gc2VuZCBhdWRpbyB0aGUgZmlyc3QgdGhpbmcgd2hlbiByZWNvbm5lY3QgaGFwcGVucy4gVGhpcyB3aWxsIGxlYWQgdG8gYSByZWNvbm5lY3QgbG9vcC4KICAgICAgICAgICAgKF9hID0gdGhpcy5hdWRpb1Byb2Nlc3NvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlc2V0KCk7CiAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgYW55IG1vcmUgbWVzc2FnZXMgZnJvbSB0aGUgY2xvc2luZyB3ZWJzb2NrZXQKICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3BlbicsIHRoaXMub25XZWJzb2NrZXRPcGVuKTsKICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25XZWJzb2NrZXRNZXNzYWdlKTsKICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uV2Vic29ja2V0RXJyb3IpOwogICAgICAgICAgICB0aGlzLndlYnNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMub25XZWJzb2NrZXRDbG9zZSk7CiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGhlcmUgZHVlIHRvIGEgY2FsbCB0byBvbldlYlNvY2tldAogICAgICAgICAgICBpZiAodXNlckluaXRpYXRlZCkgewogICAgICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQuY2xvc2UoY29kZSwgcmVhc29uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLndlYnNvY2tldCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgdGhpcy53b3JrZXJDdHgucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogV29ya2VyU2lnbmFsLkNsb3NlZCwKICAgICAgICAgICAgICAgIGNvZGUsCiAgICAgICAgICAgICAgICByZWFzb24sCiAgICAgICAgICAgICAgICB3YXNDbGVhbiwKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHNlbmQoZGF0YSkgewogICAgICAgICAgICBpZiAoIXRoaXMud2Vic29ja2V0KSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFdlYnNvY2tldCcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLndlYnNvY2tldC5yZWFkeVN0YXRlICE9PSB0aGlzLndlYnNvY2tldC5PUEVOKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEV4cGVjdGVkIE9QRU4gV2Vic29ja2V0IHN0YXRlLCBidXQgZ290ICR7dGhpcy53ZWJzb2NrZXQucmVhZHlTdGF0ZX1gKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdGhpcy53ZWJzb2NrZXQuc2VuZChkYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbV2ViU29ja2V0Q2xpZW50XScsICdzZXJ2ZXIgY29ubmVjdGlvbiBlcnJvcicsIGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzZXRDb250ZXh0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgICAgICAgIHRoaXMuZGVmYXVsdENvbnRleHRPcHRpb25zID0gb3B0aW9uczsKICAgICAgICB9CiAgICB9CiAgICBjb25zdCBjdHggPSBzZWxmOwogICAgY29uc3Qgd2Vic29ja2V0Q2xpZW50ID0gbmV3IFdlYnNvY2tldENsaWVudChjdHgpOwogICAgY3R4Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgc3dpdGNoIChlLmRhdGEudHlwZSkgewogICAgICAgICAgICBjYXNlIENvbnRyb2xsZXJTaWduYWwuY29ubmVjdDoKICAgICAgICAgICAgICAgIHdlYnNvY2tldENsaWVudC5jb25uZWN0KGUuZGF0YS5hcGlVcmwsIGUuZGF0YS5hdXRoVG9rZW4sIGUuZGF0YS50YXJnZXRTYW1wbGVSYXRlLCBlLmRhdGEuZGVidWcpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgQ29udHJvbGxlclNpZ25hbC5pbml0QXVkaW9Qcm9jZXNzb3I6CiAgICAgICAgICAgICAgICB3ZWJzb2NrZXRDbGllbnQuaW5pdEF1ZGlvUHJvY2Vzc29yKGUuZGF0YS5zb3VyY2VTYW1wbGVSYXRlLCBlLmRhdGEuZnJhbWVNaWxsaXMsIGUuZGF0YS5oaXN0b3J5RnJhbWVzLCBlLmRhdGEudmFkT3B0aW9ucyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyU2lnbmFsLmFkanVzdEF1ZGlvUHJvY2Vzc29yOgogICAgICAgICAgICAgICAgd2Vic29ja2V0Q2xpZW50LmFkanVzdEF1ZGlvUHJvY2Vzc29yKGUuZGF0YS5wYXJhbXMpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgQ29udHJvbGxlclNpZ25hbC5TRVRfU0hBUkVEX0FSUkFZX0JVRkZFUlM6CiAgICAgICAgICAgICAgICB3ZWJzb2NrZXRDbGllbnQuc2V0U2hhcmVkQXJyYXlCdWZmZXJzKGUuZGF0YS5jb250cm9sU0FCLCBlLmRhdGEuZGF0YVNBQik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyU2lnbmFsLkNMT1NFOgogICAgICAgICAgICAgICAgd2Vic29ja2V0Q2xpZW50LmNsb3NlV2Vic29ja2V0KDEwMDAsICdDbG9zZSByZXF1ZXN0ZWQgYnkgY2xpZW50JywgdHJ1ZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyU2lnbmFsLnN0YXJ0U3RyZWFtOgogICAgICAgICAgICAgICAgd2Vic29ja2V0Q2xpZW50LnN0YXJ0U3RyZWFtKGUuZGF0YS5zdHJlYW1PcHRpb25zKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIENvbnRyb2xsZXJTaWduYWwuc3RvcFN0cmVhbToKICAgICAgICAgICAgICAgIHdlYnNvY2tldENsaWVudC5zdG9wU3RyZWFtKCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyU2lnbmFsLlNUQVJUX0NPTlRFWFQ6CiAgICAgICAgICAgICAgICB3ZWJzb2NrZXRDbGllbnQuc3RhcnRDb250ZXh0KGUuZGF0YS5vcHRpb25zKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIENvbnRyb2xsZXJTaWduYWwuU1dJVENIX0NPTlRFWFQ6CiAgICAgICAgICAgICAgICB3ZWJzb2NrZXRDbGllbnQuc3dpdGNoQ29udGV4dChlLmRhdGEub3B0aW9ucyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyU2lnbmFsLlNUT1BfQ09OVEVYVDoKICAgICAgICAgICAgICAgIHdlYnNvY2tldENsaWVudC5zdG9wQ29udGV4dCgpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgQ29udHJvbGxlclNpZ25hbC5BVURJTzoKICAgICAgICAgICAgICAgIHdlYnNvY2tldENsaWVudC5wcm9jZXNzQXVkaW8oZS5kYXRhLnBheWxvYWQpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgQ29udHJvbGxlclNpZ25hbC5zZXRDb250ZXh0T3B0aW9uczoKICAgICAgICAgICAgICAgIHdlYnNvY2tldENsaWVudC5zZXRDb250ZXh0T3B0aW9ucyhlLmRhdGEub3B0aW9ucyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXT1JLRVInLCBlKTsKICAgICAgICB9CiAgICB9OwogICAgZnVuY3Rpb24gY29udGV4dE9wdGlvbnNUb01zZyhjb250ZXh0T3B0aW9ucykgewogICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIHRpbWV6b25lOiBbSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lXSwKICAgICAgICAgICAgfSwKICAgICAgICB9OwogICAgICAgIGlmIChjb250ZXh0T3B0aW9ucyA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICByZXR1cm4gbWVzc2FnZTsKICAgICAgICBtZXNzYWdlLm9wdGlvbnMudm9jYWJ1bGFyeSA9IGNvbnRleHRPcHRpb25zLnZvY2FidWxhcnk7CiAgICAgICAgbWVzc2FnZS5vcHRpb25zLnZvY2FidWxhcnlfYmlhcyA9IGNvbnRleHRPcHRpb25zLnZvY2FidWxhcnlCaWFzOwogICAgICAgIG1lc3NhZ2Uub3B0aW9ucy5zaWxlbmNlX3RyaWdnZXJlZF9zZWdtZW50YXRpb24gPSBjb250ZXh0T3B0aW9ucy5zaWxlbmNlVHJpZ2dlcmVkU2VnbWVudGF0aW9uOwogICAgICAgIGlmIChjb250ZXh0T3B0aW9ucy5ub25TdHJlYW1pbmdObHUpIHsKICAgICAgICAgICAgbWVzc2FnZS5vcHRpb25zLm5vbl9zdHJlYW1pbmdfbmx1ID0gWyd5ZXMnXTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIG1lc3NhZ2Uub3B0aW9ucy5ub25fc3RyZWFtaW5nX25sdSA9IFsnbm8nXTsKICAgICAgICB9CiAgICAgICAgaWYgKChjb250ZXh0T3B0aW9ucyA9PT0gbnVsbCB8fCBjb250ZXh0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGV4dE9wdGlvbnMudGltZXpvbmUpICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgbWVzc2FnZS5vcHRpb25zLnRpbWV6b25lID0gY29udGV4dE9wdGlvbnMgPT09IG51bGwgfHwgY29udGV4dE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRleHRPcHRpb25zLnRpbWV6b25lOyAvLyBvdmVycmlkZSBicm93c2VyIHRpbWV6b25lCiAgICAgICAgfQogICAgICAgIGlmIChjb250ZXh0T3B0aW9ucy5hcHBJZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIG1lc3NhZ2UuYXBwSWQgPSBjb250ZXh0T3B0aW9ucy5hcHBJZDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7CiAgICB9CgogICAgZXhwb3J0cy5jb250ZXh0T3B0aW9uc1RvTXNnID0gY29udGV4dE9wdGlvbnNUb01zZzsKICAgIGV4cG9ydHNbImRlZmF1bHQiXSA9IFdlYnNvY2tldENsaWVudDsKCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pOwoKICAgIHJldHVybiBleHBvcnRzOwoKfSkoe30pOwoK",null,!1);class rh{onResponse(h){this.onResponseCb=h}onClose(h){this.onCloseCb=h}constructor(){this.startCbs=[],this.stopCbs=[],this.onResponseCb=()=>{},this.onCloseCb=()=>{},this.onWebsocketMessage=h=>{const p=h.data;switch(p.type){case ot.Opened:this.onInitResolve&&this.onInitResolve();break;case ot.Closed:const v=new it(h.data.reason,h.data.code,h.data.wasClean);this.onInitReject?this.onInitReject(v):this.onCloseCb(v);break;case ot.AudioProcessorReady:null!=this.resolveSourceSampleRateSet&&this.resolveSourceSampleRateSet();break;case Ne.Started:this.onResponseCb(p),this.startCbs.forEach(S=>{try{S(void 0,p.audio_context)}catch(E){console.error('[SpeechlyClient] Error while invoking "onStart" callback:',E)}}),this.startCbs.length=0;break;case Ne.Stopped:this.onResponseCb(p),this.stopCbs.forEach(S=>{try{S(void 0,p.audio_context)}catch(E){console.error('[SpeechlyClient] Error while invoking "onStop" callback:',E)}}),this.stopCbs.length=0;break;default:this.onResponseCb(p)}},this.worker=new oo,this.worker.addEventListener("message",this.onWebsocketMessage)}initialize(h,p,v,S){return N(this,void 0,void 0,function*(){return this.worker.postMessage({type:Pe.connect,apiUrl:h,authToken:p,targetSampleRate:v,debug:S}),this.startCbs=[],this.stopCbs=[],new Promise((E,z)=>{this.onInitResolve=()=>{this.onInitResolve=void 0,this.onInitReject=void 0,E()},this.onInitReject=Z=>{this.onInitResolve=void 0,this.onInitReject=void 0,z(Z)}})})}initAudioProcessor(h,p,v,S){return N(this,void 0,void 0,function*(){return this.worker.postMessage({type:Pe.initAudioProcessor,sourceSampleRate:h,frameMillis:p,historyFrames:v,vadOptions:S}),new Promise(E=>{this.resolveSourceSampleRateSet=E})})}adjustAudioProcessor(h){this.worker.postMessage({type:Pe.adjustAudioProcessor,params:h})}close(){return N(this,void 0,void 0,function*(){return new Promise((h,p)=>{this.worker.postMessage({type:Pe.CLOSE,code:1e3,message:"Client has ended the session"}),h()})})}startStream(h){return N(this,void 0,void 0,function*(){this.worker.postMessage({type:Pe.startStream,streamOptions:h})})}stopStream(){return N(this,void 0,void 0,function*(){this.worker.postMessage({type:Pe.stopStream})})}startContext(h){return N(this,void 0,void 0,function*(){return new Promise((p,v)=>{this.startCbs.push((S,E)=>{void 0!==S?v(S):p(E)}),this.worker.postMessage({type:Pe.START_CONTEXT,options:h})})})}stopContext(){return N(this,void 0,void 0,function*(){return new Promise((h,p)=>{this.stopCbs.push((v,S)=>{void 0!==v?p(v):h(S)}),this.worker.postMessage({type:Pe.STOP_CONTEXT})})})}switchContext(h){return N(this,void 0,void 0,function*(){return new Promise((p,v)=>{this.startCbs.push((S,E)=>{void 0!==S?v(S):p(E)}),this.worker.postMessage({type:Pe.SWITCH_CONTEXT,options:h})})})}postMessage(h){this.worker.postMessage(h)}sendAudio(h){this.worker.postMessage({type:Pe.AUDIO,payload:h})}setContextOptions(h){return N(this,void 0,void 0,function*(){this.worker.postMessage({type:Pe.setContextOptions,options:h})})}}class Bs{constructor(){this.storage=window.localStorage}get(h){return this.storage.getItem(h)}set(h,p){this.storage.setItem(h,p)}getOrSet(h,p){let v=this.storage.getItem(h);return null===v&&(v=p(),this.storage.setItem(h,v)),v}}function Kl(I,h){return{intent:I.intent,isFinal:h}}const Jl="speechly-auth-token";class Ql{constructor(h){var p,v;if(this.streamOptions=eo,this.activeContexts=0,this.audioContexts=new Map,this.maxReconnectAttemptCount=10,this.connectAttempt=0,this.connectPromise=null,this.cbs=[],this.state=ce.Disconnected,this.handleWebsocketResponse=E=>{var z;switch(this.debug&&console.log("[Decoder]","Received response",E),E.type){case ot.VadSignalHigh:this.cbs.forEach(Z=>Z.onVadStateChange.forEach(Q=>Q(!0)));break;case ot.VadSignalLow:this.cbs.forEach(Z=>Z.onVadStateChange.forEach(Q=>Q(!1)));break;case ot.RequestContextStart:this.activeContexts++;break;case Ne.Started:{const Z=E.params;this.audioContexts.set(E.audio_context,{segments:new Map,audioStartTimeMillis:null!==(z=Z?.audioStartTimeMillis)&&void 0!==z?z:0}),this.cbs.forEach(Q=>Q.contextStartedCbs.forEach(ze=>ze(E.audio_context)));break}case Ne.Stopped:this.activeContexts--,this.cbs.forEach(Z=>Z.contextStoppedCbs.forEach(Q=>Q(E.audio_context))),this.streamOptions.preserveSegments||this.audioContexts.delete(E.audio_context),void 0!==this.resolveStopStream&&0===this.activeContexts&&this.resolveStopStream();break;default:this.handleSegmentUpdate(E)}},this.handleSegmentUpdate=E=>{var z;const{audio_context:Z,segment_id:Q,type:ze}=E;let{data:se}=E;const at=this.audioContexts.get(Z);if(void 0===at)return void console.warn("[Decoder]","Received response for non-existent context",Z);let Ie=null!==(z=at.segments.get(Q))&&void 0!==z?z:new ge(Z,Q);switch(ze){case Ne.TentativeTranscript:const Sn=function ih(I,h){return I.words.map(({word:p,index:v,start_timestamp:S,end_timestamp:E})=>({value:p,index:v,startTimestamp:S+h,endTimestamp:E+h,isFinal:!1}))}(se,at.audioStartTimeMillis),re=se.transcript;this.cbs.forEach(je=>je.tentativeTranscriptCbs.forEach(ve=>ve(Z,Q,Sn,re))),Ie=Ie.updateTranscript(Sn);break;case Ne.Transcript:const xe=function oh(I,h){return{value:I.word,index:I.index,startTimestamp:I.start_timestamp+h,endTimestamp:I.end_timestamp+h,isFinal:!0}}(se,at.audioStartTimeMillis);this.cbs.forEach(je=>je.transcriptCbs.forEach(ve=>ve(Z,Q,xe))),Ie=Ie.updateTranscript([xe]);break;case Ne.TentativeEntities:const yt=function sh(I){return I.entities.map(({entity:h,value:p,start_position:v,end_position:S})=>({type:h,value:p,startPosition:v,endPosition:S,isFinal:!1}))}(se);this.cbs.forEach(je=>je.tentativeEntityCbs.forEach(ve=>ve(Z,Q,yt))),Ie=Ie.updateEntities(yt);break;case Ne.Entity:const et=function ah(I){return{type:I.entity,value:I.value,startPosition:I.start_position,endPosition:I.end_position,isFinal:!0}}(se);this.cbs.forEach(je=>je.entityCbs.forEach(ve=>ve(Z,Q,et))),Ie=Ie.updateEntities([et]);break;case Ne.TentativeIntent:const Tt=Kl(se,!1);this.cbs.forEach(je=>je.tentativeIntentCbs.forEach(ve=>ve(Z,Q,Tt))),Ie=Ie.updateIntent(Tt);break;case Ne.Intent:const Bt=Kl(se,!0);this.cbs.forEach(je=>je.intentCbs.forEach(ve=>ve(Z,Q,Bt))),Ie=Ie.updateIntent(Bt);break;case Ne.SegmentEnd:Ie=Ie.finalize()}at.segments.set(Q,Ie),this.audioContexts.set(Z,at),this.logSegments&&console.info(Ie.toString()),this.cbs.forEach(Sn=>Sn.segmentChangeCbs.forEach(re=>re(Ie.toSegment())))},this.handleWebsocketClosure=E=>{if(1e3===E.code)this.debug&&console.log("[Decoder]","Websocket closed",E);else{if(console.error("[Decoder]","Websocket closed due to error",E),void 0===this.deviceId)return this.setState(ce.Failed),void console.error("[Decoder]","No deviceId. Giving up reconnecting.");this.setState(ce.Disconnected),this.activeContexts=0,this.audioContexts.clear(),this.reconnect()}},this.logSegments=h.logSegments,this.appId=h.appId,this.projectId=h.projectId,this.sampleRate=h.sampleRate,this.debug=h.debug,void 0!==this.appId&&void 0!==this.projectId)throw Error("[Decoder] You cannot use both appId and projectId at the same time");if(void 0===this.appId&&void 0===this.projectId)throw Error("[Decoder] Either an appId or a projectId is required");const S=h.apiUrl;this.apiUrl=function ql(I,h){const p=new URLSearchParams;return p.append("sampleRate",h.toString()),`${I}?${p.toString()}`}(S.replace("http","ws")+"/ws/v1",this.sampleRate),this.loginUrl=`${S}/login`;try{this.storage=null!==(p=h.storage)&&void 0!==p?p:new Bs,this.deviceId=this.storage.getOrSet("speechly-device-id",Os)}catch{this.deviceId=Os()}this.apiClient=new rh,this.apiClient.onResponse(this.handleWebsocketResponse),this.apiClient.onClose(this.handleWebsocketClosure),(null===(v=h.connect)||void 0===v||v)&&this.connect()}getReconnectDelayMs(h){return 100*Math.pow(2,h)}sleep(h){return N(this,void 0,void 0,function*(){return new Promise(p=>setTimeout(p,h))})}connect(){return N(this,void 0,void 0,function*(){null===this.connectPromise&&(this.connectPromise=(()=>N(this,void 0,void 0,function*(){var h;this.setState(ce.Disconnected);const p=null===(h=this.storage)||void 0===h?void 0:h.get(Jl);if(p&&io(p,this.projectId,this.appId,this.deviceId))this.authToken=p;else try{this.authToken=yield function Ps(I,h,p,v,S=fetch,E=Date.now){var z;return N(this,void 0,void 0,function*(){let Z;Z=void 0!==h?{projectId:h,deviceId:v}:{appId:p,deviceId:v};const Q=yield S(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),ze=yield Q.json();if(200!==Q.status)throw Error(null!==(z=ze.error)&&void 0!==z?z:`Speechly API login request failed with ${Q.status}`);if(void 0===ze.access_token)throw Error("Invalid login response from Speechly API");if(!io(ze.access_token,h,p,v,E))throw Error("Invalid token received from Speechly API");return ze.access_token})}(this.loginUrl,this.projectId,this.appId,this.deviceId,fetch),this.storage&&this.storage.set(Jl,this.authToken)}catch(v){throw this.connectPromise=null,this.setState(ce.Failed),v}try{yield this.apiClient.initialize(this.apiUrl,this.authToken,this.sampleRate,this.debug)}catch(v){throw this.connectPromise=null,v instanceof it&&1e3===v.code||this.setState(ce.Failed),v}this.advanceState(ce.Connected)}))()),yield this.connectPromise})}adjustAudioProcessor(h){this.apiClient.adjustAudioProcessor(h)}close(){return N(this,void 0,void 0,function*(){let h;try{yield this.apiClient.close()}catch(p){h=p.message}if(this.audioContexts.clear(),this.activeContexts=0,this.connectPromise=null,this.setState(ce.Disconnected),void 0!==h)throw Error(h)})}startStream(h){return N(this,void 0,void 0,function*(){this.debug&&console.log("[Decoder]","startStream"),this.streamOptions=h,this.audioContexts.clear(),this.activeContexts=0,yield this.apiClient.startStream(h)})}stopStream(){return N(this,void 0,void 0,function*(){this.debug&&console.log("[Decoder]","stopStream"),yield this.apiClient.stopStream(),yield this.waitResults()})}waitResults(){return N(this,void 0,void 0,function*(){this.activeContexts>0&&(yield new Promise(p=>{this.resolveStopStream=p})),this.resolveStopStream=void 0})}startContext(h){return N(this,void 0,void 0,function*(){if(this.state===ce.Failed)throw Error("[Decoder] startContext cannot be run in Failed state.");if(this.state<ce.Connected)yield this.connect();else if(this.state>ce.Connected)throw Error("[Decoder] Unable to complete startContext: Expected Connected state, but was in "+ln(this.state)+".");let p;if(this.setState(ce.Active),null!=this.projectId){if(!h?.appId)throw new Error("options.appId is required with project login");p=yield this.apiClient.startContext(h)}else{if(null!=h?.appId&&this.appId!==h?.appId)throw this.setState(ce.Failed),Mt;p=yield this.apiClient.startContext(h)}if(this.state<ce.Active)throw Error("[Decoder] Unable to complete startContext: Problem acquiring contextId");return p})}sendAudio(h){this.apiClient.sendAudio(h)}stopContext(h){return N(this,void 0,void 0,function*(){if(this.state===ce.Failed)throw Error("[Decoder] stopContext cannot be run in unrecovable error state.");if(this.state!==ce.Active)throw Error("[Decoder] Unable to complete stopContext: Expected Active state, but was in "+ln(this.state)+".");h>0&&(yield this.sleep(h));const p=yield this.apiClient.stopContext();return this.setState(ce.Connected),p})}switchContext(h){return N(this,void 0,void 0,function*(){if(this.state!==ce.Active)throw Error("[Decoder] Unable to complete switchContext: Expected Active state, but was in "+ln(this.state)+".");return yield this.apiClient.switchContext(h)})}registerListener(h){this.cbs.push(h)}initAudioProcessor(h,p,v,S){return N(this,void 0,void 0,function*(){yield this.apiClient.initAudioProcessor(h,p,v,S)})}useSharedArrayBuffers(h,p){this.apiClient.postMessage({type:"SET_SHARED_ARRAY_BUFFERS",controlSAB:h,dataSAB:p})}setContextOptions(h){return N(this,void 0,void 0,function*(){yield this.apiClient.setContextOptions(h)})}reconnect(){return N(this,void 0,void 0,function*(){console.log("Speechly reconnecting"),this.connectPromise=null,this.connectAttempt<this.maxReconnectAttemptCount?(yield this.sleep(this.getReconnectDelayMs(this.connectAttempt++)),yield this.connect()):console.error("[Decoder] Maximum reconnect count reached, giving up automatic reconnect.")})}advanceState(h){this.state>=h||this.setState(h)}setState(h){this.state!==h&&(this.debug&&console.log("[Decoder]",ln(this.state),"->",ln(h)),this.state=h,this.cbs.forEach(p=>{var v;return null===(v=p.stateChangeCbs)||void 0===v?void 0:v.forEach(S=>S(h))}))}getSegments(){const h=[];return this.audioContexts.forEach((p,v)=>{p.segments.forEach((S,E)=>{const z=JSON.parse(JSON.stringify(S));h.push(z)})}),h}}class Gs{constructor(h){var p,v;this.contextStopDelay=250,this.debug=!1,this.initialized=!1,this.audioProcessorInitialized=!1,this.isStreaming=!1,this.active=!1,this.listeningPromise=null,this.streamOptions=Object.assign({},eo),this.stats={maxSignalEnergy:0,sentSamples:0},this.decoderOptions=Object.assign(Object.assign(Object.assign({},_n),h),{vad:h.vad?Object.assign(Object.assign({},Er),h.vad):void 0});const S=window.navigator.mediaDevices.getSupportedConstraints();this.nativeResamplingSupported=!0===S.sampleRate,this.isMobileSafari=function ch(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>=0||navigator.userAgent.includes("Mac")&&"ontouchend"in document}(),this.isSafari=this.isMobileSafari||void 0!==window.safari,this.useSAB=!this.isSafari,this.debug=null===(p=this.decoderOptions.debug)||void 0===p||p,this.callbacks=new Kr,this.callbacks.stateChangeCbs.addEventListener(this.handleStateChange.bind(this)),this.callbacks.onVadStateChange.addEventListener(this.autoControlListening.bind(this)),this.decoder=null!==(v=this.decoderOptions.decoder)&&void 0!==v?v:new Ql(this.decoderOptions),this.decoder.registerListener(this.callbacks)}initialize(h){var p,v;return N(this,void 0,void 0,function*(){if(!this.initialized){this.debug&&console.log("[BrowserClient]","initializing"),this.initialized=!0;try{yield this.decoder.connect()}catch(S){if(this.initialized=!1,S instanceof it){if(1e3===S.code)return void(this.debug&&console.log("[BrowserClient]","Early close of websocket."));throw Error(`Unable to connect. Most likely there is no connection to network. Websocket error code: ${S.code}`)}throw S}try{const S={};if(this.nativeResamplingSupported&&(S.sampleRate=We),void 0!==window.webkitAudioContext)try{this.audioContext=new window.webkitAudioContext(S)}catch(E){this.debug&&console.log("[BrowserClient]","creating audioContext without samplerate conversion",E),this.audioContext=new window.webkitAudioContext}else this.audioContext=new window.AudioContext(S),void 0!==window.webkitAudioContext&&(yield this.audioContext.resume())}catch{throw this.initialized=!1,J}if(this.isSafari||void 0===window.AudioWorkletNode){if(this.debug&&console.log("[BrowserClient]","using ScriptProcessorNode"),void 0!==window.webkitAudioContext){const E=4096*Math.pow(2,Math.ceil(Math.log(this.audioContext.sampleRate/We)/Math.log(2)));this.audioProcessor=this.audioContext.createScriptProcessor(E,1,1)}else this.audioProcessor=this.audioContext.createScriptProcessor(void 0,1,1);this.audioProcessor.connect(this.audioContext.destination),this.audioProcessor.addEventListener("audioprocess",S=>{this.handleAudio(S.inputBuffer.getChannelData(0))})}else{this.debug&&console.log("[BrowserClient]","using AudioWorkletNode");const S=new Blob(["\n// Indices for the Control SAB.\nconst CONTROL = {\n  'WRITE_INDEX': 0,\n  'FRAMES_AVAILABLE': 1,\n  'LOCK': 2,\n};\n\nclass SpeechlyProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n\n    this._initialized = false;\n    this.debug = false;\n    this.port.onmessage = this._initialize.bind(this);\n  }\n\n  _initialize(event) {\n    this.controlSAB = new Int32Array(event.data.controlSAB);\n    this.dataSAB = new Float32Array(event.data.dataSAB);\n    this.debug = event.data.debug;\n    if (this.debug) {\n      console.log('[BrowserClient AudioWorkletNode]', 'initializing audioworklet');\n    }\n    this.sharedBufferSize = this.dataSAB.length;\n    this.buffer = new Float32Array(0);\n    this._initialized = true;\n  }\n\n  _transferDataToSharedBuffer(data) {\n    this.controlSAB[CONTROL.LOCK] = 1;\n    let inputWriteIndex = this.controlSAB[CONTROL.WRITE_INDEX];\n    if (this.controlSAB[CONTROL.FRAMES_AVAILABLE] > 0) {\n      if (inputWriteIndex + data.length > this.sharedBufferSize) {\n        // console.log('buffer overflow')\n        inputWriteIndex = 0;\n      }\n    }\n    this.dataSAB.set(data, inputWriteIndex);\n    this.controlSAB[CONTROL.WRITE_INDEX] = inputWriteIndex + data.length;\n    this.controlSAB[CONTROL.FRAMES_AVAILABLE] = inputWriteIndex + data.length;\n    this.controlSAB[CONTROL.LOCK] = 0;\n  }\n\n  _pushData(data) {\n    if (this.debug) {\n      const signalEnergy = getStandardDeviation(data)\n      this.port.postMessage({\n        type: 'STATS',\n        signalEnergy: signalEnergy,\n        samples: data.length,\n      });\n    }\n\n    if (this.buffer.length > this.sharedBufferSize) {\n      const dataToTransfer = this.buffer.subarray(0, this.sharedBufferSize);\n      this._transferDataToSharedBuffer(dataToTransfer);\n      this.buffer = this.buffer.subarray(this.sharedBufferSize);\n    }\n    let concat = new Float32Array(this.buffer.length + data.length);\n    concat.set(this.buffer);\n    concat.set(data, this.buffer.length);\n    this.buffer = concat;\n  }\n\n  process(inputs, outputs, parameters) {\n    const inputChannelData = inputs[0][0];\n    if (inputChannelData !== undefined) {\n      if (this.controlSAB && this.dataSAB) {\n        this._pushData(inputChannelData);\n      } else {\n        this.port.postMessage({\n          type: 'DATA',\n          frames: inputChannelData\n        });\n      }\n    }\n\n    return true;\n  }\n}\n\nfunction getStandardDeviation(array) {\n  const n = array.length\n  const mean = array.reduce((a, b) => a + b) / n\n  return Math.sqrt(array.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n)\n}\n\nregisterProcessor('speechly-worklet', SpeechlyProcessor);\n"],{type:"text/javascript"}),E=window.URL.createObjectURL(S);if(yield this.audioContext.audioWorklet.addModule(E),this.speechlyNode=new AudioWorkletNode(this.audioContext,"speechly-worklet"),this.speechlyNode.connect(this.audioContext.destination),this.useSAB&&void 0!==window.SharedArrayBuffer){this.debug&&console.log("[BrowserClient]","using SharedArrayBuffer");const z=new window.SharedArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT),Z=new window.SharedArrayBuffer(1024*Float32Array.BYTES_PER_ELEMENT);this.decoder.useSharedArrayBuffers(z,Z),this.speechlyNode.port.postMessage({type:"SET_SHARED_ARRAY_BUFFERS",controlSAB:z,dataSAB:Z,debug:this.debug})}else this.debug&&console.log("[BrowserClient]","can not use SharedArrayBuffer");this.speechlyNode.port.onmessage=z=>{switch(z.data.type){case"STATS":z.data.signalEnergy>this.stats.maxSignalEnergy&&(this.stats.maxSignalEnergy=z.data.signalEnergy),this.stats.sentSamples+=parseInt(z.data.samples);break;case"DATA":this.handleAudio(z.data.frames)}}}this.debug&&console.log("[BrowserClient]","audioContext sampleRate is",null===(p=this.audioContext)||void 0===p?void 0:p.sampleRate),this.streamOptions.sampleRate=null===(v=this.audioContext)||void 0===v?void 0:v.sampleRate,yield this.decoder.initAudioProcessor(this.streamOptions.sampleRate,this.decoderOptions.frameMillis,this.decoderOptions.historyFrames,this.decoderOptions.vad),this.audioProcessorInitialized=!0,h?.mediaStream&&(yield this.attach(h?.mediaStream))}})}attach(h){var p,v,S,E,z,Z;return N(this,void 0,void 0,function*(){if(yield this.initialize(),yield this.detach(),this.stream=null===(p=this.audioContext)||void 0===p?void 0:p.createMediaStreamSource(h),"running"!==(null===(v=this.audioContext)||void 0===v?void 0:v.state)&&(this.debug&&console.log("[BrowserClient]","audioContext resume required, state is",null===(S=this.audioContext)||void 0===S?void 0:S.state),yield null===(E=this.audioContext)||void 0===E?void 0:E.resume()),this.speechlyNode)null===(z=this.stream)||void 0===z||z.connect(this.speechlyNode);else{if(!this.audioProcessor)throw Error("[BrowserClient] cannot attach to mediaStream, not initialized");null===(Z=this.stream)||void 0===Z||Z.connect(this.audioProcessor)}yield this.autoControlStream()})}isActive(){return this.active}start(h){return N(this,void 0,void 0,function*(){if(this.active)throw Vs;return this.active=!0,yield this.queueTask(()=>N(this,void 0,void 0,function*(){return yield this.initialize(),this.isStreaming||(yield this.startStream({autoStarted:!0})),yield this.decoder.startContext(h)}))})}stop(h=this.contextStopDelay){return N(this,void 0,void 0,function*(){if(!this.active)throw ur;return this.active=!1,yield this.queueTask(()=>N(this,void 0,void 0,function*(){var v;try{const S=yield this.decoder.stopContext(h);return!(null!==(v=this.decoderOptions.vad)&&void 0!==v&&v.enabled)&&this.isStreaming&&this.streamOptions.autoStarted&&(yield this.stopStream()),0===this.stats.sentSamples&&console.warn("[BrowserClient]","audioContext contained no audio data"),S}catch(S){console.warn("[BrowserClient]","stop() failed",S)}finally{this.stats.sentSamples=0}}))})}setContextOptions(h){return N(this,void 0,void 0,function*(){yield this.decoder.setContextOptions(h)})}adjustAudioProcessor(h){var p;if(h.vad){if(!this.decoderOptions.vad)throw Error("Unable to adjust VAD - it was not defined in the constructor");this.decoderOptions.vad=Object.assign(Object.assign({},this.decoderOptions.vad),h.vad)}this.decoder.adjustAudioProcessor(h),null!==(p=this.decoderOptions.vad)&&void 0!==p&&p.enabled?this.autoControlStream():this.active&&this.stop()}uploadAudioData(h,p){var v,S,E;return N(this,void 0,void 0,function*(){yield this.initialize();const z=yield null===(v=this.audioContext)||void 0===v?void 0:v.decodeAudioData(h);if(void 0===z)throw Error("Could not decode audioData");const Z=z.getChannelData(0);if(z.numberOfChannels>1){const re=z.getChannelData(1);for(let xe=0;xe<Z.length;xe++)Z[xe]=(Z[xe]+re[xe])/2}this.active&&(yield this.stop(0)),this.isStreaming&&(yield this.stopStream()),yield this.startStream({sampleRate:z.sampleRate,preserveSegments:!0,immediate:!0});const Q=(null===(S=this.decoderOptions.vad)||void 0===S?void 0:S.enabled)&&(null===(E=this.decoderOptions.vad)||void 0===E?void 0:E.controlListening);let at,se=0;Q?(p&&(yield this.setContextOptions(p)),this.decoderOptions.vad.signalSustainMillis>=1e3?se=1e3/(10/(1e4/this.decoderOptions.vad.signalSustainMillis)):console.warn("Throttling disabled due to low (<= 1000) VAD sustain value. Server may disconnect while processing if contexts are created at high rate."),se=0):yield this.start(p);const Ie=Math.round(1e3*z.sampleRate/1e3);for(let re=0;re<Z.length;re+=Ie){const xe=re+Ie;at=xe>Z.length?Z.slice(re):Z.slice(re,xe),this.handleAudio(at),yield this.sleep(se)}return Q||(yield this.stop(0)),yield this.stopStream(),this.decoder.getSegments()})}startStream(h){return N(this,void 0,void 0,function*(){this.streamOptions=Object.assign(Object.assign(Object.assign({},this.streamOptions),{autoStarted:!1}),h),yield this.decoder.startStream(this.streamOptions),this.isStreaming=!0})}stopStream(){return N(this,void 0,void 0,function*(){this.isStreaming&&(this.isStreaming=!1,yield this.decoder.stopStream())})}queueTask(h){return N(this,void 0,void 0,function*(){const p=this.listeningPromise;return this.listeningPromise=(()=>N(this,void 0,void 0,function*(){return yield p,h()}))(),this.listeningPromise})}autoControlListening(h){var p;this.debug&&console.log("[BrowserClient]","autoControlListening",h),null!==(p=this.decoderOptions.vad)&&void 0!==p&&p.controlListening&&(h?this.active||this.start():this.active&&this.stop(0))}autoControlStream(){var h,p;return N(this,void 0,void 0,function*(){if(this.audioProcessorInitialized&&this.stream){if(null!==(h=this.decoderOptions.vad)&&void 0!==h&&h.enabled&&!this.isStreaming)return void(yield this.startStream({autoStarted:!0}));(null===(p=this.decoderOptions.vad)||void 0===p||!p.enabled)&&this.isStreaming&&this.streamOptions.autoStarted&&(yield this.stopStream())}})}handleStateChange(h){switch(h){case ce.Disconnected:case ce.Failed:this.stopStream(),this.active=!1,this.listeningPromise=null}}detach(){return N(this,void 0,void 0,function*(){this.active&&(yield this.stop(0)),this.stream&&(this.stream.disconnect(),this.stream=void 0)})}close(){var h,p,v;return N(this,void 0,void 0,function*(){this.debug&&console.log("[BrowserClient]","close"),yield this.detach(),null!==this.speechlyNode&&(null===(h=this.speechlyNode)||void 0===h||h.port.close(),null===(p=this.speechlyNode)||void 0===p||p.disconnect()),void 0!==this.audioProcessor&&(null===(v=this.audioProcessor)||void 0===v||v.disconnect()),yield this.decoder.close(),this.initialized=!1,this.listeningPromise=null})}sleep(h){return N(this,void 0,void 0,function*(){return new Promise(p=>setTimeout(p,h))})}handleAudio(h){this.isStreaming&&(this.stats.sentSamples+=h.length,this.decoder.sendAudio(h))}onStart(h){this.callbacks.contextStartedCbs.addEventListener(h)}onStop(h){this.callbacks.contextStoppedCbs.addEventListener(h)}onSegmentChange(h){this.callbacks.segmentChangeCbs.addEventListener(h)}onTranscript(h){this.callbacks.transcriptCbs.addEventListener(h)}onEntity(h){this.callbacks.entityCbs.addEventListener(h)}onIntent(h){this.callbacks.intentCbs.addEventListener(h)}onTentativeTranscript(h){this.callbacks.tentativeTranscriptCbs.addEventListener(h)}onTentativeEntities(h){this.callbacks.tentativeEntityCbs.addEventListener(h)}onTentativeIntent(h){this.callbacks.tentativeIntentCbs.addEventListener(h)}onStateChange(h){this.callbacks.stateChangeCbs.addEventListener(h)}}},126:function(Sr,Oe,on){var J=this&&this.__awaiter||function(ge,N,Ot,sn){return new(Ot||(Ot=Promise))(function(ae,st){function Ne(an){try{Pe(sn.next(an))}catch(Hn){st(Hn)}}function ot(an){try{Pe(sn.throw(an))}catch(Hn){st(Hn)}}function Pe(an){an.done?ae(an.value):function Pt(ae){return ae instanceof Ot?ae:new Ot(function(st){st(ae)})}(an.value).then(Ne,ot)}Pe((sn=sn.apply(ge,N||[])).next())})};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.createSpeechlySpeechRecognition=void 0;const Mt=on(938),it=on(353);Oe.createSpeechlySpeechRecognition=ge=>{var N,Ot;const sn=typeof window<"u"&&void 0!==(null===(N=window.navigator)||void 0===N?void 0:N.mediaDevices)&&(void 0!==window.AudioContext||void 0!==window.webkitAudioContext);return(Ot=class{constructor(){this.aborted=!1,this.transcribing=!1,this.taskQueue=null,this.continuous=!1,this.interimResults=!1,this.onresult=()=>{},this.onend=()=>{},this.onerror=()=>{},this.start=()=>J(this,void 0,void 0,function*(){try{this.aborted=!1,yield this._start()}catch(ae){this.onerror(ae===Mt.ErrNoAudioConsent?it.MicrophoneNotAllowedError:it.SpeechRecognitionFailedError)}}),this.stop=()=>J(this,void 0,void 0,function*(){yield this._stop()}),this.abort=()=>J(this,void 0,void 0,function*(){this.aborted=!0,yield this._stop()}),this._start=()=>J(this,void 0,void 0,function*(){this.transcribing||(this.transcribing=!0,yield this.enqueueTask(()=>J(this,void 0,void 0,function*(){yield this.microphone.initialize();const{mediaStream:st}=this.microphone;if(null==st)throw Mt.ErrDeviceNotSupported;yield this.client.attach(st),yield this.client.start()})))}),this._stop=()=>J(this,void 0,void 0,function*(){this.transcribing&&(this.transcribing=!1,yield this.enqueueTask(()=>J(this,void 0,void 0,function*(){try{yield this.client.stop(),yield this.client.detach(),yield this.microphone.close(),this.onend()}catch{}})))}),this.enqueueTask=ae=>J(this,void 0,void 0,function*(){this.taskQueue=(()=>J(this,void 0,void 0,function*(){yield this.taskQueue,yield ae()}))(),yield this.taskQueue}),this.handleResult=ae=>{if(this.aborted||!this.interimResults&&!ae.isFinal)return;const Ne=[{0:{transcript:ae.words.map(ot=>ot.value).filter(ot=>ot).join(" "),confidence:1},isFinal:ae.isFinal}];this.onresult({results:Ne,resultIndex:0}),!this.continuous&&ae.isFinal&&this.abort().catch(()=>{})},this.client=new Mt.BrowserClient({appId:ge}),this.microphone=new Mt.BrowserMicrophone,this.client.onSegmentChange(this.handleResult)}}).hasBrowserSupport=sn,Ot},Oe.default=Oe.createSpeechlySpeechRecognition},428:function(Sr,Oe,on){var J=this&&this.__createBinding||(Object.create?function(it,We,ge,N){void 0===N&&(N=ge),Object.defineProperty(it,N,{enumerable:!0,get:function(){return We[ge]}})}:function(it,We,ge,N){void 0===N&&(N=ge),it[N]=We[ge]}),Mt=this&&this.__exportStar||function(it,We){for(var ge in it)"default"!==ge&&!Object.prototype.hasOwnProperty.call(We,ge)&&J(We,it,ge)};Object.defineProperty(Oe,"__esModule",{value:!0}),Mt(on(126),Oe),Mt(on(353),Oe)},353:(Sr,Oe)=>{Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.SpeechRecognitionFailedError=Oe.MicrophoneNotAllowedError=void 0,Oe.MicrophoneNotAllowedError={error:"not-allowed",message:"User did not give permission to use the microphone"},Oe.SpeechRecognitionFailedError={error:"audio-capture",message:"Speech recognition failed"}},592:(Sr,Oe,on)=>{function J(e){return"function"==typeof e}function Mt(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const it=Mt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function We(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ge{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(J(r))try{r()}catch(o){t=o instanceof it?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{sn(o)}catch(s){t=t??[],s instanceof it?t=[...t,...s.errors]:t.push(s)}}if(t)throw new it(t)}}add(t){var n;if(t&&t!==this)if(this.closed)sn(t);else{if(t instanceof ge){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&We(n,t)}remove(t){const{_finalizers:n}=this;n&&We(n,t),t instanceof ge&&t._removeParent(this)}}ge.EMPTY=(()=>{const e=new ge;return e.closed=!0,e})();const N=ge.EMPTY;function Ot(e){return e instanceof ge||e&&"closed"in e&&J(e.remove)&&J(e.add)&&J(e.unsubscribe)}function sn(e){J(e)?e():e.unsubscribe()}const Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ae={setTimeout(e,t,...n){const{delegate:r}=ae;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ae;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function st(e){ae.setTimeout(()=>{const{onUnhandledError:t}=Pt;if(!t)throw e;t(e)})}function Ne(){}const ot=Hn("C",void 0,void 0);function Hn(e,t,n){return{kind:e,value:t,error:n}}let _n=null;function Er(e){if(Pt.useDeprecatedSynchronousErrorHandling){const t=!_n;if(t&&(_n={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=_n;if(_n=null,n)throw r}}else e()}class ce extends ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ot(t)&&t.add(this)):this.destination=Xl}static create(t,n,r){return new ur(t,n,r)}next(t){this.isStopped?cr(function an(e){return Hn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?cr(function Pe(e){return Hn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?cr(ot,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function Kr(e,t){return Rt.call(e,t)}class Vs{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ln(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ln(r)}else ln(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ln(n)}}}class ur extends ce{constructor(t,n,r){let i;if(super(),J(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Pt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Kr(t.next,o),error:t.error&&Kr(t.error,o),complete:t.complete&&Kr(t.complete,o)}):i=t}this.destination=new Vs(i)}}function ln(e){Pt.useDeprecatedSynchronousErrorHandling?function eo(e){Pt.useDeprecatedSynchronousErrorHandling&&_n&&(_n.errorThrown=!0,_n.error=e)}(e):st(e)}function cr(e,t){const{onStoppedNotification:n}=Pt;n&&ae.setTimeout(()=>n(e,t))}const Xl={closed:!0,next:Ne,error:function jl(e){throw e},complete:Ne},to="function"==typeof Symbol&&Symbol.observable||"@@observable";function Un(e){return e}function He(e){return 0===e.length?Un:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Se=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function no(e){return e&&e instanceof ce||function Os(e){return e&&J(e.next)&&J(e.error)&&J(e.complete)}(e)&&Ot(e)}(n)?n:new ur(n,r,i);return Er(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ks(r))((i,o)=>{const s=new ur({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[to](){return this}pipe(...n){return He(n)(this)}toPromise(n){return new(n=ks(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function ks(e){var t;return null!==(t=e??Pt.Promise)&&void 0!==t?t:Promise}const ro=Mt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let un=(()=>{class e extends Se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ps(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ro}next(n){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?N:(this.currentObservers=null,o.push(n),new ge(()=>{this.currentObservers=null,We(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Se;return n.source=this,n}}return e.create=(t,n)=>new Ps(t,n),e})();class Ps extends un{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:N}}function io(e){return J(e?.lift)}function Ue(e){return t=>{if(io(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(e,t,n,r,i){return new $l(e,t,n,r,i)}class $l extends ce{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ne(e,t){return Ue((n,r)=>{let i=0;n.subscribe(Be(r,o=>{r.next(e.call(t,o,i++))}))})}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function z(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(f){return new Promise(function(C,m){o.push([g,f,C,m])>1||a(g,f)})})}function a(g,f){try{!function l(g){g.value instanceof E?Promise.resolve(g.value.v).then(u,c):d(o[0][2],g)}(r[g](f))}catch(C){d(o[0][3],C)}}function u(g){a("next",g)}function c(g){a("throw",g)}function d(g,f){g(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Q(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function I(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}const yt=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function et(e){return J(e?.then)}function Tt(e){return J(e[to])}function Bt(e){return Symbol.asyncIterator&&J(e?.[Symbol.asyncIterator])}function je(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ls=function ve(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dh(e){return J(e?.[Ls])}function gh(e){return z(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield E(n.read());if(i)return yield E(void 0);yield yield E(r)}}finally{n.releaseLock()}})}function hh(e){return J(e?.getReader)}function Yt(e){if(e instanceof Se)return e;if(null!=e){if(Tt(e))return function wb(e){return new Se(t=>{const n=e[to]();if(J(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(yt(e))return function _b(e){return new Se(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(et(e))return function Sb(e){return new Se(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,st)})}(e);if(Bt(e))return fh(e);if(dh(e))return function Eb(e){return new Se(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(hh(e))return function Mb(e){return fh(gh(e))}(e)}throw je(e)}function fh(e){return new Se(t=>{(function Rb(e,t){var n,r,i,o;return function ql(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Q(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function zn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function lt(e,t,n=1/0){return J(t)?lt((r,i)=>ne((o,s)=>t(r,o,i,s))(Yt(e(r,i))),n):("number"==typeof t&&(n=t),Ue((r,i)=>function Tb(e,t,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const g=()=>{d&&!l.length&&!u&&t.complete()},f=m=>u<r?C(m):l.push(m),C=m=>{o&&t.next(m),u++;let A=!1;Yt(n(m,c++)).subscribe(Be(t,w=>{i?.(w),o?f(w):t.next(w)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;l.length&&u<r;){const w=l.shift();s?zn(t,s,()=>C(w)):C(w)}g()}catch(w){t.error(w)}}))};return e.subscribe(Be(t,f,()=>{d=!0,g()})),()=>{a?.()}}(r,i,e,n)))}function Jr(e=1/0){return lt(Un,e)}const En=new Se(e=>e.complete());function ph(e){return e&&J(e.schedule)}function eu(e){return e[e.length-1]}function Ch(e){return J(eu(e))?e.pop():void 0}function so(e){return ph(eu(e))?e.pop():void 0}function mh(e,t=0){return Ue((n,r)=>{n.subscribe(Be(r,i=>zn(r,e,()=>r.next(i),t),()=>zn(r,e,()=>r.complete(),t),i=>zn(r,e,()=>r.error(i),t)))})}function Ih(e,t=0){return Ue((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Ah(e,t){if(!e)throw new Error("Iterable cannot be null");return new Se(n=>{zn(n,t,()=>{const r=e[Symbol.asyncIterator]();zn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xe(e,t){return t?function Bb(e,t){if(null!=e){if(Tt(e))return function Fb(e,t){return Yt(e).pipe(Ih(t),mh(t))}(e,t);if(yt(e))return function kb(e,t){return new Se(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(et(e))return function Vb(e,t){return Yt(e).pipe(Ih(t),mh(t))}(e,t);if(Bt(e))return Ah(e,t);if(dh(e))return function Ob(e,t){return new Se(n=>{let r;return zn(n,t,()=>{r=e[Ls](),zn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}(e,t);if(hh(e))return function Pb(e,t){return Ah(gh(e),t)}(e,t)}throw je(e)}(e,t):Yt(e)}function tu(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ur({next:()=>{r.unsubscribe(),e()}});return Yt(t(...n)).subscribe(r)}function Ae(e){for(let t in e)if(e[t]===Ae)return t;throw Error("Could not find renamed property on target object.")}function nu(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function be(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(be).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ru(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Zb=Ae({__forward_ref__:Ae});function De(e){return e.__forward_ref__=De,e.toString=function(){return be(this())},e}function G(e){return iu(e)?e():e}function iu(e){return"function"==typeof e&&e.hasOwnProperty(Zb)&&e.__forward_ref__===De}function ou(e){return e&&!!e.\u0275providers}const yh="https://g.co/ng/security#xss";class _ extends Error{constructor(t,n){super(function Zs(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function X(e){return"string"==typeof e?e:null==e?"":String(e)}function Ws(e,t){throw new _(-201,!1)}function $t(e,t){null==e&&function fe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function W(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function cn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Hs(e){return vh(e,Us)||vh(e,Dh)}function vh(e,t){return e.hasOwnProperty(t)?e[t]:null}function bh(e){return e&&(e.hasOwnProperty(su)||e.hasOwnProperty(Kb))?e[su]:null}const Us=Ae({\u0275prov:Ae}),su=Ae({\u0275inj:Ae}),Dh=Ae({ngInjectableDef:Ae}),Kb=Ae({ngInjectorDef:Ae});var L=(()=>((L=L||{})[L.Default=0]="Default",L[L.Host=1]="Host",L[L.Self=2]="Self",L[L.SkipSelf=4]="SkipSelf",L[L.Optional=8]="Optional",L))();let au;function Kt(e){const t=au;return au=e,t}function wh(e,t,n){const r=Hs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&L.Optional?null:void 0!==t?t:void Ws(be(e))}const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ao={},lu="__NG_DI_FLAG__",zs="ngTempTokenPath",qb=/\n/gm,_h="__source";let lo;function Qr(e){const t=lo;return lo=e,t}function t0(e,t=L.Default){if(void 0===lo)throw new _(-203,!1);return null===lo?wh(e,void 0,t):lo.get(e,t&L.Optional?null:void 0,t)}function O(e,t=L.Default){return(function Jb(){return au}()||t0)(G(e),t)}function le(e,t=L.Default){return O(e,js(t))}function js(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function uu(e){const t=[];for(let n=0;n<e.length;n++){const r=G(e[n]);if(Array.isArray(r)){if(0===r.length)throw new _(900,!1);let i,o=L.Default;for(let s=0;s<r.length;s++){const a=r[s],l=n0(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(O(i,o))}else t.push(O(r))}return t}function uo(e,t){return e[lu]=t,e.prototype[lu]=t,e}function n0(e){return e[lu]}function gr(e){return{toString:e}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),Mn=(()=>{return(e=Mn||(Mn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Mn;var e})();const jn={},de=[],Xs=Ae({\u0275cmp:Ae}),cu=Ae({\u0275dir:Ae}),du=Ae({\u0275pipe:Ae}),Eh=Ae({\u0275mod:Ae}),Xn=Ae({\u0275fac:Ae}),co=Ae({__NG_ELEMENT_ID__:Ae});let s0=0;function gn(e){return gr(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||de,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Mn.Emulated,id:"c"+s0++,styles:e.styles||de,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=e.dependencies,s=e.features;return i.inputs=Th(e.inputs,r),i.outputs=Th(e.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Mh).filter(Rh):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(vt).filter(Rh):null,i})}function Mh(e){return pe(e)||ht(e)}function Rh(e){return null!==e}function Rn(e){return gr(()=>({type:e.type,bootstrap:e.bootstrap||de,declarations:e.declarations||de,imports:e.imports||de,exports:e.exports||de,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Th(e,t){if(null==e)return jn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const j=gn;function pe(e){return e[Xs]||null}function ht(e){return e[cu]||null}function vt(e){return e[du]||null}function Lt(e,t){const n=e[Eh]||null;if(!n&&!0===t)throw new Error(`Type ${be(e)} does not have '\u0275mod' property.`);return n}function Zt(e){return Array.isArray(e)&&"object"==typeof e[1]}function fn(e){return Array.isArray(e)&&!0===e[1]}function fu(e){return 0!=(4&e.flags)}function po(e){return e.componentOffset>-1}function Qs(e){return 1==(1&e.flags)}function pn(e){return null!==e.template}function u0(e){return 0!=(256&e[2])}function Rr(e,t){return e.hasOwnProperty(Xn)?e[Xn]:null}class g0{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Jt(){return Oh}function Oh(e){return e.type.prototype.ngOnChanges&&(e.setInput=f0),h0}function h0(){const e=Bh(this),t=e?.current;if(t){const n=e.previous;if(n===jn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function f0(e,t,n,r){const i=this.declaredInputs[n],o=Bh(e)||function p0(e,t){return e[Ph]=t}(e,{previous:jn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new g0(l&&l.currentValue,t,a===jn),e[r]=t}Jt.ngInherit=!0;const Ph="__ngSimpleChanges__";function Bh(e){return e[Ph]||null}function ut(e){for(;Array.isArray(e);)e=e[0];return e}function qs(e,t){return ut(t[e])}function Wt(e,t){return ut(t[e.index])}function Zh(e,t){return e.data[t]}function Ht(e,t){const n=t[e];return Zt(n)?n:n[0]}function ea(e){return 64==(64&e[2])}function hr(e,t){return null==t?null:e[t]}function Wh(e){e[18]=0}function Cu(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Y={lFrame:ef(null),bindingsEnabled:!0};function Uh(){return Y.bindingsEnabled}function b(){return Y.lFrame.lView}function ue(){return Y.lFrame.tView}function ct(){let e=Xh();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xh(){return Y.lFrame.currentTNode}function Nn(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function mu(){return Y.lFrame.isParent}function oi(){return Y.lFrame.bindingIndex++}function M0(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,Au(t)}function Au(e){Y.lFrame.currentDirectiveIndex=e}function vu(e){Y.lFrame.currentQueryIndex=e}function T0(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Qh(e,t,n){if(n&L.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&L.Host||(i=T0(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Y.lFrame=qh();return r.currentTNode=t,r.lView=e,!0}function bu(e){const t=qh(),n=e[1];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function qh(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?ef(e):t}function ef(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function tf(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const nf=tf;function Du(){const e=tf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wt(){return Y.lFrame.selectedIndex}function Tr(e){Y.lFrame.selectedIndex=e}function Re(){const e=Y.lFrame;return Zh(e.tView,e.selectedIndex)}function ta(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function na(e,t,n){rf(e,t,3,n)}function ra(e,t,n,r){(3&e[2])===n&&rf(e,t,n,r)}function wu(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function rf(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[18]+=65536),(a<o||-1==o)&&(G0(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function G0(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class mo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Su(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];af(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function sf(e){return 3===e||4===e||6===e}function af(e){return 64===e.charCodeAt(0)}function Io(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||lf(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function lf(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function uf(e){return-1!==e}function ia(e){return 32767&e}function oa(e,t){let n=function H0(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Eu=!0;function sa(e){const t=Eu;return Eu=e,t}let U0=0;const xn={};function aa(e,t){const n=gf(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Mu(r.data,e),Mu(t,null),Mu(r.blueprint,null));const i=Ru(e,t),o=e.injectorIndex;if(uf(i)){const s=ia(i),a=oa(i,t),l=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function Mu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ru(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Af(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Tu(e,t,n){!function z0(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(co)&&(r=n[co]),null==r&&(r=n[co]=U0++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function hf(e,t,n){if(n&L.Optional||void 0!==e)return e;Ws()}function ff(e,t,n,r){if(n&L.Optional&&void 0===r&&(r=null),!(n&(L.Self|L.Host))){const i=e[9],o=Kt(void 0);try{return i?i.get(t,r,n&L.Optional):wh(t,r,n&L.Optional)}finally{Kt(o)}}return hf(r,0,n)}function pf(e,t,n,r=L.Default,i){if(null!==e){if(1024&t[2]){const s=function K0(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Cf(o,s,n,r|L.Self,xn);if(a!==xn)return a;let l=o.parent;if(!l){const u=s[21];if(u){const c=u.get(n,xn,r);if(c!==xn)return c}l=Af(s),s=s[15]}o=l}return i}(e,t,n,r,xn);if(s!==xn)return s}const o=Cf(e,t,n,r,xn);if(o!==xn)return o}return ff(t,n,r,i)}function Cf(e,t,n,r,i){const o=function Y0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(co)?e[co]:void 0;return"number"==typeof t?t>=0?255&t:$0:t}(n);if("function"==typeof o){if(!Qh(t,e,r))return r&L.Host?hf(i,0,r):ff(t,n,r,i);try{const s=o(r);if(null!=s||r&L.Optional)return s;Ws()}finally{nf()}}else if("number"==typeof o){let s=null,a=gf(e,t),l=-1,u=r&L.Host?t[16][6]:null;for((-1===a||r&L.SkipSelf)&&(l=-1===a?Ru(e,t):t[a+8],-1!==l&&If(r,!1)?(s=t[1],a=ia(l),t=oa(l,t)):a=-1);-1!==a;){const c=t[1];if(mf(o,a,c.data)){const d=X0(a,t,n,s,r,u);if(d!==xn)return d}l=t[a+8],-1!==l&&If(r,t[1].data[a+8]===u)&&mf(o,a,t)?(s=c,a=ia(l),t=oa(l,t)):a=-1}}return i}function X0(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],c=function la(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,g=i?a+c:e.directiveEnd;for(let f=r?a:a+c;f<g;f++){const C=s[f];if(f<l&&n===C||f>=l&&C.type===n)return f}if(i){const f=s[l];if(f&&pn(f)&&f.type===n)return l}return null}(a,s,n,null==r?po(a)&&Eu:r!=s&&0!=(3&a.type),i&L.Host&&o===a);return null!==c?Nr(t,s,c,a):xn}function Nr(e,t,n,r){let i=e[n];const o=t.data;if(function L0(e){return e instanceof mo}(i)){const s=i;s.resolving&&function Wb(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new _(-200,`Circular dependency in DI detected for ${e}${n}`)}(function he(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():X(e)}(o[n]));const a=sa(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Kt(s.injectImpl):null;Qh(e,r,L.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function B0(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Oh(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==l&&Kt(l),sa(a),s.resolving=!1,nf()}}return i}function mf(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function If(e,t){return!(e&L.Self||e&L.Host&&t)}class ai{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return pf(this._tNode,this._lView,t,js(r),n)}}function $0(){return new ai(ct(),b())}function dt(e){return gr(()=>{const t=e.prototype.constructor,n=t[Xn]||Nu(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Xn]||Nu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nu(e){return iu(e)?()=>{const t=Nu(G(e));return t&&t()}:Rr(e)}function Af(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const ui="__parameters__";function di(e,t,n){return gr(()=>{const r=function xu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(ui)?l[ui]:Object.defineProperty(l,ui,{value:[]})[ui];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class V{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xr(e,t){e.forEach(n=>Array.isArray(n)?xr(n,t):t(n))}function vf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ca(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ut(e,t,n){let r=gi(e,t);return r>=0?e[1|r]=n:(r=~r,function eD(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Vu(e,t){const n=gi(e,t);if(n>=0)return e[1|n]}function gi(e,t){return function bf(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const bo=uo(di("Optional"),8),Do=uo(di("SkipSelf"),4);var xt=(()=>((xt=xt||{})[xt.Important=1]="Important",xt[xt.DashCase=2]="DashCase",xt))();const Lu=new Map;let bD=0;const Wu="__ngContext__";function Ct(e,t){Zt(t)?(e[Wu]=t[20],function wD(e){Lu.set(e[20],e)}(t)):e[Wu]=t}function Uu(e,t){return undefined(e,t)}function Eo(e){const t=e[3];return fn(t)?t[3]:t}function zu(e){return Wf(e[13])}function ju(e){return Wf(e[4])}function Wf(e){for(;null!==e&&!fn(e);)e=e[4];return e}function fi(e,t,n,r,i){if(null!=r){let o,s=!1;fn(r)?o=r:Zt(r)&&(s=!0,r=r[0]);const a=ut(r);0===e&&null!==n?null==i?Yf(t,n,a):Fr(t,n,a,i||null,!0):1===e&&null!==n?Fr(t,n,a,i||null,!0):2===e?function qu(e,t,n){const r=fa(e,t);r&&function UD(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function XD(e,t,n,r,i){const o=n[7];o!==ut(n)&&fi(t,e,r,o,i);for(let a=10;a<n.length;a++){const l=n[a];Mo(l[1],l,e,t,r,o)}}(t,e,o,n,i)}}function Yu(e,t,n){return e.createElement(t,n)}function Uf(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,Cu(i,-1)),n.splice(r,1)}function $u(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Uf(i,r),t>0&&(e[n-1][4]=r[4]);const o=ca(e,10+t);!function OD(e,t){Mo(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function zf(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Mo(e,t,n,3,null,null),function GD(e){let t=e[13];if(!t)return Ku(e[1],e);for(;t;){let n=null;if(Zt(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Zt(t)&&Ku(t[1],t),t=t[3];null===t&&(t=e),Zt(t)&&Ku(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ku(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function HD(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof mo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function WD(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&fn(t[3])){n!==t[3]&&Uf(n,t);const r=t[19];null!==r&&r.detachView(e)}!function _D(e){Lu.delete(e[20])}(t)}}function jf(e,t,n){return function Xf(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Mn.None||o===Mn.Emulated)return null}return Wt(r,n)}}(e,t.parent,n)}function Fr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Yf(e,t,n){e.appendChild(t,n)}function $f(e,t,n,r,i){null!==r?Fr(e,t,n,r,i):Yf(e,t,n)}function fa(e,t){return e.parentNode(t)}let nc,Ia,Qf=function Jf(e,t,n){return 40&e.type?Wt(e,n):null};function pa(e,t,n,r){const i=jf(e,r,t),o=t[11],a=function Kf(e,t,n){return Qf(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)$f(o,i,n[l],a,!1);else $f(o,i,n,a,!1)}function Ca(e,t){if(null!==t){const n=t.type;if(3&n)return Wt(t,e);if(4&n)return Qu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ca(e,r);{const i=e[t.index];return fn(i)?Qu(-1,i):ut(i)}}if(32&n)return Uu(t,e)()||ut(e[t.index]);{const r=ep(e,t);return null!==r?Array.isArray(r)?r[0]:Ca(Eo(e[16]),r):Ca(e,t.next)}}return null}function ep(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Qu(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Ca(r,i)}return t[7]}function ec(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Ct(ut(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)ec(e,t,n.child,r,i,o,!1),fi(t,e,i,a,o);else if(32&l){const u=Uu(n,r);let c;for(;c=u();)fi(t,e,i,c,o);fi(t,e,i,a,o)}else 16&l?tp(e,t,r,n,i,o):fi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Mo(e,t,n,r,i,o){ec(n,r,e.firstChild,t,i,o,!1)}function tp(e,t,n,r,i,o){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)fi(t,e,i,l[u],o);else ec(e,t,l,s[3],i,o,!0)}function np(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rp(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Su(e,t,r),null!==i&&np(e,t,i),null!==o&&function $D(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function ap(e){return function rc(){if(void 0===Ia&&(Ia=null,we.trustedTypes))try{Ia=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ia}()?.createScriptURL(e)||e}class lp{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yh})`}}function fr(e){return e instanceof lp?e.changingThisBreaksApplicationSecurity:e}function Ro(e,t){const n=function ow(e){return e instanceof lp&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${yh})`)}return n===t}const uw=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ye=(()=>((Ye=Ye||{})[Ye.NONE=0]="NONE",Ye[Ye.HTML=1]="HTML",Ye[Ye.STYLE=2]="STYLE",Ye[Ye.SCRIPT=3]="SCRIPT",Ye[Ye.URL=4]="URL",Ye[Ye.RESOURCE_URL=5]="RESOURCE_URL",Ye))();function pp(e){const t=No();return t?t.sanitize(Ye.URL,e)||"":Ro(e,"URL")?fr(e):function ic(e){return(e=String(e)).match(uw)?e:"unsafe:"+e}(X(e))}function Cp(e){const t=No();if(t)return ap(t.sanitize(Ye.RESOURCE_URL,e)||"");if(Ro(e,"ResourceURL"))return ap(fr(e));throw new _(904,!1)}function No(){const e=b();return e&&e[12]}const ya=new V("ENVIRONMENT_INITIALIZER"),Ip=new V("INJECTOR",-1),Ap=new V("INJECTOR_DEF_TYPES");class yp{get(t,n=ao){if(n===ao){const r=new Error(`NullInjectorError: No provider for ${be(t)}!`);throw r.name="NullInjectorError",r}return n}}function bw(...e){return{\u0275providers:vp(0,e),\u0275fromNgModule:!0}}function vp(e,...t){const n=[],r=new Set;let i;return xr(t,o=>{const s=o;lc(s,n,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&bp(i,n),n}function bp(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];uc(i,o=>{t.push(o)})}}function lc(e,t,n,r){if(!(e=G(e)))return!1;let i=null,o=bh(e);const s=!o&&pe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=bh(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)lc(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{xr(o.imports,c=>{lc(c,t,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&bp(u,t)}if(!a){const u=Rr(i)||(()=>new i);t.push({provide:i,useFactory:u,deps:de},{provide:Ap,useValue:i,multi:!0},{provide:ya,useValue:()=>O(i),multi:!0})}const l=o.providers;null==l||a||uc(l,c=>{t.push(c)})}}return i!==e&&void 0!==e.providers}function uc(e,t){for(let n of e)ou(n)&&(n=n.\u0275providers),Array.isArray(n)?uc(n,t):t(n)}const Dw=Ae({provide:String,useValue:Ae});function cc(e){return null!==e&&"object"==typeof e&&Dw in e}function kr(e){return"function"==typeof e}const dc=new V("Set Injector scope."),va={},_w={};let gc;function ba(){return void 0===gc&&(gc=new yp),gc}class Qn{}class _p extends Qn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fc(t,s=>this.processProvider(s)),this.records.set(Ip,pi(void 0,this)),i.has("environment")&&this.records.set(Qn,pi(void 0,this));const o=this.records.get(dc);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ap.multi,de,L.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Qr(this),r=Kt(void 0);try{return t()}finally{Qr(n),Kt(r)}}get(t,n=ao,r=L.Default){this.assertNotDestroyed(),r=js(r);const i=Qr(this),o=Kt(void 0);try{if(!(r&L.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Tw(e){return"function"==typeof e||"object"==typeof e&&e instanceof V}(t)&&Hs(t);a=l&&this.injectableDefInScope(l)?pi(hc(t),va):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&L.Self?ba():this.parent).get(t,n=r&L.Optional&&n===ao?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[zs]=s[zs]||[]).unshift(be(t)),i)throw s;return function r0(e,t,n,r){const i=e[zs];throw t[_h]&&i.unshift(t[_h]),e.message=function o0(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=be(t);if(Array.isArray(t))i=t.map(be).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):be(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(qb,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[zs]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{Kt(o),Qr(i)}}resolveInjectorInitializers(){const t=Qr(this),n=Kt(void 0);try{const r=this.get(ya.multi,de,L.Self);for(const i of r)i()}finally{Qr(t),Kt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(be(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(t){let n=kr(t=G(t))?t:G(t&&t.provide);const r=function Ew(e){return cc(e)?pi(void 0,e.useValue):pi(Sp(e),va)}(t);if(kr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=pi(void 0,va,!0),i.factory=()=>uu(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===va&&(n.value=_w,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Rw(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=G(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function hc(e){const t=Hs(e),n=null!==t?t.factory:Rr(e);if(null!==n)return n;if(e instanceof V)throw new _(204,!1);if(e instanceof Function)return function Sw(e){const t=e.length;if(t>0)throw function vo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new _(204,!1);const n=function Yb(e){const t=e&&(e[Us]||e[Dh]);if(t){const n=function $b(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new _(204,!1)}function Sp(e,t,n){let r;if(kr(e)){const i=G(e);return Rr(i)||hc(i)}if(cc(e))r=()=>G(e.useValue);else if(function wp(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...uu(e.deps||[]));else if(function Dp(e){return!(!e||!e.useExisting)}(e))r=()=>O(G(e.useExisting));else{const i=G(e&&(e.useClass||e.provide));if(!function Mw(e){return!!e.deps}(e))return Rr(i)||hc(i);r=()=>new i(...uu(e.deps))}return r}function pi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function fc(e,t){for(const n of e)Array.isArray(n)?fc(n,t):n&&ou(n)?fc(n.\u0275providers,t):t(n)}class Nw{}class Ep{}class Fw{resolveComponentFactory(t){throw function xw(e){const t=Error(`No component factory found for ${be(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let xo=(()=>{class e{}return e.NULL=new Fw,e})();function Vw(){return Ci(ct(),b())}function Ci(e,t){return new zt(Wt(e,t))}let zt=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Vw,e})();class Rp{}let qn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Ow(){const e=b(),n=Ht(ct().index,e);return(Zt(n)?n:e)[11]}(),e})(),Pw=(()=>{class e{}return e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null}),e})();class Fo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Bw=new Fo("15.1.4"),pc={};function mc(e){return e.ngOriginalError}class mi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&mc(t);for(;n&&mc(n);)n=mc(n);return n||null}}function er(e){return e instanceof Function?e():e}function Np(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const xp="ng-template";function $w(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Np(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Fp(e){return 4===e.type&&e.value!==xp}function Kw(e,t,n){return t===(4!==e.type||n?e.value:xp)}function Jw(e,t,n){let r=4;const i=e.attrs||[],o=function e_(e){for(let t=0;t<e.length;t++)if(sf(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Kw(e,l,n)||""===l&&1===t.length){if(Cn(r))return!1;s=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!$w(e.attrs,u,n)){if(Cn(r))return!1;s=!0}continue}const d=Qw(8&r?"class":l,i,Fp(e),n);if(-1===d){if(Cn(r))return!1;s=!0;continue}if(""!==u){let g;g=d>o?"":i[d+1].toLowerCase();const f=8&r?g:null;if(f&&-1!==Np(f,u,0)||2&r&&u!==g){if(Cn(r))return!1;s=!0}}}}else{if(!s&&!Cn(r)&&!Cn(l))return!1;if(s&&Cn(l))continue;s=!1,r=l|1&r}}return Cn(r)||s}function Cn(e){return 0==(1&e)}function Qw(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function t_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Vp(e,t,n=!1){for(let r=0;r<t.length;r++)if(Jw(e,t[r],n))return!0;return!1}function kp(e,t){return e?":not("+t.trim()+")":t}function r_(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Cn(s)&&(t+=kp(o,i),i=""),r=s,o=o||!Cn(r);n++}return""!==i&&(t+=kp(o,i)),t}const $={};function pr(e){Op(ue(),b(),wt()+e,!1)}function Op(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&na(t,o,n)}else{const o=e.preOrderHooks;null!==o&&ra(t,o,0,n)}Tr(n)}function Lp(e,t=null,n=null,r){const i=Zp(e,t,n,r);return i.resolveInjectorInitializers(),i}function Zp(e,t=null,n=null,r,i=new Set){const o=[n||de,bw(e)];return r=r||("object"==typeof e?void 0:be(e)),new _p(o,t||ba(),r||null,i)}let mn=(()=>{class e{static create(n,r){if(Array.isArray(n))return Lp({name:""},r,n,"");{const i=n.name??"";return Lp({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=ao,e.NULL=new yp,e.\u0275prov=W({token:e,providedIn:"any",factory:()=>O(Ip)}),e.__NG_ELEMENT_ID__=-1,e})();function D(e,t=L.Default){const n=b();return null===n?O(e,t):pf(ct(),n,G(e),t)}function $p(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];vu(n[r]),s.contentQueries(2,t[o],o)}}}function wa(e,t,n,r,i,o,s,a,l,u,c){const d=t.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||e&&1024&e[2])&&(d[2]|=1024),Wh(d),d[3]=d[15]=e,d[8]=n,d[10]=s||e&&e[10],d[11]=a||e&&e[11],d[12]=l||e&&e[12]||null,d[9]=u||e&&e[9]||null,d[6]=o,d[20]=function DD(){return bD++}(),d[21]=c,d[16]=2==t.type?e[16]:d,d}function yi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function bc(e,t,n,r,i){const o=Xh(),s=mu(),l=e.data[t]=function R_(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(e,t,n,r,i),function E0(){return Y.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Co(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Nn(o,!0),o}function Vo(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Dc(e,t,n){bu(t);try{const r=e.viewQuery;null!==r&&Fc(1,r,n);const i=e.template;null!==i&&Kp(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&$p(e,t),e.staticViewQueries&&Fc(2,e.viewQuery,n);const o=e.components;null!==o&&function S_(e,t){for(let n=0;n<t.length;n++)Y_(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Du()}}function _a(e,t,n,r){const i=t[2];if(128!=(128&i)){bu(t);try{Wh(t),function $h(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Kp(e,t,n,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&na(t,u,null)}else{const u=e.preOrderHooks;null!==u&&ra(t,u,0,null),wu(t,0)}if(function j_(e){for(let t=zu(e);null!==t;t=ju(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||Cu(i[3],1),i[2]|=512}}}(t),function z_(e){for(let t=zu(e);null!==t;t=ju(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];ea(r)&&_a(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&$p(e,t),s){const u=e.contentCheckHooks;null!==u&&na(t,u)}else{const u=e.contentHooks;null!==u&&ra(t,u,1),wu(t,1)}!function w_(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Tr(~i);else{const o=i,s=n[++r],a=n[++r];M0(s,o),a(2,t[o])}}}finally{Tr(-1)}}(e,t);const a=e.components;null!==a&&function __(e,t){for(let n=0;n<t.length;n++)X_(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Fc(2,l,r),s){const u=e.viewCheckHooks;null!==u&&na(t,u)}else{const u=e.viewHooks;null!==u&&ra(t,u,2),wu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Cu(t[3],-1))}finally{Du()}}}function Kp(e,t,n,r,i){const o=wt(),s=2&r;try{Tr(-1),s&&t.length>22&&Op(e,t,22,!1),n(r,i)}finally{Tr(o)}}function wc(e,t,n){if(fu(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function _c(e,t,n){Uh()&&(function k_(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;po(n)&&function W_(e,t,n){const r=Wt(t,e),i=Jp(n),o=e[10],s=Sa(e,wa(e,i,null,n.onPush?32:16,r,t,o,o.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||aa(n,t),Ct(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],u=Nr(t,e,a,n);Ct(u,t),null!==s&&H_(0,a-i,u,l,0,s),pn(l)&&(Ht(n.index,t)[8]=Nr(t,e,a,n))}}(e,t,n,Wt(n,t)),64==(64&n.flags)&&rC(e,t,n))}function Sc(e,t,n=Wt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Jp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ec(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ec(e,t,n,r,i,o,s,a,l,u){const c=22+r,d=c+i,g=function E_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:$);return n}(c,d),f="function"==typeof u?u():u;return g[1]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function qp(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?eC(n,t,i,o):r.hasOwnProperty(i)&&eC(n,t,r[i],o)}return n}function eC(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function tC(e,t){const n=Ht(t,e);16&n[2]||(n[2]|=32)}function Mc(e,t,n,r){let i=!1;if(Uh()){const o=null===r?null:{"":-1},s=function P_(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Vp(t,s.selectors,!1))if(r||(r=[]),pn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Rc(e,t,a.length)}else r.unshift(s),Rc(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let a,l;null===s?a=l=null:[a,l]=s,null!==a&&(i=!0,nC(e,t,n,a,o,l)),o&&function B_(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new _(-301,!1);r.push(t[i],o)}}}(n,r,o)}return n.mergedAttrs=Io(n.mergedAttrs,n.attrs),i}function nC(e,t,n,r,i,o){for(let u=0;u<r.length;u++)Tu(aa(n,t),e,r[u].type);!function L_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Vo(e,t,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Io(n.mergedAttrs,c.hostAttrs),Z_(e,n,t,l,c),G_(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function T_(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<i;c++){const d=o[c],g=n?n.get(d):null,C=g?g.outputs:null;l=qp(d.inputs,c,l,g?g.inputs:null),u=qp(d.outputs,c,u,C);const m=null===l||null===s||Fp(t)?null:U_(l,c,s);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,o)}function rC(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function R0(){return Y.lFrame.currentDirectiveIndex}();try{Tr(o);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];Au(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&O_(l,u)}}finally{Tr(-1),Au(s)}}function O_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rc(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function G_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;pn(t)&&(n[""]=e)}}function Z_(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Rr(i.type)),s=new mo(o,pn(i),D);e.blueprint[r]=s,n[r]=s,function F_(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function V_(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Vo(e,n,i.hostVars,$),i)}function Fn(e,t,n,r,i,o){const s=Wt(e,t);!function Tc(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?X(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[11],s,o,e.value,n,r,i)}function H_(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],d=s[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function U_(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function iC(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function X_(e,t){const n=Ht(t,e);if(ea(n)){const r=n[1];48&n[2]?_a(r,n,r.template,n[8]):n[5]>0&&Nc(n)}}function Nc(e){for(let r=zu(e);null!==r;r=ju(r))for(let i=10;i<r.length;i++){const o=r[i];if(ea(o))if(512&o[2]){const s=o[1];_a(s,o,s.template,o[8])}else o[5]>0&&Nc(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ht(n[r],e);ea(i)&&i[5]>0&&Nc(i)}}function Y_(e,t){const n=Ht(t,e),r=n[1];(function $_(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Dc(r,n,n[8])}function Sa(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function xc(e){for(;e;){e[2]|=32;const t=Eo(e);if(u0(e)&&!t)return e;e=t}return null}function Ea(e,t,n,r=!0){const i=t[10];i.begin&&i.begin();try{_a(e,t,e.template,n)}catch(s){throw r&&lC(t,s),s}finally{i.end&&i.end()}}function Fc(e,t,n){vu(0),t(e,n)}function oC(e){return e[7]||(e[7]=[])}function sC(e){return e.cleanup||(e.cleanup=[])}function lC(e,t){const n=e[9],r=n?n.get(mi,null):null;r&&r.handleError(t)}function Vc(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=t[s],u=e.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Ma(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=ru(i,a):2==o&&(r=ru(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ra(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(ut(o)),fn(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&Ra(l[1],l,u,r)}const s=n.type;if(8&s)Ra(e,t,n.child,r);else if(32&s){const a=Uu(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=ep(t,n);if(Array.isArray(a))r.push(...a);else{const l=Eo(t[16]);Ra(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ko{get rootNodes(){const t=this._lView,n=t[1];return Ra(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(fn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&($u(t,r),ca(n,r))}this._attachedToViewContainer=!1}zf(this._lView[1],this._lView)}onDestroy(t){!function Qp(e,t,n,r){const i=oC(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&sC(e).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ea(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BD(e,t){Mo(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=t}}class K_ extends ko{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ea(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class uC extends xo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pe(t);return new Oo(n,this.ngModule)}}function cC(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Q_{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=js(r);const i=this.injector.get(t,pc,r);return i!==pc||n===pc?i:this.parentInjector.get(t,n,r)}}class Oo extends Ep{get inputs(){return cC(this.componentDef.inputs)}get outputs(){return cC(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function i_(e){return e.map(r_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Qn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Q_(t,o):t,a=s.get(Rp,null);if(null===a)throw new _(407,!1);const l=s.get(Pw,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function M_(e,t,n){return e.selectRootElement(t,n===Mn.ShadowDom)}(u,r,this.componentDef.encapsulation):Yu(u,c,function J_(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),g=this.componentDef.onPush?288:272,f=Ec(0,null,null,1,0,null,null,null,null,null),C=wa(null,f,null,g,null,null,a,u,l,s,null);let m,A;bu(C);try{const w=this.componentDef;let R,y=null;w.findHostDirectiveDefs?(R=[],y=new Map,w.findHostDirectiveDefs(w,R,y),R.push(w)):R=[w];const U=function eS(e,t){const n=e[1];return e[22]=t,yi(n,22,2,"#host",null)}(C,d),ye=function tS(e,t,n,r,i,o,s,a){const l=i[1];!function nS(e,t,n,r){for(const i of e)t.mergedAttrs=Io(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Ma(t,t.mergedAttrs,!0),null!==n&&rp(r,n,t))}(r,e,t,s);const u=o.createRenderer(t,n),c=wa(i,Jp(n),null,n.onPush?32:16,i[e.index],e,o,u,a||null,null,null);return l.firstCreatePass&&Rc(l,e,r.length-1),Sa(i,c),i[e.index]=c}(U,d,w,R,C,a,u);A=Zh(f,22),d&&function iS(e,t,n,r){if(r)Su(e,n,["ng-version",Bw.full]);else{const{attrs:i,classes:o}=function o_(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Cn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Su(e,n,i),o&&o.length>0&&np(e,n,o.join(" "))}}(u,w,d,r),void 0!==n&&function oS(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(A,this.ngContentSelectors,n),m=function rS(e,t,n,r,i,o){const s=ct(),a=i[1],l=Wt(s,i);nC(a,i,s,n,null,r);for(let c=0;c<n.length;c++)Ct(Nr(i,a,s.directiveStart+c,s),i);rC(a,i,s),l&&Ct(l,i);const u=Nr(i,a,s.directiveStart+s.componentOffset,s);if(e[8]=i[8]=u,null!==o)for(const c of o)c(u,t);return wc(a,s,e),u}(ye,w,R,y,C,[sS]),Dc(f,C,null)}finally{Du()}return new q_(this.componentType,m,Ci(A,C),C,A)}}class q_ extends Nw{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new K_(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;Vc(o[1],o,i,t,n),tC(o,this._tNode.index)}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function sS(){const e=ct();ta(b()[1],e)}function me(e){let t=function dC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(pn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new _(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=kc(e.inputs),s.declaredInputs=kc(e.declaredInputs),s.outputs=kc(e.outputs);const a=i.hostBindings;a&&cS(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&lS(e,l),u&&uS(e,u),nu(e.inputs,i.inputs),nu(e.declaredInputs,i.declaredInputs),nu(e.outputs,i.outputs),pn(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===me&&(n=!1)}}t=Object.getPrototypeOf(t)}!function aS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Io(i.hostAttrs,n=Io(n,i.hostAttrs))}}(r)}function kc(e){return e===jn?{}:e===de?[]:e}function lS(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function uS(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function cS(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let Ta=null;function Or(){if(!Ta){const e=we.Symbol;if(e&&e.iterator)Ta=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ta=r)}}}return Ta}function Na(e){return!!function Oc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Or()in e)}function mt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function kn(e,t,n,r){const i=b();return mt(i,oi(),t)&&(ue(),Fn(Re(),i,e,t,n,r)),kn}function Ti(e,t,n){const r=b();return mt(r,oi(),t)&&function jt(e,t,n,r,i,o,s,a){const l=Wt(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[r])?(Vc(e,n,c,r,i),po(t)&&tC(n,t.index)):3&t.type&&(r=function N_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}(ue(),Re(),r,e,t,r[11],n,!1),Ti}function Pc(e,t,n,r,i){const s=i?"class":"style";Vc(e,n,t.inputs[s],s,r)}function x(e,t,n,r){const i=b(),o=ue(),s=22+e,a=i[11],l=i[s]=Yu(a,t,function P0(){return Y.lFrame.currentNamespace}()),u=o.firstCreatePass?function DS(e,t,n,r,i,o,s){const a=t.consts,u=yi(t,e,2,i,hr(a,o));return Mc(t,n,u,hr(a,s)),null!==u.attrs&&Ma(u,u.attrs,!1),null!==u.mergedAttrs&&Ma(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];return Nn(u,!0),rp(a,l,u),32!=(32&u.flags)&&pa(o,i,l,u),0===function v0(){return Y.lFrame.elementDepthCount}()&&Ct(l,i),function b0(){Y.lFrame.elementDepthCount++}(),Qs(u)&&(_c(o,i,u),wc(o,u,i)),null!==r&&Sc(i,u),x}function F(){let e=ct();mu()?function Iu(){Y.lFrame.isParent=!1}():(e=e.parent,Nn(e,!1));const t=e;!function D0(){Y.lFrame.elementDepthCount--}();const n=ue();return n.firstCreatePass&&(ta(n,e),fu(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Z0(e){return 0!=(8&e.flags)}(t)&&Pc(n,t,b(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function W0(e){return 0!=(16&e.flags)}(t)&&Pc(n,t,b(),t.stylesWithoutHost,!1),F}function Ce(e,t,n,r){return x(e,t,n,r),F(),Ce}function Bo(e){return!!e&&"function"==typeof e.then}const Lc=function EC(e){return!!e&&"function"==typeof e.subscribe};function $e(e,t,n,r){const i=b(),o=ue(),s=ct();return function RC(e,t,n,r,i,o,s){const a=Qs(r),u=e.firstCreatePass&&sC(e),c=t[8],d=oC(t);let g=!0;if(3&r.type||s){const m=Wt(r,t),A=s?s(m):m,w=d.length,R=s?U=>s(ut(U[r.index])):r.index;let y=null;if(!s&&a&&(y=function _S(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,g=!1;else{o=NC(r,t,c,o,!1);const U=n.listen(A,i,o);d.push(o,U),u&&u.push(i,R,w,w+1)}}else o=NC(r,t,c,o,!1);const f=r.outputs;let C;if(g&&null!==f&&(C=f[i])){const m=C.length;if(m)for(let A=0;A<m;A+=2){const ye=t[C[A]][C[A+1]].subscribe(o),Ze=d.length;d.push(o,ye),u&&u.push(i,r.index,Ze,-(Ze+1))}}}(o,i,i[11],s,e,t,r),$e}function TC(e,t,n,r){try{return!1!==n(r)}catch(i){return lC(e,i),!1}}function NC(e,t,n,r,i){return function o(s){if(s===Function)return r;xc(e.componentOffset>-1?Ht(e.index,t):t);let l=TC(t,0,r,s),u=o.__ngNextListenerFn__;for(;u;)l=TC(t,0,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function xC(e=1){return function N0(e){return(Y.lFrame.contextLView=function x0(e,t){for(;e>0;)t=t[15],e--;return t}(e,Y.lFrame.contextLView))[8]}(e)}function Fa(e,t){return e<<17|t<<2}function Cr(e){return e>>17&32767}function Wc(e){return 2|e}function Br(e){return(131068&e)>>2}function Hc(e,t){return-131069&e|t<<2}function Uc(e){return 1|e}function WC(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Cr(o):Br(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];VS(e[a],t)&&(l=!0,e[a+1]=r?Uc(c):Wc(c)),a=r?Cr(c):Br(c)}l&&(e[n+1]=r?Wc(o):Uc(o))}function VS(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&gi(e,t)>=0}function Va(e,t){return function In(e,t,n,r){const i=b(),o=ue(),s=function Kn(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function JC(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[wt()],s=function KC(e,t){return t>=e.expandoStartIndex}(e,n);(function tm(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function HS(e,t,n,r){const i=function yu(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Go(n=zc(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=zc(i,e,t,n,r),null===o){let l=function US(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Br(r))return e[Cr(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=zc(null,e,t,l[1],r),l=Go(l,t.attrs,r),function zS(e,t,n,r){e[Cr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function jS(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Go(r,e[o].hostAttrs,n);return Go(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function xS(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Cr(s),l=Br(s);e[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||gi(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const g=Cr(e[a+1]);e[r+1]=Fa(g,a),0!==g&&(e[g+1]=Hc(e[g+1],r)),e[a+1]=function TS(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Fa(a,0),0!==a&&(e[a+1]=Hc(e[a+1],r)),a=r;else e[r+1]=Fa(l,0),0===a?a=r:e[l+1]=Hc(e[l+1],r),l=r;u&&(e[r+1]=Wc(e[r+1])),WC(e,c,r,!0),WC(e,c,r,!1),function FS(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&gi(o,t)>=0&&(n[r+1]=Uc(n[r+1]))}(t,c,e,r,o),s=Fa(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==$&&mt(i,s,t)&&function qC(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],c=function NS(e){return 1==(1&e)}(u)?em(l,t,n,i,Br(u),s):void 0;ka(c)||(ka(o)||function RS(e){return 2==(2&e)}(u)&&(o=em(l,null,n,i,a,s)),function YD(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:xt.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xt.Important),e.setStyle(n,r,i,o))}}(r,s,qs(wt(),n),i,o))}(o,o.data[wt()],i,i[11],e,i[s+1]=function $S(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=be(fr(e)))),e}(t,n),r,s)}(e,t,null,!0),Va}function zc(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Go(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Go(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ut(e,s,!!n||t[++o]))}return void 0===e?null:e}function em(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let g=n[i+1];g===$&&(g=d?de:void 0);let f=d?Vu(g,r):c===r?g:void 0;if(u&&!ka(f)&&(f=Vu(l,r)),ka(f)&&(a=f,s))return a;const C=e[i+1];i=s?Cr(C):Br(C)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Vu(l,r))}return a}function ka(e){return void 0!==e}function k(e,t=""){const n=b(),r=ue(),i=e+22,o=r.firstCreatePass?yi(r,i,1,t,null):r.data[i],s=n[i]=function Xu(e,t){return e.createText(t)}(n[11],t);pa(r,n,s,o),Nn(o,!1)}function jc(e){return Lo("",e,""),jc}function Lo(e,t,n){const r=b(),i=function bi(e,t,n,r){return mt(e,oi(),n)?t+X(n)+r:$}(r,e,t,n);return i!==$&&function tr(e,t,n){const r=qs(t,e);!function Hf(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,wt(),i),Lo}const Fi="en-US";let Dm=Fi;function $c(e,t,n,r,i){if(e=G(e),Array.isArray(e))for(let o=0;o<e.length;o++)$c(e[o],t,n,r,i);else{const o=ue(),s=b();let a=kr(e)?e:G(e.provide),l=Sp(e);const u=ct(),c=1048575&u.providerIndexes,d=u.directiveStart,g=u.providerIndexes>>20;if(kr(e)||!e.multi){const f=new mo(l,i,D),C=Jc(a,t,i?c:c+g,d);-1===C?(Tu(aa(u,s),o,a),Kc(o,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),s.push(f)):(n[C]=f,s[C]=f)}else{const f=Jc(a,t,c+g,d),C=Jc(a,t,c,c+g),A=C>=0&&n[C];if(i&&!A||!i&&!(f>=0&&n[f])){Tu(aa(u,s),o,a);const w=function hM(e,t,n,r,i){const o=new mo(e,n,D);return o.multi=[],o.index=t,o.componentProviders=0,Ym(o,i,r&&!n),o}(i?gM:dM,n.length,i,r,l);!i&&A&&(n[C].providerFactory=w),Kc(o,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(w),s.push(w)}else Kc(o,e,f>-1?f:C,Ym(n[i?C:f],l,!i&&r));!i&&r&&A&&n[C].componentProviders++}}}function Kc(e,t,n,r){const i=kr(t),o=function ww(e){return!!e.useClass}(t);if(i||o){const l=(o?G(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function Ym(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Jc(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function dM(e,t,n,r){return Qc(this.multi,[])}function gM(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Nr(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),Qc(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Qc(i,o);return o}function Qc(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Me(e,t=[]){return n=>{n.providersResolver=(r,i)=>function cM(e,t,n){const r=ue();if(r.firstCreatePass){const i=pn(e);$c(n,r.data,r.blueprint,i,!0),$c(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Vi{}class $m{}class Km extends Vi{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uC(this);const r=Lt(t);this._bootstrapComponents=er(r.bootstrap),this._r3Injector=Zp(t,n,[{provide:Vi,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],be(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qc extends $m{constructor(t){super(),this.moduleType=t}create(t){return new Km(this.moduleType,t)}}class pM extends Vi{constructor(t,n,r){super(),this.componentFactoryResolver=new uC(this),this.instance=null;const i=new _p([...t,{provide:Vi,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],n||ba(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function La(e,t,n=null){return new pM(e,t,n).injector}let CM=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=vp(0,n.type),i=r.length>0?La([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(O(Qn))}),e})();function Jm(e){e.getStandaloneInjector=t=>t.get(CM).getOrCreateStandaloneInjector(e)}function td(e){return t=>{setTimeout(e,void 0,t)}}const ke=class WM extends un{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=td(o),i&&(i=td(i)),s&&(s=td(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof ge&&t.add(a),a}};let nr=(()=>{class e{}return e.__NG_ELEMENT_ID__=jM,e})();const UM=nr,zM=class extends UM{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=wa(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Dc(r,i,t),new ko(i)}};function jM(){return function Za(e,t){return 4&e.type?new zM(t,e,Ci(e,t)):null}(ct(),b())}let yn=(()=>{class e{}return e.__NG_ELEMENT_ID__=XM,e})();function XM(){return function dI(e,t){let n;const r=t[e.index];if(fn(r))n=r;else{let i;if(8&e.type)i=ut(r);else{const o=t[11];i=o.createComment("");const s=Wt(e,t);Fr(o,fa(o,s),i,function zD(e,t){return e.nextSibling(t)}(o,s),!1)}t[e.index]=n=iC(r,t,i,e),Sa(t,n)}return new uI(n,e,t)}(ct(),b())}const YM=yn,uI=class extends YM{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ci(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ru(this._hostTNode,this._hostLView);if(uf(t)){const n=oa(t,this._hostLView),r=ia(t);return new ai(n[1].data[r+8],n)}return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=cI(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(n||{},o);return this.insert(s,i),s}createComponent(t,n,r,i,o){const s=t&&!function yo(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new Oo(pe(t)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?u:this.parentInjector).get(Qn,null);g&&(o=g)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,a),c}insert(t,n){const r=t._lView,i=r[1];if(function y0(e){return fn(e[3])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const d=r[3],g=new uI(d,d[6],d[3]);g.detach(g.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function LD(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],vf(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function ZD(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(i,r,s,o);const a=Qu(o,s),l=r[11],u=fa(l,s[7]);return null!==u&&function PD(e,t,n,r,i,o){r[0]=i,r[6]=t,Mo(e,r,n,1,i,o)}(i,s[6],l,r,u,a),t.attachToViewContainerRef(),vf(rd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=cI(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=$u(this._lContainer,n);r&&(ca(rd(this._lContainer),n),zf(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=$u(this._lContainer,n);return r&&null!=ca(rd(this._lContainer),n)?new ko(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function cI(e){return e[8]}function rd(e){return e[8]||(e[8]=[])}function Ha(...e){}const Ua=new V("Application Initializer");let za=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Ha,this.reject=Ha,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Bo(o))n.push(o);else if(Lc(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(O(Ua,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $o=new V("AppId",{providedIn:"root",factory:function BI(){return`${hd()}${hd()}${hd()}`}});function hd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const GI=new V("Platform Initializer"),LI=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZI=new V("appBootstrapListener");let bR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const rr=new V("LocaleId",{providedIn:"root",factory:()=>le(rr,L.Optional|L.SkipSelf)||function DR(){return typeof $localize<"u"&&$localize.locale||Fi}()});class _R{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let WI=(()=>{class e{compileModuleSync(n){return new qc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=er(Lt(n).declarations).reduce((s,a)=>{const l=pe(a);return l&&s.push(new Oo(l)),s},[]);return new _R(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const MR=(()=>Promise.resolve(0))();function fd(e){typeof Zone>"u"?MR.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ke{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function RR(){let e=we.requestAnimationFrame,t=we.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function xR(e){const t=()=>{!function NR(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(we,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Cd(e),e.isCheckStableRunning=!0,pd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Cd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return zI(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),jI(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return zI(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),jI(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Cd(e),pd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new _(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,TR,Ha,Ha);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const TR={};function pd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function zI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function jI(e){e._nesting--,pd(e)}class FR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const XI=new V(""),ja=new V("");let Ad,md=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ad||(function VR(e){Ad=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),fd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(O(Ke),O(Id),O(ja))},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})(),Id=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ad?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),mr=null;const YI=new V("AllowMultipleToken"),yd=new V("PlatformDestroyListeners");class $I{constructor(t,n){this.name=t,this.token=n}}function JI(e,t,n=[]){const r=`Platform: ${t}`,i=new V(r);return(o=[])=>{let s=vd();if(!s||s.injector.get(YI,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function PR(e){if(mr&&!mr.get(YI,!1))throw new _(400,!1);mr=e;const t=e.get(qI);(function KI(e){const t=e.get(GI,null);t&&t.forEach(n=>n())})(e)}(function QI(e=[],t){return mn.create({name:t,providers:[{provide:dc,useValue:"platform"},{provide:yd,useValue:new Set([()=>mr=null])},...e]})}(a,r))}return function GR(e){const t=vd();if(!t)throw new _(401,!1);return t}()}}function vd(){return mr?.get(qI)??null}let qI=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function tA(e,t){let n;return n="noop"===e?new FR:("zone.js"===e?void 0:e)||new Ke(t),n}(r?.ngZone,function eA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Ke,useValue:i}];return i.run(()=>{const s=mn.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),l=a.injector.get(mi,null);if(!l)throw new _(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Ya(this._modules,a),u.unsubscribe()})}),function nA(e,t,n){try{const r=n();return Bo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(za);return u.runInitializers(),u.donePromise.then(()=>(function wm(e){$t(e,"Expected localeId to be defined"),"string"==typeof e&&(Dm=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(rr,Fi)||Fi),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=rA({},r);return function kR(e,t,n){const r=new qc(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new _(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(yd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(O(mn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function rA(e,t){return Array.isArray(t)?t.reduce(rA,e):{...e,...t}}let Xa=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Se(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Se(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),fd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function Gb(...e){const t=so(e),n=function xb(e,t){return"number"==typeof eu(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Yt(r[0]):Jr(n)(Xe(r,t)):En}(o,s.pipe(function Lb(e={}){const{connector:t=(()=>new un),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,c=!1,d=!1;const g=()=>{a?.unsubscribe(),a=void 0},f=()=>{g(),s=l=void 0,c=d=!1},C=()=>{const m=s;f(),m?.unsubscribe()};return Ue((m,A)=>{u++,!d&&!c&&g();const w=l=l??t();A.add(()=>{u--,0===u&&!d&&!c&&(a=tu(C,i))}),w.subscribe(A),!s&&u>0&&(s=new ur({next:R=>w.next(R),error:R=>{d=!0,g(),a=tu(f,n,R),w.error(R)},complete:()=>{c=!0,g(),a=tu(f,r),w.complete()}}),Yt(m).subscribe(s))})(o)}}()))}bootstrap(n,r){const i=n instanceof Ep;if(!this._injector.get(za).done)throw!i&&function qr(e){const t=pe(e)||ht(e)||vt(e);return null!==t&&t.standalone}(n),new _(405,false);let s;s=i?n:this._injector.get(xo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function OR(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Vi),u=s.create(mn.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(XI,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Ya(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new _(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ya(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ZI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ya(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new _(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(O(Ke),O(Qn),O(mi))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ya(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let $a=(()=>{class e{}return e.__NG_ELEMENT_ID__=ZR,e})();function ZR(e){return function WR(e,t,n){if(po(e)&&!n){const r=Ht(e.index,t);return new ko(r,r)}return 47&e.type?new ko(t[16],t):null}(ct(),b(),16==(16&e))}class lA{constructor(){}supports(t){return Na(t)}create(t){return new YR(t)}}const XR=(e,t)=>t;class YR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||XR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<cA(r,i,o)?n:r,a=cA(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let g=0;g<u;g++){const f=g<o.length?o[g]:o[g]=0,C=f+g;c<=C&&C<u&&(o[g]=f+1)}o[s.previousIndex]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Na(t))throw new _(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function mS(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Or()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new $R(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new uA),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $R{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class uA{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new KR,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cA(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function gA(){return new Qa([new lA])}let Qa=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||gA()),deps:[[e,new Do,new bo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new _(901,!1)}}return e.\u0275prov=W({token:e,providedIn:"root",factory:gA}),e})();const tT=JI(null,"core",[]);let nT=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(O(Xa))},e.\u0275mod=Rn({type:e}),e.\u0275inj=cn({}),e})();function Pi(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Sd=null;function Bn(){return Sd}class oT{}const Vt=new V("DocumentToken");let Ed=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:function(){return function sT(){return O(fA)}()},providedIn:"platform"}),e})();const aT=new V("Location Initialized");let fA=(()=>{class e extends Ed{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bn().getBaseHref(this._doc)}onPopState(n){const r=Bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Bn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){pA()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){pA()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(O(Vt))},e.\u0275prov=W({token:e,factory:function(){return function lT(){return new fA(O(Vt))}()},providedIn:"platform"}),e})();function pA(){return!!window.history.pushState}function Md(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function CA(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function or(e){return e&&"?"!==e[0]?"?"+e:e}let Zr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:function(){return le(IA)},providedIn:"root"}),e})();const mA=new V("appBaseHref");let IA=(()=>{class e extends Zr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Md(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+or(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(O(Ed),O(mA,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),uT=(()=>{class e extends Zr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Md(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(O(Ed),O(mA,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})(),Rd=(()=>{class e{constructor(n){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function gT(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(CA(AA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+or(r))}normalize(n){return e.stripTrailingSlash(function dT(e,t){return e&&new RegExp(`^${e}([/;?#]|$)`).test(t)?t.substring(e.length):t}(this._basePath,AA(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=or,e.joinWithSlash=Md,e.stripTrailingSlash=CA,e.\u0275fac=function(n){return new(n||e)(O(Zr))},e.\u0275prov=W({token:e,factory:function(){return function cT(){return new Rd(O(Zr))}()},providedIn:"root"}),e})();function AA(e){return e.replace(/\/index.html$/,"")}class QT{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let NA=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new QT(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),xA(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{xA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(D(yn),D(nr),D(Qa))},e.\u0275dir=j({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function xA(e,t){e.context.$implicit=t.item}let SN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Rn({type:e}),e.\u0275inj=cn({}),e})();let TN=(()=>{class e{}return e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new NN(O(Vt),window)}),e})();class NN{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function xN(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=PA(this.window.history)||PA(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function PA(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class sx extends oT{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xd extends sx{static makeCurrent(){!function iT(e){Sd||(Sd=e)}(new Xd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function ax(){return es=es||document.querySelector("base"),es?es.getAttribute("href"):null}();return null==n?null:function lx(e){ul=ul||document.createElement("a"),ul.setAttribute("href",e);const t=ul.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){es=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function $T(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ul,es=null;const WA=new V("TRANSITION_ID"),cx=[{provide:Ua,useFactory:function ux(e,t,n){return()=>{n.get(za).donePromise.then(()=>{const r=Bn(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[WA,Vt,mn],multi:!0}];let gx=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})();const cl=new V("EventManagerPlugins");let dl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(O(cl),O(Ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})();class HA{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Bn().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let UA=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})(),ts=(()=>{class e extends UA{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(zA),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(zA))}}return e.\u0275fac=function(n){return new(n||e)(O(Vt))},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})();function zA(e){Bn().remove(e)}const Yd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$d=/%COMP%/g;function Kd(e,t){return t.flat(100).map(n=>n.replace($d,e))}function YA(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Jd=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Qd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Mn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ix(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case Mn.ShadowDom:return new Ax(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Kd(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(O(dl),O(ts),O($o))},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})();class Qd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Yd[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(KA(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(KA(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Yd[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Yd[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(xt.DashCase|xt.Important)?t.style.setProperty(n,r,i&xt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&xt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,YA(r)):this.eventManager.addEventListener(t,n,YA(r))}}function KA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Ix extends Qd{constructor(t,n,r,i){super(t),this.component=r;const o=Kd(i+"-"+r.id,r.styles);n.addStyles(o),this.contentAttr=function px(e){return"_ngcontent-%COMP%".replace($d,e)}(i+"-"+r.id),this.hostAttr=function Cx(e){return"_nghost-%COMP%".replace($d,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class Ax extends Qd{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Kd(i.id,i.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let yx=(()=>{class e extends HA{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(O(Vt))},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})();const JA=["alt","control","meta","shift"],vx={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bx={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Dx=(()=>{class e extends HA{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JA.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=vx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),JA.forEach(s=>{s!==i&&(0,bx[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(O(Vt))},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})();const Ex=JI(tT,"browser",[{provide:LI,useValue:"browser"},{provide:GI,useValue:function wx(){Xd.makeCurrent()},multi:!0},{provide:Vt,useFactory:function Sx(){return function qD(e){nc=e}(document),document},deps:[]}]),ey=new V(""),ty=[{provide:ja,useClass:class dx{addToWindow(t){we.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},we.getAllAngularTestabilities=()=>t.getAllTestabilities(),we.getAllAngularRootElements=()=>t.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Bn().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:XI,useClass:md,deps:[Ke,Id,ja]},{provide:md,useClass:md,deps:[Ke,Id,ja]}],ny=[{provide:dc,useValue:"root"},{provide:mi,useFactory:function _x(){return new mi},deps:[]},{provide:cl,useClass:yx,multi:!0,deps:[Vt,Ke,LI]},{provide:cl,useClass:Dx,multi:!0,deps:[Vt]},{provide:Jd,useClass:Jd,deps:[dl,ts,$o]},{provide:Rp,useExisting:Jd},{provide:UA,useExisting:ts},{provide:ts,useClass:ts,deps:[Vt]},{provide:dl,useClass:dl,deps:[cl,Ke]},{provide:class FN{},useClass:gx,deps:[]},[]];let Mx=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:$o,useValue:n.appId},{provide:WA,useExisting:$o},cx]}}}return e.\u0275fac=function(n){return new(n||e)(O(ey,12))},e.\u0275mod=Rn({type:e}),e.\u0275inj=cn({providers:[...ny,...ty],imports:[SN,nT]}),e})(),ry=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(O(Vt))},e.\u0275prov=W({token:e,factory:function(n){let r=null;return r=n?new n:function Tx(){return new ry(O(Vt))}(),r},providedIn:"root"}),e})();function B(...e){return Xe(e,so(e))}typeof window<"u"&&window;class wn extends un{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const gl=Mt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Bx}=Array,{getPrototypeOf:Gx,prototype:Lx,keys:Zx}=Object;function sy(e){if(1===e.length){const t=e[0];if(Bx(t))return{args:t,keys:null};if(function Wx(e){return e&&"object"==typeof e&&Gx(e)===Lx}(t)){const n=Zx(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:Hx}=Array;function ay(e){return ne(t=>function Ux(e,t){return Hx(t)?e(...t):e(t)}(e,t))}function ly(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function uy(...e){const t=so(e),n=Ch(e),{args:r,keys:i}=sy(e);if(0===r.length)return Xe([],t);const o=new Se(function zx(e,t,n=Un){return r=>{cy(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)cy(t,()=>{const u=Xe(e[l],t);let c=!1;u.subscribe(Be(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>ly(i,s):Un));return n?o.pipe(ay(n)):o}function cy(e,t,n){e?zn(n,e,t):t()}function tg(...e){return function jx(){return Jr(1)}()(Xe(e,so(e)))}function dy(e){return new Se(t=>{Yt(e()).subscribe(t)})}function ns(e,t){const n=J(e)?e:()=>e,r=i=>i.error(n());return new Se(t?i=>t.schedule(r,0,i):r)}function ng(){return Ue((e,t)=>{let n=null;e._refCount++;const r=Be(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class gy extends Se{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,io(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ge;const n=this.getSubject();t.add(this.source.subscribe(Be(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ge.EMPTY)}return t}refCount(){return ng()(this)}}function Gn(e,t){return Ue((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Be(r,l=>{i?.unsubscribe();let u=0;const c=o++;Yt(e(l,c)).subscribe(i=Be(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rs(e){return e<=0?()=>En:Ue((t,n)=>{let r=0;t.subscribe(Be(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Ar(e,t){return Ue((n,r)=>{let i=0;n.subscribe(Be(r,o=>e.call(t,o,i++)&&r.next(o)))})}function hl(e){return Ue((t,n)=>{let r=!1;t.subscribe(Be(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function hy(e=Yx){return Ue((t,n)=>{let r=!1;t.subscribe(Be(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Yx(){return new gl}function yr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ar((i,o)=>e(i,o,r)):Un,rs(1),n?hl(t):hy(()=>new gl))}function Wr(e,t){return J(t)?lt(e,t,1):lt(e,1)}function It(e,t,n){const r=J(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ue((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Be(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Un}function vr(e){return Ue((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Be(n,void 0,void 0,s=>{o=Yt(e(s,vr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $x(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(Be(s,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function fy(e,t){return Ue($x(e,t,arguments.length>=2,!0))}function rg(e){return e<=0?()=>En:Ue((t,n)=>{let r=[];t.subscribe(Be(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function py(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ar((i,o)=>e(i,o,r)):Un,rg(1),n?hl(t):hy(()=>new gl))}function ig(e){return Ue((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const K="primary",is=Symbol("RouteTitle");class Qx{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Bi(e){return new Qx(e)}function qx(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ln(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Cy(e[i],t[i]))return!1;return!0}function Cy(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function my(e){return Array.prototype.concat.apply([],e)}function Iy(e){return e.length>0?e[e.length-1]:null}function gt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function br(e){return Lc(e)?e:Bo(e)?Xe(Promise.resolve(e)):B(e)}const fl=!1,tF={exact:function vy(e,t,n){if(!Ur(e.segments,t.segments)||!pl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!vy(e.children[r],t.children[r],n))return!1;return!0},subset:by},Ay={exact:function nF(e,t){return Ln(e,t)},subset:function rF(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Cy(e[n],t[n]))},ignored:()=>!0};function yy(e,t,n){return tF[n.paths](e.root,t.root,n.matrixParams)&&Ay[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function by(e,t,n){return Dy(e,t,t.segments,n)}function Dy(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ur(i,n)||t.hasChildren()||!pl(i,n,r))}if(e.segments.length===n.length){if(!Ur(e.segments,n)||!pl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!by(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Ur(e.segments,i)&&pl(e.segments,i,r)&&e.children[K])&&Dy(e.children[K],t,o,r)}}function pl(e,t,n){return t.every((r,i)=>Ay[n](e[i].parameters,r.parameters))}class Hr{constructor(t=new ie([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){return sF.serialize(this)}}class ie{constructor(t,n){this.segments=t,this.children=n,this.parent=null,gt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cl(this)}}class os{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Bi(this.parameters)),this._parameterMap}toString(){return Sy(this)}}function Ur(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ss=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:function(){return new og},providedIn:"root"}),e})();class og{parse(t){const n=new pF(t);return new Hr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${as(t.root,!0)}`,r=function uF(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${ml(n)}=${ml(i)}`).join("&"):`${ml(n)}=${ml(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function aF(e){return encodeURI(e)}(t.fragment)}`:""}`}}const sF=new og;function Cl(e){return e.segments.map(t=>Sy(t)).join("/")}function as(e,t){if(!e.hasChildren())return Cl(e);if(t){const n=e.children[K]?as(e.children[K],!1):"",r=[];return gt(e.children,(i,o)=>{o!==K&&r.push(`${o}:${as(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function oF(e,t){let n=[];return gt(e.children,(r,i)=>{i===K&&(n=n.concat(t(r,i)))}),gt(e.children,(r,i)=>{i!==K&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===K?[as(e.children[K],!1)]:[`${i}:${as(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[K]?`${Cl(e)}/${n[0]}`:`${Cl(e)}/(${n.join("//")})`}}function wy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ml(e){return wy(e).replace(/%3B/gi,";")}function sg(e){return wy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Il(e){return decodeURIComponent(e)}function _y(e){return Il(e.replace(/\+/g,"%20"))}function Sy(e){return`${sg(e.path)}${function lF(e){return Object.keys(e).map(t=>`;${sg(t)}=${sg(e[t])}`).join("")}(e.parameters)}`}const cF=/^[^\/()?;=#]+/;function Al(e){const t=e.match(cF);return t?t[0]:""}const dF=/^[^=?&#]+/,hF=/^[^&#]+/;class pF{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[K]=new ie(t,n)),r}parseSegment(){const t=Al(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new _(4009,fl);return this.capture(t),new os(Il(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Al(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Al(this.remaining);i&&(r=i,this.capture(r))}t[Il(n)]=Il(r)}parseQueryParam(t){const n=function gF(e){const t=e.match(dF);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function fF(e){const t=e.match(hF);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=_y(n),o=_y(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Al(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new _(4010,fl);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=K);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[K]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new _(4011,fl)}}function ag(e){return e.segments.length>0?new ie([],{[K]:e}):e}function yl(e){const t={};for(const r of Object.keys(e.children)){const o=yl(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function CF(e){if(1===e.numberOfChildren&&e.children[K]){const t=e.children[K];return new ie(e.segments.concat(t.segments),t.children)}return e}(new ie(e.segments,t))}function zr(e){return e instanceof Hr}function AF(e,t,n,r,i){if(0===n.length)return Gi(t.root,t.root,t.root,r,i);const o=function Ry(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new My(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return gt(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new My(n,t,r)}(n);return o.toRoot()?Gi(t.root,t.root,new ie([],{}),r,i):function s(l){const u=function vF(e,t,n,r){if(e.isAbsolute)return new Li(t.root,!0,0);if(-1===r)return new Li(n,n===t.root,0);return function Ty(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Li(r,!1,i-o)}(n,r+(ls(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,t,e.snapshot?._urlSegment,l),c=u.processChildren?Zi(u.segmentGroup,u.index,o.commands):ug(u.segmentGroup,u.index,o.commands);return Gi(t.root,u.segmentGroup,c,r,i)}(e.snapshot?._lastPathIndex)}function ls(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function us(e){return"object"==typeof e&&null!=e&&e.outlets}function Gi(e,t,n,r,i){let s,o={};r&&gt(r,(l,u)=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),s=e===t?n:Ey(e,t,n);const a=ag(yl(s));return new Hr(a,o,i)}function Ey(e,t,n){const r={};return gt(e.children,(i,o)=>{r[o]=i===t?n:Ey(i,t,n)}),new ie(e.segments,r)}class My{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ls(r[0]))throw new _(4003,!1);const i=r.find(us);if(i&&i!==Iy(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Li{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function ug(e,t,n){if(e||(e=new ie([],{})),0===e.segments.length&&e.hasChildren())return Zi(e,t,n);const r=function DF(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(us(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!xy(l,u,s))return o;r+=2}else{if(!xy(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new ie(e.segments.slice(0,r.pathIndex),{});return o.children[K]=new ie(e.segments.slice(r.pathIndex),e.children),Zi(o,0,i)}return r.match&&0===i.length?new ie(e.segments,{}):r.match&&!e.hasChildren()?cg(e,t,n):r.match?Zi(e,0,i):cg(e,t,n)}function Zi(e,t,n){if(0===n.length)return new ie(e.segments,{});{const r=function bF(e){return us(e[0])?e[0].outlets:{[K]:e}}(n),i={};return!r[K]&&e.children[K]&&1===e.numberOfChildren&&0===e.children[K].segments.length?Zi(e.children[K],t,n):(gt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=ug(e.children[s],t,o))}),gt(e.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ie(e.segments,i))}}function cg(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(us(o)){const l=wF(o.outlets);return new ie(r,l)}if(0===i&&ls(n[0])){r.push(new os(e.segments[t].path,Ny(n[0]))),i++;continue}const s=us(o)?o.outlets[K]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ls(a)?(r.push(new os(s,Ny(a))),i+=2):(r.push(new os(s,{})),i++)}return new ie(r,{})}function wF(e){const t={};return gt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=cg(new ie([],{}),0,n))}),t}function Ny(e){const t={};return gt(e,(n,r)=>t[r]=`${n}`),t}function xy(e,t,n){return e==n.path&&Ln(t,n.parameters)}const cs="imperative";class Zn{constructor(t,n){this.id=t,this.url=n}}class dg extends Zn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends Zn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vl extends Zn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fy extends Zn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Vy extends Zn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _F extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SF extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EF extends Zn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MF extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RF extends Zn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TF{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NF{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xF{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FF{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VF{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kF{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let PF=(()=>{class e{createUrlTree(n,r,i,o,s,a){return AF(n||r.root,i,o,s,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})(),BF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:function(t){return PF.\u0275fac(t)},providedIn:"root"}),e})();class Oy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=gg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=gg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=hg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return hg(t,this._root).map(n=>n.value)}}function gg(e,t){if(e===t.value)return t;for(const n of t.children){const r=gg(e,n);if(r)return r}return null}function hg(e,t){if(e===t.value)return[t];for(const n of t.children){const r=hg(e,n);if(r.length)return r.unshift(t),r}return[]}class ar{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Wi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Py extends Oy{constructor(t,n){super(t),this.snapshot=n,fg(this,t)}toString(){return this.snapshot.toString()}}function By(e,t){const n=function GF(e,t){const s=new bl([],{},{},"",{},K,t,null,e.root,-1,{});return new Ly("",new ar(s,[]))}(e,t),r=new wn([new os("",{})]),i=new wn({}),o=new wn({}),s=new wn({}),a=new wn(""),l=new Hi(r,i,s,a,o,K,t,n.root);return l.snapshot=n.root,new Py(new ar(l,[]),n)}class Hi{constructor(t,n,r,i,o,s,a,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(ne(u=>u[is]))??B(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ne(t=>Bi(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ne(t=>Bi(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gy(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function LF(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class bl{get title(){return this.data?.[is]}constructor(t,n,r,i,o,s,a,l,u,c,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ly extends Oy{constructor(t,n){super(n),this.url=t,fg(this,n)}toString(){return Zy(this._root)}}function fg(e,t){t.value._routerState=e,t.children.forEach(n=>fg(e,n))}function Zy(e){const t=e.children.length>0?` { ${e.children.map(Zy).join(", ")} } `:"";return`${e.value}${t}`}function pg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ln(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ln(t.params,n.params)||e.params.next(n.params),function eF(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ln(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ln(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Cg(e,t){const n=Ln(e.params,t.params)&&function iF(e,t){return Ur(e,t)&&e.every((n,r)=>Ln(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Cg(e.parent,t.parent))}function ds(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function WF(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ds(e,r,i);return ds(e,r)})}(e,t,n);return new ar(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ds(e,a)),s}}const r=function HF(e){return new Hi(new wn(e.url),new wn(e.params),new wn(e.queryParams),new wn(e.fragment),new wn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>ds(e,o));return new ar(r,i)}}const mg="ngNavigationCancelingError";function Wy(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=zr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Hy(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function Hy(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[mg]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Uy(e){return zy(e)&&zr(e.url)}function zy(e){return e&&e[mg]}class UF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gs,this.attachRef=null}}let gs=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new UF,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Dl=!1;let Ig=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=le(gs),this.location=le(yn),this.changeDetector=le($a),this.environmentInjector=le(Qn)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,Dl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,Dl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,Dl);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new _(4013,Dl);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new zF(n,a,i.injector);if(r&&function jF(e){return!!e.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(s);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=j({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jt]}),e})();class zF{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Hi?this.route:t===gs?this.childContexts:this.parent.get(t,n)}}let Ag=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=gn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Jm],decls:1,vars:0,template:function(n,r){1&n&&Ce(0,"router-outlet")},dependencies:[Ig],encapsulation:2}),e})();function jy(e,t){return e.providers&&!e._injector&&(e._injector=La(e.providers,t,`Route: ${e.path}`)),e._injector??t}function vg(e){const t=e.children&&e.children.map(vg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=Ag),n}function rn(e){return e.outlet||K}function Xy(e,t){const n=e.filter(r=>rn(r)===t);return n.push(...e.filter(r=>rn(r)!==t)),n}function hs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class JF{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),pg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Wi(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),gt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Wi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Wi(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=Wi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kF(o.value.snapshot))}),t.children.length&&this.forwardEvent(new FF(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(pg(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pg(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=hs(i.snapshot),l=a?.get(xo)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Yy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wl{constructor(t,n){this.component=t,this.route=n}}function QF(e,t,n){const r=e._root;return fs(r,t?t._root:null,n,[r.value])}function Ui(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Xb(e){return null!==Hs(e)}(e)?t.get(e):e:r}function fs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Wi(t);return e.children.forEach(s=>{(function e1(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function t1(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ur(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ur(e.url,t.url)||!Ln(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cg(e,t)||!Ln(e.queryParams,t.queryParams);default:return!Cg(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Yy(r)):(o.data=s.data,o._resolvedData=s._resolvedData),fs(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wl(a.outlet.component,s))}else s&&ps(t,a,i),i.canActivateChecks.push(new Yy(r)),fs(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),gt(o,(s,a)=>ps(s,n.getContext(a),i)),i}function ps(e,t,n){const r=Wi(e),i=e.value;gt(r,(o,s)=>{ps(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new wl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Cs(e){return"function"==typeof e}function bg(e){return e instanceof gl||"EmptyError"===e?.name}const _l=Symbol("INITIAL_VALUE");function zi(){return Gn(e=>uy(e.map(t=>t.pipe(rs(1),function Xx(...e){const t=so(e);return Ue((n,r)=>{(t?tg(e,n,t):tg(e,n)).subscribe(r)})}(_l)))).pipe(ne(t=>{for(const n of t)if(!0!==n){if(n===_l)return _l;if(!1===n||n instanceof Hr)return n}return!0}),Ar(t=>t!==_l),rs(1)))}function $y(e){return function Yl(...e){return He(e)}(It(t=>{if(zr(t))throw Wy(0,t)}),ne(t=>!0===t))}const Dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ky(e,t,n,r,i){const o=wg(e,t,n);return o.matched?function I1(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?B(i.map(s=>{const a=Ui(s,e);return br(function a1(e){return e&&Cs(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(zi(),$y()):B(!0)}(r=jy(t,r),t,n).pipe(ne(s=>!0===s?o:{...Dg})):B(o)}function wg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Dg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||qx)(n,e,t);if(!i)return{...Dg};const o={};gt(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Sl(e,t,n,r){if(n.length>0&&function v1(e,t,n){return n.some(r=>El(e,t,r)&&rn(r)!==K)}(e,n,r)){const o=new ie(t,function y1(e,t,n,r){const i={};i[K]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&rn(o)!==K){const s=new ie([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,i[rn(o)]=s}return i}(e,t,r,new ie(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function b1(e,t,n){return n.some(r=>El(e,t,r))}(e,n,r)){const o=new ie(e.segments,function A1(e,t,n,r,i){const o={};for(const s of r)if(El(e,n,s)&&!i[rn(s)]){const a=new ie([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,o[rn(s)]=a}return{...i,...o}}(e,t,n,r,e.children));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const i=new ie(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function El(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Jy(e,t,n,r){return!!(rn(e)===r||r!==K&&El(t,n,e))&&("**"===e.path||wg(t,e,n).matched)}function Qy(e,t,n){return 0===t.length&&!e.children[n]}const Ml=!1;class Rl{constructor(t){this.segmentGroup=t||null}}class qy{constructor(t){this.urlTree=t}}function ms(e){return ns(new Rl(e))}function ev(e){return ns(new qy(e))}class S1{constructor(t,n,r,i,o){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Sl(this.urlTree.root,[],[],this.config).segmentGroup,n=new ie(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,K).pipe(ne(o=>this.createUrlTree(yl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vr(o=>{if(o instanceof qy)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Rl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,K).pipe(ne(i=>this.createUrlTree(yl(i),t.queryParams,t.fragment))).pipe(vr(i=>{throw i instanceof Rl?this.noMatchError(i):i}))}noMatchError(t){return new _(4002,Ml)}createUrlTree(t,n,r){const i=ag(t);return new Hr(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(ne(o=>new ie([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Xe(i).pipe(Wr(o=>{const s=r.children[o],a=Xy(n,o);return this.expandSegmentGroup(t,a,s,o).pipe(ne(l=>({segment:l,outlet:o})))}),fy((o,s)=>(o[s.outlet]=s.segment,o),{}),py())}expandSegment(t,n,r,i,o,s){return Xe(r).pipe(Wr(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,o,s).pipe(vr(u=>{if(u instanceof Rl)return B(null);throw u}))),yr(a=>!!a),vr((a,l)=>{if(bg(a))return Qy(n,i,o)?B(new ie([],{})):ms(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,o,s,a){return Jy(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s):ms(n):ms(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ev(o):this.lineralizeSegments(r,o).pipe(lt(s=>{const a=new ie(s,{});return this.expandSegment(t,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=wg(n,i,o);if(!a)return ms(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?ev(d):this.lineralizeSegments(i,d).pipe(lt(g=>this.expandSegment(t,n,r,g.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){return"**"===r.path?(t=jy(r,t),r.loadChildren?(r._loadedRoutes?B({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(ne(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ie(i,{})))):B(new ie(i,{}))):Ky(n,r,i,t).pipe(Gn(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(lt(c=>{const d=c.injector??t,g=c.routes,{segmentGroup:f,slicedSegments:C}=Sl(n,a,l,g),m=new ie(f.segments,f.children);if(0===C.length&&m.hasChildren())return this.expandChildren(d,g,m).pipe(ne(y=>new ie(a,y)));if(0===g.length&&0===C.length)return B(new ie(a,{}));const A=rn(r)===o;return this.expandSegment(d,m,g,C,A?K:o,!0).pipe(ne(R=>new ie(a.concat(R.segments),R.children)))})):ms(n)))}getChildConfig(t,n,r){return n.children?B({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function m1(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(s=>{const a=Ui(s,e);return br(function r1(e){return e&&Cs(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(zi(),$y())}(t,n,r).pipe(lt(i=>i?this.configLoader.loadChildren(t,n).pipe(It(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function w1(e){return ns(Hy(Ml,3))}())):B({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[K])return ns(new _(4e3,Ml));i=i.children[K]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Hr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return gt(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return gt(n.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,r,i)}),new ie(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new _(4001,Ml);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class M1{}class N1{constructor(t,n,r,i,o,s,a){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const t=Sl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,K).pipe(ne(n=>{if(null===n)return null;const r=new bl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},K,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ar(r,n),o=new Ly(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const n=t.value,r=Gy(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return Xe(Object.keys(r.children)).pipe(Wr(i=>{const o=r.children[i],s=Xy(n,i);return this.processSegmentGroup(t,s,o,i)}),fy((i,o)=>i&&o?(i.push(...o),i):null),function Kx(e,t=!1){return Ue((n,r)=>{let i=0;n.subscribe(Be(r,o=>{const s=e(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),hl(null),py(),ne(i=>{if(null===i)return null;const o=nv(i);return function x1(e){e.sort((t,n)=>t.value.outlet===K?-1:n.value.outlet===K?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(t,n,r,i,o){return Xe(n).pipe(Wr(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),yr(s=>!!s),vr(s=>{if(bg(s))return Qy(r,i,o)?B([]):B(null);throw s}))}processSegmentAgainstRoute(t,n,r,i,o){if(n.redirectTo||!Jy(n,r,i,o))return B(null);let s;if("**"===n.path){const a=i.length>0?Iy(i).parameters:{},l=iv(r)+i.length;s=B({snapshot:new bl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ov(n),rn(n),n.component??n._loadedComponent??null,n,rv(r),l,sv(n)),consumedSegments:[],remainingSegments:[]})}else s=Ky(r,n,i,t).pipe(ne(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=iv(r)+l.length;return{snapshot:new bl(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ov(n),rn(n),n.component??n._loadedComponent??null,n,rv(r),d,sv(n)),consumedSegments:l,remainingSegments:u}}));return s.pipe(Gn(a=>{if(null===a)return B(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;t=n._injector??t;const d=n._loadedInjector??t,g=function F1(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:C}=Sl(r,u,c,g.filter(A=>void 0===A.redirectTo));if(0===C.length&&f.hasChildren())return this.processChildren(d,g,f).pipe(ne(A=>null===A?null:[new ar(l,A)]));if(0===g.length&&0===C.length)return B([new ar(l,[])]);const m=rn(n)===o;return this.processSegment(d,g,f,C,m?K:o).pipe(ne(A=>null===A?null:[new ar(l,A)]))}))}}function V1(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function nv(e){const t=[],n=new Set;for(const r of e){if(!V1(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=nv(r.children);t.push(new ar(r.value,i))}return t.filter(r=>!n.has(r))}function rv(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function iv(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function ov(e){return e.data||{}}function sv(e){return e.resolve||{}}function av(e){return"string"==typeof e.title||null===e.title}function _g(e){return Gn(t=>{const n=e(t);return n?Xe(n).pipe(ne(()=>t)):B(t)})}const ji=new V("ROUTES");let Sg=(()=>{class e{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=br(n.loadComponent()).pipe(ne(uv),It(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ig(()=>{this.componentLoaders.delete(n)})),i=new gy(r,()=>new un).pipe(ng());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ne(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=my(l.get(ji,[],L.Self|L.Optional)));return{routes:u.map(vg),injector:l}}),ig(()=>{this.childrenLoaders.delete(r)})),s=new gy(o,()=>new un).pipe(ng());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return br(n()).pipe(ne(uv),lt(i=>i instanceof $m||Array.isArray(i)?B(i):Xe(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)(O(mn),O(WI))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uv(e){return function H1(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Nl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new un,this.configLoader=le(Sg),this.environmentInjector=le(Qn),this.urlSerializer=le(ss),this.rootContexts=le(gs),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NF(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new TF(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new wn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cs,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ar(r=>0!==r.id),ne(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Gn(r=>{let i=!1,o=!1;return B(r).pipe(It(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gn(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new Fy(s.id,n.serializeUrl(r.rawUrl),c,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),En}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return cv(s.source)&&(n.browserUrlTree=s.extractedUrl),B(s).pipe(Gn(c=>{const d=this.transitions?.getValue();return this.events.next(new dg(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?En:Promise.resolve(c)}),function E1(e,t,n,r){return Gn(i=>function _1(e,t,n,r,i){return new S1(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(ne(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),It(c=>{this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},r.urlAfterRedirects=c.urlAfterRedirects}),function O1(e,t,n,r,i){return lt(o=>function T1(e,t,n,r,i,o,s="emptyOnly"){return new N1(e,t,n,r,i,s,o).recognize().pipe(Gn(a=>null===a?function R1(e){return new Se(t=>t.error(e))}(new M1):B(a)))}(e,t,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(ne(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),It(c=>{if(r.targetSnapshot=c.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const g=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(g,c)}n.browserUrlTree=c.urlAfterRedirects}const d=new _F(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:c,extractedUrl:d,source:g,restoredState:f,extras:C}=s,m=new dg(c,this.urlSerializer.serialize(d),g,f);this.events.next(m);const A=By(d,this.rootComponentType).snapshot;return B(r={...s,targetSnapshot:A,urlAfterRedirects:d,extras:{...C,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new Fy(s.id,n.serializeUrl(r.extractedUrl),c,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),En}}),It(s=>{const a=new SF(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ne(s=>r={...s,guards:QF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function u1(e,t){return lt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?B({...n,guardsResult:!0}):function c1(e,t,n,r){return Xe(e).pipe(lt(i=>function C1(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?B(o.map(a=>{const l=hs(t)??i,u=Ui(a,l);return br(function s1(e){return e&&Cs(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):l.runInContext(()=>u(e,t,n,r))).pipe(yr())})).pipe(zi()):B(!0)}(i.component,i.route,n,t,r)),yr(i=>!0!==i,!0))}(s,r,i,e).pipe(lt(a=>a&&function n1(e){return"boolean"==typeof e}(a)?function d1(e,t,n,r){return Xe(t).pipe(Wr(i=>tg(function h1(e,t){return null!==e&&t&&t(new xF(e)),B(!0)}(i.route.parent,r),function g1(e,t){return null!==e&&t&&t(new VF(e)),B(!0)}(i.route,r),function p1(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function qF(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>dy(()=>B(s.guards.map(l=>{const u=hs(s.node)??n,c=Ui(l,u);return br(function o1(e){return e&&Cs(e.canActivateChild)}(c)?c.canActivateChild(r,e):u.runInContext(()=>c(r,e))).pipe(yr())})).pipe(zi())));return B(o).pipe(zi())}(e,i.path,n),function f1(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(o=>dy(()=>{const s=hs(t)??n,a=Ui(o,s);return br(function i1(e){return e&&Cs(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(yr())}));return B(i).pipe(zi())}(e,i.route,n))),yr(i=>!0!==i,!0))}(r,o,e,t):B(a)),ne(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),It(s=>{if(r.guardsResult=s.guardsResult,zr(s.guardsResult))throw Wy(0,s.guardsResult);const a=new EF(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ar(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),_g(s=>{if(s.guards.canActivateChecks.length)return B(s).pipe(It(a=>{const l=new MF(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Gn(a=>{let l=!1;return B(a).pipe(function P1(e,t){return lt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let o=0;return Xe(i).pipe(Wr(s=>function B1(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!av(i)&&(o[is]=i.title),function G1(e,t,n,r){const i=function L1(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return B({});const o={};return Xe(i).pipe(lt(s=>function Z1(e,t,n,r){const i=hs(t)??r,o=Ui(e,i);return br(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(yr(),It(a=>{o[s]=a}))),rg(1),function Jx(e){return ne(()=>e)}(o),vr(s=>bg(s)?En:ns(s)))}(o,e,t,r).pipe(ne(s=>(e._resolvedData=s,e.data=Gy(e,n).resolve,i&&av(i)&&(e.data[is]=i.title),null)))}(s.route,r,e,t)),It(()=>o++),rg(1),lt(s=>o===i.length?B(n):En))})}(n.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),It(a=>{const l=new RF(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),_g(s=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(It(c=>{l.component=c}),ne(()=>{})));for(const c of l.children)u.push(...a(c));return u};return uy(a(s.targetSnapshot.root)).pipe(hl(),rs(1))}),_g(()=>this.afterPreactivation()),ne(s=>{const a=function ZF(e,t,n){const r=ds(e,t._root,n?n._root:void 0);return new Py(r,t)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),It(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((e,t,n)=>ne(r=>(new JF(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),It({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new jr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ig(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vr(s=>{if(o=!0,zy(s)){Uy(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new vl(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),Uy(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||cv(r.source)};n.scheduleNavigation(l,cs,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Vy(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(l){r.reject(l)}}return En}))}))}cancelNavigationTransition(n,r,i){const o=new vl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cv(e){return e!==cs}let dv=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===K);return r}getResolvedTitleForRoute(n){return n.data[is]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:function(){return le(U1)},providedIn:"root"}),e})(),U1=(()=>{class e extends dv{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(O(ry))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),z1=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:function(){return le(X1)},providedIn:"root"}),e})();class j1{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let X1=(()=>{class e extends j1{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=dt(e)))(r||e)}}(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xl=new V("",{providedIn:"root",factory:()=>({})});let $1=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:function(){return le(K1)},providedIn:"root"}),e})(),K1=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function J1(e){throw e}function Q1(e,t,n){return t.parse("/")}const q1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=le(bR),this.isNgZoneEnabled=!1,this.options=le(xl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||J1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Q1,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=le($1),this.routeReuseStrategy=le(z1),this.urlCreationStrategy=le(BF),this.titleStrategy=le(dv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=my(le(ji,{optional:!0})??[]),this.navigationTransitions=le(Nl),this.urlSerializer=le(ss),this.location=le(Rd),this.isNgZoneEnabled=le(Ke)instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=By(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),cs,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(vg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}return null!==c&&(c=this.removeEmptyProps(c)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=zr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,cs,null,r)}navigate(n,r={skipLocationChange:!1}){return function tV(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new _(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...q1}:!1===r?{...eV}:r,zr(n))return yy(this.currentUrlTree,n,i);const o=this.parseUrl(n);return yy(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u,c;return s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,g)=>{a=d,l=g}),c="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:c,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lr=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new un;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Pi(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Pi(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Pi(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function mp(e,t,n){return function vw(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Cp:pp}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(D(Xt),D(Hi),function ua(e){return function j0(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(sf(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(ct(),e)}("tabindex"),D(qn),D(zt),D(Zr))},e.\u0275dir=j({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&$e("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&kn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Jt]}),e})();class hv{}let iV=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ar(n=>n instanceof jr),Wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=La(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Xe(i).pipe(Jr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):B(null);const o=i.pipe(lt(s=>null===s?B(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Xe([o,this.loader.loadComponent(r)]).pipe(Jr()):o})}}return e.\u0275fac=function(n){return new(n||e)(O(Xt),O(WI),O(Qn),O(hv),O(Sg))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Eg=new V("");let fv=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof jr&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ky&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ky(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Yp(){throw new Error("invalid")}()},e.\u0275prov=W({token:e,factory:e.\u0275fac}),e})();function Xr(e,t){return{\u0275kind:e,\u0275providers:t}}function Cv(){const e=le(mn);return t=>{const n=e.get(Xa);if(t!==n.components[0])return;const r=e.get(Xt),i=e.get(mv);1===e.get(Rg)&&r.initialNavigation(),e.get(Iv,null,L.Optional)?.setUpPreloading(),e.get(Eg,null,L.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const mv=new V("",{factory:()=>new un}),Rg=new V("",{providedIn:"root",factory:()=>1});const Iv=new V("");function uV(e){return Xr(0,[{provide:Iv,useExisting:iV},{provide:hv,useExisting:e}])}const Av=new V("ROUTER_FORROOT_GUARD"),cV=[Rd,{provide:ss,useClass:og},Xt,gs,{provide:Hi,useFactory:function pv(e){return e.routerState.root},deps:[Xt]},Sg,[]];function dV(){return new $I("Router",Xt)}let Tg=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[cV,[],{provide:ji,multi:!0,useValue:n},{provide:Av,useFactory:pV,deps:[[Xt,new bo,new Do]]},{provide:xl,useValue:r||{}},r?.useHash?{provide:Zr,useClass:uT}:{provide:Zr,useClass:IA},{provide:Eg,useFactory:()=>{const e=le(TN),t=le(Ke),n=le(xl),r=le(Nl),i=le(ss);return n.scrollOffset&&e.setOffset(n.scrollOffset),new fv(i,r,e,t,n)}},r?.preloadingStrategy?uV(r.preloadingStrategy).\u0275providers:[],{provide:$I,multi:!0,useFactory:dV},r?.initialNavigation?CV(r):[],[{provide:yv,useFactory:Cv},{provide:ZI,multi:!0,useExisting:yv}]]}}static forChild(n){return{ngModule:e,providers:[{provide:ji,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(O(Av,8))},e.\u0275mod=Rn({type:e}),e.\u0275inj=cn({imports:[Ag]}),e})();function pV(e){return"guarded"}function CV(e){return["disabled"===e.initialNavigation?Xr(3,[{provide:Ua,multi:!0,useFactory:()=>{const t=le(Xt);return()=>{t.setUpLocationChangeListener()}}},{provide:Rg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Xr(2,[{provide:Rg,useValue:0},{provide:Ua,multi:!0,deps:[mn],useFactory:t=>{const n=t.get(aT,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const o=t.get(Xt),s=t.get(mv);(function r(i){t.get(Xt).events.pipe(Ar(s=>s instanceof jr||s instanceof vl||s instanceof Vy),ne(s=>s instanceof jr||s instanceof vl&&(0===s.code||1===s.code)&&null),Ar(s=>null!==s),rs(1)).subscribe(()=>{i()})})(()=>{i(!0)}),t.get(Nl).afterPreactivation=()=>(i(!0),s.closed?B(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const yv=new V("");var IV=on(428);let vv=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(D(qn),D(zt))},e.\u0275dir=j({type:e}),e})(),Yr=(()=>{class e extends vv{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=dt(e)))(r||e)}}(),e.\u0275dir=j({type:e,features:[me]}),e})();const Wn=new V("NgValueAccessor"),vV={provide:Wn,useExisting:De(()=>As),multi:!0},DV=new V("CompositionEventMode");let As=(()=>{class e extends vv{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bV(){const e=Bn()?Bn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(D(qn),D(zt),D(DV,8))},e.\u0275dir=j({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&$e("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Me([vV]),me]}),e})();function Dr(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Dv(e){return null!=e&&"number"==typeof e.length}const At=new V("NgValidators"),wr=new V("NgAsyncValidators"),_V=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fl{static min(t){return function wv(e){return t=>{if(Dr(t.value)||Dr(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function _v(e){return t=>{if(Dr(t.value)||Dr(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function Sv(e){return Dr(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Ev(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function Mv(e){return Dr(e.value)||_V.test(e.value)?null:{email:!0}}(t)}static minLength(t){return Rv(t)}static maxLength(t){return Tv(t)}static pattern(t){return function Nv(e){if(!e)return Vl;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Dr(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Pv(t)}static composeAsync(t){return Bv(t)}}function Rv(e){return t=>Dr(t.value)||!Dv(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function Tv(e){return t=>Dv(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Vl(e){return null}function xv(e){return null!=e}function Fv(e){return Bo(e)?Xe(e):e}function Vv(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function kv(e,t){return t.map(n=>n(e))}function Ov(e){return e.map(t=>function SV(e){return!e.validate}(t)?t:n=>t.validate(n))}function Pv(e){if(!e)return null;const t=e.filter(xv);return 0==t.length?null:function(n){return Vv(kv(n,t))}}function Ng(e){return null!=e?Pv(Ov(e)):null}function Bv(e){if(!e)return null;const t=e.filter(xv);return 0==t.length?null:function(n){return function AV(...e){const t=Ch(e),{args:n,keys:r}=sy(e),i=new Se(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;Yt(n[c]).subscribe(Be(o,g=>{d||(d=!0,u--),a[c]=g},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?ly(r,a):a),o.complete())}))}});return t?i.pipe(ay(t)):i}(kv(n,t).map(Fv)).pipe(ne(Vv))}}function xg(e){return null!=e?Bv(Ov(e)):null}function Gv(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Lv(e){return e._rawValidators}function Zv(e){return e._rawAsyncValidators}function Fg(e){return e?Array.isArray(e)?e:[e]:[]}function kl(e,t){return Array.isArray(e)?e.includes(t):e===t}function Wv(e,t){const n=Fg(t);return Fg(e).forEach(i=>{kl(n,i)||n.push(i)}),n}function Hv(e,t){return Fg(t).filter(n=>!kl(e,n))}class Uv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ng(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Et extends Uv{get formDirective(){return null}get path(){return null}}class _r extends Uv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zv{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vg=(()=>{class e extends zv{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(D(_r,2))},e.\u0275dir=j({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Va("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[me]}),e})(),kg=(()=>{class e extends zv{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(D(Et,10))},e.\u0275dir=j({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Va("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[me]}),e})();const ys="VALID",Pl="INVALID",Yi="PENDING",vs="DISABLED";function Gg(e){return(Bl(e)?e.validators:e)||null}function Lg(e,t){return(Bl(t)?t.asyncValidators:e)||null}function Bl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Xv(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new _(1e3,"");if(!r[n])throw new _(1001,"")}function Yv(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new _(1002,"")})}class Gl{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ys}get invalid(){return this.status===Pl}get pending(){return this.status==Yi}get disabled(){return this.status===vs}get enabled(){return this.status!==vs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Wv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Wv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Hv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Hv(t,this._rawAsyncValidators))}hasValidator(t){return kl(this._rawValidators,t)}hasAsyncValidator(t){return kl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Yi,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=vs,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ys,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ys||this.status===Yi)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vs:ys}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Yi,this._hasOwnPendingAsyncValidator=!0;const n=Fv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?vs:this.errors?Pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yi)?Yi:this._anyControlsHaveStatus(Pl)?Pl:ys}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function FV(e){return Array.isArray(e)?Ng(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function VV(e){return Array.isArray(e)?xg(e):e||null}(this._rawAsyncValidators)}}class bs extends Gl{constructor(t,n,r){super(Gg(n),Lg(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Yv(this,0,t),Object.keys(t).forEach(r=>{Xv(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class $v extends bs{}const Ds=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Zg}),Zg="always";function ws(e,t,n=Zg){Wg(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function OV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Kv(e,t)})}(e,t),function BV(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function PV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Kv(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function kV(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Zl(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Hl(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Wl(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Wg(e,t){const n=Lv(e);null!==t.validator?e.setValidators(Gv(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=Zv(e);null!==t.asyncValidator?e.setAsyncValidators(Gv(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Wl(t._rawValidators,i),Wl(t._rawAsyncValidators,i)}function Hl(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=Lv(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=Zv(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Wl(t._rawValidators,r),Wl(t._rawAsyncValidators,r),n}function Kv(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function qv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function eb(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Ss=class extends Gl{constructor(t=null,n,r){super(Gg(n),Lg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=eb(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){eb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Xg=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=j({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),sb=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Rn({type:e}),e.\u0275inj=cn({}),e})();const Yg=new V("NgModelWithFormControlWarning"),QV={provide:Et,useExisting:De(()=>Es)};let Es=(()=>{class e extends Et{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ke,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return ws(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Zl(n.control||null,n,!1),function WV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function Qv(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Zl(r||null,n),(e=>e instanceof Ss)(i)&&(ws(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function Jv(e,t){Wg(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function GV(e,t){return Hl(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wg(this.form,this),this._oldForm&&Hl(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(D(At,10),D(wr,10),D(Ds,8))},e.\u0275dir=j({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&$e("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([QV]),me,Jt]}),e})();const tk={provide:_r,useExisting:De(()=>Ul)};let Ul=(()=>{class e extends _r{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new ke,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function zg(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===As?n=o:function ZV(e){return Object.getPrototypeOf(e.constructor)===Yr}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function Ug(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Ll(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(D(Et,13),D(At,10),D(wr,10),D(Wn,10),D(Yg,8))},e.\u0275dir=j({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Me([tk]),me,Jt]}),e})();function hb(e){return"number"==typeof e?e:parseInt(e,10)}let $r=(()=>{class e{constructor(){this._validator=Vl}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=j({type:e,features:[Jt]}),e})();const hk={provide:At,useExisting:De(()=>eh),multi:!0};let eh=(()=>{class e extends $r{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>hb(n),this.createValidator=n=>Rv(n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=dt(e)))(r||e)}}(),e.\u0275dir=j({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&kn("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[Me([hk]),me]}),e})();const fk={provide:At,useExisting:De(()=>th),multi:!0};let th=(()=>{class e extends $r{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>hb(n),this.createValidator=n=>Tv(n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=dt(e)))(r||e)}}(),e.\u0275dir=j({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&kn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Me([fk]),me]}),e})(),Ck=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Rn({type:e}),e.\u0275inj=cn({imports:[sb]}),e})();class yb extends Gl{constructor(t,n,r){super(Gg(n),Lg(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){Yv(this,0,t),t.forEach((r,i)=>{Xv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function vb(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let nh=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return vb(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new bs(i,o)}record(n,r=null){const i=this._reduceControls(n);return new $v(i,r)}control(n,r,i){let o={};return this.useNonNullable?(vb(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ss(n,{...o,nonNullable:!0})):new Ss(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new yb(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Ss||n instanceof Gl?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mk=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Yg,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ds,useValue:n.callSetDisabledState??Zg}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Rn({type:e}),e.\u0275inj=cn({imports:[Ck]}),e})();const bb=new((0,IV.createSpeechlySpeechRecognition)("312e04fb-3901-469e-aea9-bebaa077678b"));class $i{constructor(t){this.formBuilder=t,this.searchBar=this.formBuilder.group({Search:""}),this.startTranscribing=()=>{this.searchBar.reset(),bb.start(),bb.onresult=({results:n})=>{const r=n[0][0].transcript;console.log(r),this.searchBar.value.Search=r,this.onClick()}}}onClick(){var t=this.searchBar.value.Search||"";this.searchBar.reset(),console.log(t),/SCIENCE/.test(t.toUpperCase())?window.location.assign("/science"):/TECHNOLOGY/.test(t.toUpperCase())?window.location.assign("/technology"):/ENGINEERING/.test(t.toUpperCase())?window.location.assign("/engineering"):/MATH/.test(t.toUpperCase())?window.location.assign("/math"):/STUDY/.test(t.toUpperCase())||/PLAYLIST/.test(t.toUpperCase())?window.location.assign("/study"):window.alert("Search result could not be found. Please enter a valid search.")}}$i.\u0275fac=function(t){return new(t||$i)(D(nh))},$i.\u0275cmp=gn({type:$i,selectors:[["app-home"]],decls:69,vars:1,consts:[[1,"topnav"],["href",""],["href","#resources-section"],["href","#about-section"],["id",""],[1,"page-title"],[1,"subtitle"],[1,"wrapper"],[3,"formGroup"],["src","data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDU2Ljk2NiA1Ni45NjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDU2Ljk2NiA1Ni45NjY7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4Ij4KPHBhdGggZD0iTTU1LjE0Niw1MS44ODdMNDEuNTg4LDM3Ljc4NmMzLjQ4Ni00LjE0NCw1LjM5Ni05LjM1OCw1LjM5Ni0xNC43ODZjMC0xMi42ODItMTAuMzE4LTIzLTIzLTIzcy0yMywxMC4zMTgtMjMsMjMgIHMxMC4zMTgsMjMsMjMsMjNjNC43NjEsMCw5LjI5OC0xLjQzNiwxMy4xNzctNC4xNjJsMTMuNjYxLDE0LjIwOGMwLjU3MSwwLjU5MywxLjMzOSwwLjkyLDIuMTYyLDAuOTIgIGMwLjc3OSwwLDEuNTE4LTAuMjk3LDIuMDc5LTAuODM3QzU2LjI1NSw1NC45ODIsNTYuMjkzLDUzLjA4LDU1LjE0Niw1MS44ODd6IE0yMy45ODQsNmM5LjM3NCwwLDE3LDcuNjI2LDE3LDE3cy03LjYyNiwxNy0xNywxNyAgcy0xNy03LjYyNi0xNy0xN1MxNC42MSw2LDIzLjk4NCw2eiIgZmlsbD0iIzAwMDAwMCIvPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K",1,"search-icon"],["id","mySearch","formControlName","Search","type","text","placeholder","Type or say a category to navigate to...",1,"search"],["type","click",1,"mic-button",3,"click"],["type","submit",1,"searchButton",3,"click"],[1,"buttons"],["routerLink","science",1,"scienceButton"],[1,"text"],["routerLink","technology",1,"techButton"],["routerLink","engineering",1,"engineeringButton"],["routerLink","math",1,"mathButton"],[1,"studysesh"],["routerLink","study",1,"studybutton"],["id","resources-section"],[1,"add-resources"],[1,"resource"],["href","https://www.lucidchart.com/blog/time-management-at-work","target","_blank",1,"tma"],[1,"tmButton"],["href","https://medium.com/hackguild/self-care-and-stem-students-taking-care-of-yourself-fb4413b3592","target","_blank",1,"sca"],[1,"scButton"],["href","https://cpassfoundation.org/managing-the-cram-mental-health-resources-for-stem-students/","target","_blank",1,"mha"],[1,"mhButton"],["routerLink","spotify",1,"spotifyButton"],[1,"banner"],["id","about-section"],[1,"about-stemhub"],[1,"about"]],template:function(t,n){1&t&&(x(0,"body")(1,"div",0)(2,"h3")(3,"a",1),k(4,"HOME "),F(),x(5,"a",2),k(6,"RESOURCES "),F(),x(7,"a",3),k(8,"ABOUT "),F(),Ce(9,"br"),F()(),Ce(10,"a",4),x(11,"h1",5),k(12,"STEM HUB"),F(),x(13,"p",6),k(14,"Bringing STEM back into perspective"),F(),x(15,"div",7)(16,"form",8),Ce(17,"img",9)(18,"input",10),x(19,"button",11),$e("click",function(){return n.startTranscribing()}),F(),x(20,"button",12),$e("click",function(){return n.onClick()}),k(21,"GO"),F()()(),x(22,"div",13)(23,"button",14)(24,"a",15),k(25," Science "),F()(),x(26,"button",16)(27,"a",15),k(28," Technology "),F()(),x(29,"button",17)(30,"a",15),k(31," Engineering "),F()(),x(32,"button",18)(33,"a",15),k(34," Math "),F()(),Ce(35,"br"),F(),x(36,"div",19)(37,"button",20),k(38," Start a Study Session "),F()(),Ce(39,"a",21),x(40,"h2",22),k(41,"Additional Resources"),F(),Ce(42,"div",23),x(43,"div",13)(44,"a",24)(45,"button",25)(46,"a",15),k(47," Time Management "),F()()(),x(48,"a",26)(49,"button",27)(50,"a",15),k(51," Self Care "),F()()(),x(52,"a",28)(53,"button",29)(54,"a",15),k(55," Mental Health "),F()()(),x(56,"button",30)(57,"a",15),k(58," Spotify "),F()(),Ce(59,"br"),F(),Ce(60,"div",31),x(61,"a",32)(62,"h2",33),k(63,"About Stem Hub"),F(),x(64,"div",34)(65,"h3"),k(66,"As four college students in STEM fields, we know the struggle of finding good resources to assist us with our rigorous curriculum. We also know how difficult it is to stay focused on accomplishing our many tasks. It does not help that STEM subjects have a notorious reputation for being \u2018boring\u2019 and \u2018too hard\u2019 and have even been referred to as \u2018overemphasized\u2019, dissuading many from pursuing or even entertaining the thought of a career in STEM. This is especially disheartening to members of marginalized communities, who might be the first in their families to attend college. Our mission is to provide an encouraging and uplifting space for STEM students to excel in their studies by providing important resources for health and well-being in addition to compiled resources for each STEM field. Pages for each field include notable figures to help students learn about people who have been tremendous assets in their particular disciplines and can serve as examples of success. Additionally, we have a study session feature where students can track their tasks, time study sessions and breaks, and curate study playlists. "),F()(),Ce(67,"br")(68,"br"),F()()),2&t&&(pr(16),Ti("formGroup",n.searchBar))},dependencies:[lr,Xg,As,Vg,kg,Es,Ul],styles:[".topnav[_ngcontent-%COMP%]{background-color:#0cc6c4;overflow:hidden;position:fixed;z-index:10;top:0;width:98%;margin-left:0 auto}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:center;color:#f2f2f2;font-weight:900;text-align:center;padding:10px 20px;text-decoration:none;font-size:20px;margin:10px}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#913bfb;margin:10px;border-radius:15px;background:-webkit-linear-gradient(blue,#913BFB);-webkit-bg-clip:background;-webkit-text-fill-color:white}p[_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;margin-top:0;font-size:20px}.mic-button[_ngcontent-%COMP%]{position:absolute;top:30%;left:85%;width:70px;height:50px;cursor:pointer;border-radius:5px;border:none;background:url(micro.9e89bb719e0651c3.png) no-repeat;font-weight:900;color:#fff;font-size:larger}form[_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;padding:6px;border-radius:50px;font-size:17px;width:90%;padding-left:45px!important}input[type=text][_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;border-radius:50px;font-size:17px;width:90%;padding:20px;padding-left:4%!important;border-style:solid}.searchButton[_ngcontent-%COMP%]{position:absolute;top:30%;left:90%;width:70px;height:50px;cursor:pointer;border-radius:5px;border:none;background-color:#0cc6c4;font-weight:900;color:#fff;font-size:larger}.searchButton[_ngcontent-%COMP%]:hover{border-style:solid;background-color:#fff;color:#0cc6c4}.search[_ngcontent-%COMP%]{margin-top:5%!important;margin:10%;border:5px #0CC6C4}.page-title[_ngcontent-%COMP%]{color:#913bfb;margin-top:30px;margin-left:20px;margin-bottom:0 auto;font-weight:900}.subtitle[_ngcontent-%COMP%]{margin-left:20px;margin-top:0 auto}.wrapper[_ngcontent-%COMP%]{position:relative;display:flex;min-width:100px;margin-bottom:0}.search-icon[_ngcontent-%COMP%]{position:absolute;top:36%;left:14%;width:14px}.scienceButton[_ngcontent-%COMP%]{background:url(biology.08d347f43401cd04.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none;margin-left:12%;margin-right:3%;opacity:1}.techButton[_ngcontent-%COMP%]{background:url(digital.07da597988a88362.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none;margin-left:3%;margin-right:3%}.engineeringButton[_ngcontent-%COMP%]{background:url(engineering.12131d1059a59e43.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none;margin-left:3%;margin-right:3%}.mathButton[_ngcontent-%COMP%]{background:url(calculating.191f8a0f724c37b3.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none;margin-left:3%;margin-right:12%}.scienceButton[_ngcontent-%COMP%]:hover, .techButton[_ngcontent-%COMP%]:hover, .engineeringButton[_ngcontent-%COMP%]:hover, .mathButton[_ngcontent-%COMP%]:hover{background:none;cursor:pointer;background:-webkit-linear-gradient(blue,#913BFB);-webkit-bg-clip:background;-webkit-text-fill-color:white}.text[_ngcontent-%COMP%]{width:180px;height:180px;opacity:0;color:#fff}.scienceButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%], .techButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%], .engineeringButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%], .mathButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1}.tmButton[_ngcontent-%COMP%]{background:url(clock.8a30c681a4b56814.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none}.tma[_ngcontent-%COMP%]{margin-left:12%;margin-right:3%}.tmButton[_ngcontent-%COMP%]:hover{background:none;cursor:pointer;background:-webkit-linear-gradient(blue,#913BFB);-webkit-bg-clip:background;-webkit-text-fill-color:white}.tmButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1}.scButton[_ngcontent-%COMP%]{background:url(face-treatment.eb1df76ed3cd280f.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none}.sca[_ngcontent-%COMP%]{margin-left:3%;margin-right:3%}.scButton[_ngcontent-%COMP%]:hover{background:none;cursor:pointer;background:-webkit-linear-gradient(blue,#913BFB);-webkit-bg-clip:background;-webkit-text-fill-color:white}.scButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1}.mhButton[_ngcontent-%COMP%]{background:url(mind.8d1401eddf06e310.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none}.mha[_ngcontent-%COMP%]{margin-left:3%;margin-right:3%}.mhButton[_ngcontent-%COMP%]:hover{background:none;cursor:pointer;background:-webkit-linear-gradient(blue,#913BFB);-webkit-bg-clip:background;-webkit-text-fill-color:white}.mhButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1}.studysesh[_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;margin-top:95px}.studybutton[_ngcontent-%COMP%]{width:500px;height:70px;border-radius:10px;border:none;color:#fff;font-size:larger;font-weight:900;background-color:#0cc6c4}.spotifyButton[_ngcontent-%COMP%]{background:url(spotify.f375cff52aafe6e2.png) no-repeat;background-position:center;font-size:large;font-weight:900;width:180px;height:180px;background-color:#fff;border-radius:10px;border:none;margin-left:3%;margin-right:12%}.spotifyButton[_ngcontent-%COMP%]:hover{background:none;cursor:pointer;background:-webkit-linear-gradient(blue,#913BFB);-webkit-bg-clip:background;-webkit-text-fill-color:white}.spotifyButton[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1}.studybutton[_ngcontent-%COMP%]:hover{border-style:solid;background-color:#fff;color:#0cc6c4;cursor:pointer}.buttons[_ngcontent-%COMP%]{float:top;display:flex;justify-content:center}h1[_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;font-size:65px;padding-top:80px;margin-bottom:0;background:-webkit-linear-gradient(blue,#913BFB);-webkit-background-clip:text;-webkit-text-fill-color:transparent}h3[_ngcontent-%COMP%]{font-weight:100;line-height:32px;font-size:22px;font-family:Lato,sans-serif}.about[_ngcontent-%COMP%]{width:85%;float:center;display:flex;justify-content:center;margin-left:3%;background-color:#0cc6c4;padding-left:40px;padding-right:40px}.about-stemhub[_ngcontent-%COMP%]{padding-top:100px;margin-left:3%;color:#913bfb}.add-resources[_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;margin-top:150px;font-size:40px;background:-webkit-linear-gradient(blue,#913BFB);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.resourcesbutton[_ngcontent-%COMP%]{width:500px;height:70px;border-radius:10px;border-style:solid;border-color:#0cc6c4;color:#913bfb;font-size:larger;font-weight:900;background-color:#fff}.resource[_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;margin-top:60px}.banner[_ngcontent-%COMP%]{background:url(grow-plant.1991ceb42637398f.png);height:170px;margin-top:100px}"]});class Ki{}Ki.\u0275fac=function(t){return new(t||Ki)},Ki.\u0275cmp=gn({type:Ki,selectors:[["app-resources"]],decls:4,vars:0,consts:[["routerLink","",1,"homebutton"]],template:function(t,n){1&t&&(x(0,"p"),k(1,"resources works!"),F(),x(2,"button",0),k(3," Home\n"),F())},dependencies:[lr]});class yk extends ge{constructor(t,n){super()}schedule(t,n=0){return this}}const zl={setInterval(e,t,...n){const{delegate:r}=zl;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=zl;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Db={now:()=>(Db.delegate||Date).now(),delegate:void 0};class Ms{constructor(t,n=Ms.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Ms.now=Db.now;const Dk=new class bk extends Ms{constructor(t,n=Ms.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class vk extends yk{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return zl.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&zl.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,We(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});function Sk(e,t){if(1&e){const n=function SC(){return b()}();x(0,"div",21),Ce(1,"input",22),k(2),x(3,"button",23),$e("click",function(){const o=function zh(e){return Y.lFrame.contextLView=e,e[8]}(n).$implicit;return function jh(e){return Y.lFrame.contextLView=null,e}(xC().deleteTask(o))}),k(4,"X"),F()()}if(2&e){const n=t.$implicit;pr(2),Lo(" ",n," ")}}class Ji{constructor(t,n){this.timerFormBuilder=t,this.taskFormBuilder=n,this.timeLeft=1800,this.timeFormatted="30:00",this.studyTime="30:00",this.studyMin="30",this.studySec="00",this.breakTime="05:00",this.breakMin="05",this.breakSec="00",this.safeTime="00",this.minutes="30",this.seconds="00",this.startorpause="Start",this.study=!0,this.tasks=[],this.TimerForm=this.timerFormBuilder.group({smin:["",Fl.required],ssec:["",Fl.required],bmin:["",Fl.required],bsec:["",Fl.required]}),this.TaskForm=this.taskFormBuilder.group({newTask:""})}onTaskSubmit(){let t=this.TaskForm.get("newTask")?.value;null!=t&&this.tasks.push(t),this.TaskForm.reset()}deleteTask(t){let n=this.tasks.indexOf(t);this.tasks.splice(n,1)}onTimerSubmit(){"INVALID"==this.TimerForm.status?window.alert("Please enter all fields before setting the timer."):(this.minutes=this.safeTime,this.seconds=this.safeTime,this.studyMin=this.TimerForm.get("smin")?.value??this.safeTime,this.studySec=this.TimerForm.get("ssec")?.value??this.safeTime,this.breakMin=this.TimerForm.get("bmin")?.value??this.safeTime,this.breakSec=this.TimerForm.get("bsec")?.value??this.safeTime,1==this.studyMin.length&&(this.studyMin="0"+this.studyMin),1==this.studySec.length&&(this.studySec="0"+this.studySec),1==this.breakMin.length&&(this.breakMin="0"+this.breakMin),1==this.breakSec.length&&(this.breakSec="0"+this.breakSec),this.studyTime=this.studyMin+":"+this.studySec,this.breakTime=this.breakMin+":"+this.breakSec,this.TimerForm.reset(),this.setStudy())}oberserableTimer(){(function _k(e=0,t,n=Dk){let r=-1;return null!=t&&(ph(t)?n=t:r=t),new Se(i=>{let o=function wk(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})})(1e3,2e3).subscribe(r=>{console.log(r,"-"),this.subscribeTimer=this.timeLeft-r})}startTimer(){this.startorpause="Pause",this.interval=setInterval(()=>{this.timeLeft>0?(this.timeLeft--,this.displayTime()):0==this.timeLeft&&(this.startorpause="Start",this.resetTimer())},1e3)}pauseTimer(){clearInterval(this.interval),this.startorpause="Play"}resetTimer(){clearInterval(this.interval),this.timeLeft=this.study?60*Number.parseInt(this.studyMin)+Number.parseInt(this.studySec):60*Number.parseInt(this.breakMin)+Number.parseInt(this.breakSec),this.displayTime()}timer(){"Start"==this.startorpause||"Play"==this.startorpause?this.startTimer():this.pauseTimer()}displayTime(){var t=this.timeLeft;t>=60&&(this.minutes=Math.floor(this.timeLeft/60).toString(),1==this.minutes.length&&(this.minutes="0"+this.minutes),t-=60*Number.parseInt(this.minutes)),this.seconds=t.toString(),1==this.seconds.length&&(this.seconds="0"+this.seconds),this.timeFormatted=this.minutes+":"+this.seconds,0===Number.parseInt(this.seconds)&&(this.minutes=(Number.parseInt(this.minutes)-1).toString(),1==this.minutes.length&&(this.minutes="0"+this.minutes))}setStudy(){this.study=!0,this.timeFormatted=this.studyTime,this.timeLeft=60*Number.parseInt(this.studyMin)+Number.parseInt(this.studySec),this.displayTime()}setBreak(){this.study=!1,this.timeFormatted=this.breakTime,this.timeLeft=60*Number.parseInt(this.breakMin)+Number.parseInt(this.breakSec),this.displayTime()}}Ji.\u0275fac=function(t){return new(t||Ji)(D(nh),D(nh))},Ji.\u0275cmp=gn({type:Ji,selectors:[["app-study"]],decls:47,vars:5,consts:[[1,"homebar"],["routerLink","",1,"homebutton"],["src","../assets/books.png",1,"books"],[1,"header"],[1,"tasklist"],[1,"taskBar"],[3,"formGroup","ngSubmit"],["formControlName","newTask","type","text",1,"taskTyper"],["type","submit",1,"addbtn"],["class","tasks",4,"ngFor","ngForOf"],[1,"timer"],[1,"timertype",3,"click"],["src","../assets/chronometer.png",1,"timerIcon"],[1,"timerText"],[1,"startstop",3,"click"],[1,"timerSettings"],["id","smin","type","text","formControlName","smin","minlength","1","maxlength","2",1,"timein"],["id","ssec","type","text","formControlName","ssec","minlength","1","maxlength","2",1,"timein"],["id","bmin","type","text","formControlName","bmin","minlength","1","maxlength","2",1,"timein"],["id","bsec","type","text","formControlName","bsec","minlength","1","maxlength","2",1,"timein"],["type","submit",1,"settingsbtn"],[1,"tasks"],["type","checkbox"],[1,"deletebtn",3,"click"]],template:function(t,n){1&t&&(x(0,"div",0)(1,"button",1),k(2,"\u2190 Return home"),F()(),Ce(3,"img",2),x(4,"div",3)(5,"h1"),k(6,"Study Session"),F()(),x(7,"div",4)(8,"h2"),k(9,"Tasks"),F(),x(10,"div",5)(11,"form",6),$e("ngSubmit",function(){return n.onTaskSubmit()}),Ce(12,"input",7),x(13,"button",8),k(14,"+"),F()()(),function wC(e,t,n,r,i,o,s,a){const l=b(),u=ue(),c=e+22,d=u.firstCreatePass?function yS(e,t,n,r,i,o,s,a,l){const u=t.consts,c=yi(t,e,4,s||null,hr(u,a));Mc(t,n,c,hr(u,l)),ta(t,c);const d=c.tViews=Ec(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,r,i,o,s):u.data[c];Nn(d,!1);const g=l[11].createComment("");pa(u,l,g,d),Ct(g,l),Sa(l,l[c]=iC(g,l,g,d)),Qs(d)&&_c(u,l,d),null!=s&&Sc(l,d,a)}(15,Sk,5,1,"div",9),F(),x(16,"div",10),Ce(17,"br"),x(18,"div")(19,"button",11),$e("click",function(){return n.setStudy()}),k(20,"Study Session"),F(),x(21,"button",11),$e("click",function(){return n.setBreak()}),k(22,"Take a Break"),F()(),Ce(23,"img",12),x(24,"b",13),k(25),F(),x(26,"div")(27,"button",14),$e("click",function(){return n.timer()}),k(28),F()()(),x(29,"div",15)(30,"form",6),$e("ngSubmit",function(){return n.onTimerSubmit()}),x(31,"h3"),k(32,"Settings"),F(),k(33," Study session length "),Ce(34,"input",16),k(35," : "),Ce(36,"input",17)(37,"br")(38,"br"),k(39," Study break length "),Ce(40,"input",18),k(41," : "),Ce(42,"input",19),x(43,"div"),Ce(44,"br"),x(45,"button",20),k(46,"Set timer settings"),F()()()()),2&t&&(pr(11),Ti("formGroup",n.TaskForm),pr(4),Ti("ngForOf",n.tasks),pr(10),Lo(" ",n.timeFormatted," "),pr(3),jc(n.startorpause),pr(2),Ti("formGroup",n.TimerForm))},dependencies:[NA,lr,Xg,As,Vg,kg,eh,th,Es,Ul],styles:["*[_ngcontent-%COMP%]{font-family:Mulish,sans-serif;overflow-y:hidden}.homebutton[_ngcontent-%COMP%]{position:absolute;left:88%;background-color:#f9f4ef;opacity:60%;border:hidden;border-radius:10px;width:150px;height:30px}.homebutton[_ngcontent-%COMP%]:hover{background-color:#f9f4ef;opacity:100%}.header[_ngcontent-%COMP%]{position:relative;padding-left:25px;margin-left:40px;max-width:75%;padding-bottom:10px}.tasklist[_ngcontent-%COMP%]{background-color:#f9f4ef;opacity:70%;border-radius:15px;position:absolute;font-size:small;max-width:45%;width:45%;padding-left:30px;top:12%;left:2%;height:500px}.taskBar[_ngcontent-%COMP%]{position:relative;border-spacing:5px}.taskTyper[_ngcontent-%COMP%]{width:50%;max-width:500px;padding-right:10px;border-width:0px;border-radius:10px}.tasks[_ngcontent-%COMP%]{padding-top:15px;font-size:medium}.addbtn[_ngcontent-%COMP%]{border-radius:30pt;border-width:0;background-color:#c1e8e7}.deletebtn[_ngcontent-%COMP%]{size:2px;border:none;font-size:x-small}.timertype[_ngcontent-%COMP%]{border-width:0px;background-color:#f9f4ef;opacity:70%;width:30%}.timertype[_ngcontent-%COMP%]:hover{background-color:#c1e8e7;opacity:20%}.startstop[_ngcontent-%COMP%]{border-width:0px;background-color:#f9f4ef;opacity:70%;width:40%;margin-bottom:15px}.startstop[_ngcontent-%COMP%]:hover{background-color:#c1e8e7;opacity:20%}input[type=checkbox][_ngcontent-%COMP%]{accent-color:#C1E8E7}.timer[_ngcontent-%COMP%]{position:relative;left:55%;max-width:40%;width:400px;align-content:center;text-align:center;margin-left:5%;background-color:#f9f4ef;border-radius:10px}.timerText[_ngcontent-%COMP%]{font-size:63pt;background-color:#f9f4ef;opacity:75%}.timerSettings[_ngcontent-%COMP%]{position:relative;margin-top:20px;max-width:45%;left:55%;margin-left:20px;margin-bottom:25px}.settingsbtn[_ngcontent-%COMP%]{background-color:#f9f4ef;opacity:60%;border:hidden;border-radius:10px;width:150px;height:30px}.settingsbtn[_ngcontent-%COMP%]:hover{background-color:#f9f4ef;opacity:100%}.timein[_ngcontent-%COMP%]{width:20px;text-align:center}.books[_ngcontent-%COMP%]{position:absolute;top:4%;left:2%;width:40px}.timerIcon[_ngcontent-%COMP%]{width:70px}"]});class Rs{}Rs.\u0275fac=function(t){return new(t||Rs)},Rs.\u0275cmp=gn({type:Rs,selectors:[["app-science"]],decls:4,vars:0,consts:[["routerLink","",1,"homeButton"]],template:function(t,n){1&t&&(x(0,"p"),k(1,"science works!"),F(),x(2,"button",0),k(3," Home\n"),F())},dependencies:[lr]});class Ts{}Ts.\u0275fac=function(t){return new(t||Ts)},Ts.\u0275cmp=gn({type:Ts,selectors:[["app-technology"]],decls:35,vars:0,consts:[[1,"topnav"],["href",""],["href","#resources-section"],["href","#about-section"],[1,"banner"],[1,"figures"],[1,"lovelace"],[1,"text"],[1,"resources"],["href","https://ocw.mit.edu/","target","_blank"],["href","https://www.coursera.org/","target","_blank"],["href","https://www.edx.org/","target","_blank"],["href","https://www.codecademy.com/learn","target","_blank"],["href","https://code.org/beyond/extended-learning","target","_blank"],["href","https://www.youtube.com/@programminghelporg/playlists","target","_blank"]],template:function(t,n){1&t&&(x(0,"body")(1,"div",0)(2,"h3")(3,"a",1),k(4,"HOME "),F(),x(5,"a",2),k(6,"RESOURCES "),F(),x(7,"a",3),k(8,"ABOUT "),F(),Ce(9,"br"),F()(),Ce(10,"div",4),x(11,"h1"),k(12,"TECHNOLOGY"),F(),x(13,"div",5)(14,"button",6)(15,"a",7),k(16,' "Ada Lovelace, in full Ada King, countess of Lovelace, original name Augusta Ada Byron, Lady Byron, (born December 10, 1815, Piccadilly Terrace, Middlesex [now in London], England\u2014died November 27, 1852, Marylebone, London), English mathematician, an associate of Charles Babbage, for whose prototype of a digital computer she created a program. She has been called the first computer programmer." - Encyclopedia Britannica '),F()()(),x(17,"div",8)(18,"a",9),k(19," MIT OpenCourseWare "),F(),Ce(20,"br"),x(21,"a",10),k(22," Coursera "),F(),Ce(23,"br"),x(24,"a",11),k(25," edX "),F(),Ce(26,"br"),x(27,"a",12),k(28," CodeAcademy "),F(),Ce(29,"br"),x(30,"a",13),k(31," CS Journeys Resources "),F(),Ce(32,"br"),x(33,"a",14),k(34," Programming Help Org "),F()()())},styles:['.topnav[_ngcontent-%COMP%]{background-color:#0cc6c4;overflow:hidden;position:fixed;z-index:10;top:0;width:98%;margin-left:0 auto}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:center;color:#f2f2f2;font-weight:900;text-align:center;padding:10px 20px;text-decoration:none;font-size:20px;margin:10px}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#913bfb;margin:10px;border-radius:15px;background:-webkit-linear-gradient(blue,#913BFB);-webkit-bg-clip:background;-webkit-text-fill-color:white}.banner[_ngcontent-%COMP%]{background:url(digital.07da597988a88362.png);height:170px;margin-top:100px}h1[_ngcontent-%COMP%]{float:center;display:flex;justify-content:center;font-size:65px;margin-bottom:40px;background:-webkit-linear-gradient(blue,#913BFB);-webkit-background-clip:text;-webkit-text-fill-color:transparent}button[_ngcontent-%COMP%]{width:400px;height:400px;border:none}.lovelace[_ngcontent-%COMP%]{background:url(lovelace.3fb798965d52bd10.jpeg)}button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{opacity:0}button[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1!important;font-size:20px;color:#fff;font-family:"lato" "sans-serif"}button[_ngcontent-%COMP%]:hover{cursor:pointer;background:url(lovelace_copy.7e5ba31824f48c59.png);transition:.6s}.figures[_ngcontent-%COMP%], .resources[_ngcontent-%COMP%]{width:50%;float:left;margin-top:40px}.resources[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{margin-top:10px}']});class Ns{}Ns.\u0275fac=function(t){return new(t||Ns)},Ns.\u0275cmp=gn({type:Ns,selectors:[["app-engineering"]],decls:4,vars:0,consts:[["routerLink","",1,"homebutton"]],template:function(t,n){1&t&&(x(0,"p"),k(1,"engineering works!"),F(),x(2,"button",0),k(3," Home\n"),F())},dependencies:[lr]});class xs{}xs.\u0275fac=function(t){return new(t||xs)},xs.\u0275cmp=gn({type:xs,selectors:[["app-math"]],decls:4,vars:0,consts:[["routerLink","",1,"homebutton"]],template:function(t,n){1&t&&(x(0,"p"),k(1,"math works!"),F(),x(2,"button",0),k(3," Home\n"),F())},dependencies:[lr]});const Ek=[{path:"",component:$i},{path:"study",component:Ji},{path:"resources",component:Ki},{path:"science",component:Rs},{path:"technology",component:Ts},{path:"engineering",component:Ns},{path:"math",component:xs}];class Qi{}Qi.\u0275fac=function(t){return new(t||Qi)},Qi.\u0275mod=Rn({type:Qi}),Qi.\u0275inj=cn({imports:[Tg.forRoot(Ek),Tg]});class Fs{constructor(){this.title="stemhub"}}Fs.\u0275fac=function(t){return new(t||Fs)},Fs.\u0275cmp=gn({type:Fs,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){1&t&&Ce(0,"router-outlet")},dependencies:[Ig]});class qi{}qi.\u0275fac=function(t){return new(t||qi)},qi.\u0275mod=Rn({type:qi,bootstrap:[Fs]}),qi.\u0275inj=cn({imports:[Mx,Qi,mk,Tg.forRoot([{path:"",component:$i},{path:"study",component:Ji},{path:"resources",component:Ki}])]}),Ex().bootstrapModule(qi).catch(e=>console.error(e))}},Sr=>{Sr(Sr.s=592)}]);